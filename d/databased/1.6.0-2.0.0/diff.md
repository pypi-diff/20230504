# Comparing `tmp/databased-1.6.0.tar.gz` & `tmp/databased-2.0.0.tar.gz`

## Comparing `databased-1.6.0.tar` & `databased-2.0.0.tar`

### file list

```diff
@@ -1,18 +1,18 @@
--rw-r--r--   0        0        0     4746 2020-02-02 00:00:00.000000 databased-1.6.0/CHANGELOG.md
--rw-r--r--   0        0        0    34888 2020-02-02 00:00:00.000000 databased-1.6.0/docs/databased.html
--rw-r--r--   0        0        0      140 2020-02-02 00:00:00.000000 databased-1.6.0/docs/index.html
--rw-r--r--   0        0        0    62622 2020-02-02 00:00:00.000000 databased-1.6.0/docs/search.js
--rw-r--r--   0        0        0    44853 2020-02-02 00:00:00.000000 databased-1.6.0/docs/databased/custom_manager.html
--rw-r--r--   0        0        0   410787 2020-02-02 00:00:00.000000 databased-1.6.0/docs/databased/databased.html
--rw-r--r--   0        0        0   299708 2020-02-02 00:00:00.000000 databased-1.6.0/docs/databased/dbmanager.html
--rw-r--r--   0        0        0   113279 2020-02-02 00:00:00.000000 databased-1.6.0/docs/databased/dbparsers.html
--rw-r--r--   0        0        0      129 2020-02-02 00:00:00.000000 databased-1.6.0/src/databased/__init__.py
--rw-r--r--   0        0        0      754 2020-02-02 00:00:00.000000 databased-1.6.0/src/databased/custom_manager.py
--rw-r--r--   0        0        0    21044 2020-02-02 00:00:00.000000 databased-1.6.0/src/databased/databased.py
--rw-r--r--   0        0        0    13285 2020-02-02 00:00:00.000000 databased-1.6.0/src/databased/dbmanager.py
--rw-r--r--   0        0        0     6192 2020-02-02 00:00:00.000000 databased-1.6.0/src/databased/dbparsers.py
--rw-r--r--   0        0        0       89 2020-02-02 00:00:00.000000 databased-1.6.0/.gitignore
--rw-r--r--   0        0        0     1086 2020-02-02 00:00:00.000000 databased-1.6.0/LICENSE.txt
--rw-r--r--   0        0        0     7374 2020-02-02 00:00:00.000000 databased-1.6.0/README.md
--rw-r--r--   0        0        0     1137 2020-02-02 00:00:00.000000 databased-1.6.0/pyproject.toml
--rw-r--r--   0        0        0     8061 2020-02-02 00:00:00.000000 databased-1.6.0/PKG-INFO
+-rw-r--r--   0        0        0     5628 2020-02-02 00:00:00.000000 databased-2.0.0/CHANGELOG.md
+-rw-r--r--   0        0        0    34874 2020-02-02 00:00:00.000000 databased-2.0.0/docs/databased.html
+-rw-r--r--   0        0        0      140 2020-02-02 00:00:00.000000 databased-2.0.0/docs/index.html
+-rw-r--r--   0        0        0    65282 2020-02-02 00:00:00.000000 databased-2.0.0/docs/search.js
+-rw-r--r--   0        0        0    44621 2020-02-02 00:00:00.000000 databased-2.0.0/docs/databased/customshell.html
+-rw-r--r--   0        0        0   430465 2020-02-02 00:00:00.000000 databased-2.0.0/docs/databased/databased.html
+-rw-r--r--   0        0        0   121748 2020-02-02 00:00:00.000000 databased-2.0.0/docs/databased/dbparsers.html
+-rw-r--r--   0        0        0   304581 2020-02-02 00:00:00.000000 databased-2.0.0/docs/databased/dbshell.html
+-rw-r--r--   0        0        0      125 2020-02-02 00:00:00.000000 databased-2.0.0/src/databased/__init__.py
+-rw-r--r--   0        0        0      740 2020-02-02 00:00:00.000000 databased-2.0.0/src/databased/customshell.py
+-rw-r--r--   0        0        0    22129 2020-02-02 00:00:00.000000 databased-2.0.0/src/databased/databased.py
+-rw-r--r--   0        0        0     6705 2020-02-02 00:00:00.000000 databased-2.0.0/src/databased/dbparsers.py
+-rw-r--r--   0        0        0    13626 2020-02-02 00:00:00.000000 databased-2.0.0/src/databased/dbshell.py
+-rw-r--r--   0        0        0       89 2020-02-02 00:00:00.000000 databased-2.0.0/.gitignore
+-rw-r--r--   0        0        0     1086 2020-02-02 00:00:00.000000 databased-2.0.0/LICENSE.txt
+-rw-r--r--   0        0        0     7480 2020-02-02 00:00:00.000000 databased-2.0.0/README.md
+-rw-r--r--   0        0        0     1133 2020-02-02 00:00:00.000000 databased-2.0.0/pyproject.toml
+-rw-r--r--   0        0        0     8166 2020-02-02 00:00:00.000000 databased-2.0.0/PKG-INFO
```

### Comparing `databased-1.6.0/CHANGELOG.md` & `databased-2.0.0/CHANGELOG.md`

 * *Files 13% similar despite different names*

```diff
@@ -1,21 +1,63 @@
 # Changelog
 
-## 1.5.1 (2023-05-02)
+## 1.7.0 (2023-05-04)
+
+#### New Features
+
+* add add_rows()
+* update() supports exact_match param
+* do_update prints number of updated rows
+* do_query prints number of affected rows
+#### Performance improvements
+
+* make counting rows optional for do_info()
+* do_add_row() prints addition success status
+* add_row() returns whether the addition was successful
+* delete() returns number of deleted rows via cursor.rowcount
+#### Refactorings
+
+* update() returns number of affected rows
+
+
+## v1.6.0 (2023-05-03)
+
+#### New Features
+
+* add do_scan_dbs()
+* add new column functionality to dbmanager
+#### Refactorings
+
+* change do_create_table to do_add_table in dbmanager for consistency
+#### Docs
+
+* update readme
+#### Others
+
+* build v1.6.0
+* update changelog
+
+
+## v1.5.1 (2023-05-02)
 
 #### Fixes
 
 * fix add_column() not updating existing rows to default value, if given
+* add missing semicolons to queries
 * fix data_to_string hanging in an infinite loop when current_width==terminal_width
 #### Refactorings
 
 * change do_find command to do_show
 #### Docs
 
 * update formatting and fix typos
+#### Others
+
+* build v1.5.1
+* update changelog
 
 
 ## v1.5.0 (2023-04-27)
 
 #### New Features
 
 * add do_add_row()
```

### Comparing `databased-1.6.0/docs/databased.html` & `databased-2.0.0/docs/databased.html`

 * *Files 2% similar despite different names*

```diff
@@ -20,18 +20,18 @@
 
             <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                    pattern=".+" required>
 
 
         <h2>Submodules</h2>
         <ul>
-                <li><a href="databased/custom_manager.html">custom_manager</a></li>
+                <li><a href="databased/customshell.html">customshell</a></li>
                 <li><a href="databased/databased.html">databased</a></li>
-                <li><a href="databased/dbmanager.html">dbmanager</a></li>
                 <li><a href="databased/dbparsers.html">dbparsers</a></li>
+                <li><a href="databased/dbshell.html">dbshell</a></li>
         </ul>
 
 
 
         <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
             built with <span class="visually-hidden">pdoc</span><img
                 alt="pdoc logo"
@@ -48,15 +48,15 @@
                         <input id="mod-databased-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 
                         <label class="view-source-button" for="mod-databased-view-source"><span>View Source</span></label>
 
                         <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">1</span></a><span class="kn">from</span> <span class="nn">databased</span> <span class="kn">import</span> <span class="n">dbparsers</span>
 </span><span id="L-2"><a href="#L-2"><span class="linenos">2</span></a>
 </span><span id="L-3"><a href="#L-3"><span class="linenos">3</span></a><span class="kn">from</span> <span class="nn">.databased</span> <span class="kn">import</span> <span class="n">DataBased</span><span class="p">,</span> <span class="n">_connect</span><span class="p">,</span> <span class="n">data_to_string</span>
-</span><span id="L-4"><a href="#L-4"><span class="linenos">4</span></a><span class="kn">from</span> <span class="nn">.dbmanager</span> <span class="kn">import</span> <span class="n">DBManager</span>
+</span><span id="L-4"><a href="#L-4"><span class="linenos">4</span></a><span class="kn">from</span> <span class="nn">.dbshell</span> <span class="kn">import</span> <span class="n">DBShell</span>
 </span></pre></div>
 
 
             </section>
     </main>
 <script>
     function escapeHTML(html) {
```

#### html2text {}

```diff
@@ -1,18 +1,18 @@
 
 
   ⁰
 [Unknown INPUT type]
 ***** Submodules *****
-    * custom_manager
+    * customshell
     * databased
-    * dbmanager
     * dbparsers
+    * dbshell
 built_with_pdoc[pdoc_logo]
 
 ****** databased ******
 ⁰ View Source
 1from databased import dbparsers
 2
 3from .databased import DataBased, _connect, data_to_string
-4from .dbmanager import DBManager
+4from .dbshell import DBShell
```

### Comparing `databased-1.6.0/docs/search.js` & `databased-2.0.0/docs/search.js`

 * *Files 7% similar despite different names*

#### js-beautify {}

```diff
@@ -684,25 +684,25 @@
     /** pdoc search index */
     const docs = [{
         "fullname": "databased",
         "modulename": "databased",
         "kind": "module",
         "doc": "<p></p>\n"
     }, {
-        "fullname": "databased.custom_manager",
-        "modulename": "databased.custom_manager",
+        "fullname": "databased.customshell",
+        "modulename": "databased.customshell",
         "kind": "module",
         "doc": "<p></p>\n"
     }, {
-        "fullname": "databased.custom_manager.CustomManager",
-        "modulename": "databased.custom_manager",
-        "qualname": "CustomManager",
+        "fullname": "databased.customshell.CustomShell",
+        "modulename": "databased.customshell",
+        "qualname": "CustomShell",
         "kind": "class",
         "doc": "<p>Subclass this to create custom ArgShells.</p>\n",
-        "bases": "databased.dbmanager.DBManager"
+        "bases": "databased.dbshell.DBShell"
     }, {
         "fullname": "databased.databased",
         "modulename": "databased.databased",
         "kind": "module",
         "doc": "<p></p>\n"
     }, {
         "fullname": "databased.databased.DataBased",
@@ -782,16 +782,24 @@
         "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">table</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">match_criteria</span><span class=\"p\">:</span> <span class=\"nb\">list</span><span class=\"p\">[</span><span class=\"nb\">tuple</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"nb\">dict</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">exact_match</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">int</span>:</span></span>",
         "funcdef": "def"
     }, {
         "fullname": "databased.databased.DataBased.add_row",
         "modulename": "databased.databased",
         "qualname": "DataBased.add_row",
         "kind": "function",
-        "doc": "<p>Add a row of values to a table.</p>\n\n<h4 id=\"params\">:params:</h4>\n\n<p><code>table</code>: The table to insert values into.</p>\n\n<p><code>values</code>: A tuple of values to be inserted into the table.</p>\n\n<p><code>columns</code>: If <code>None</code>, <code>values</code> is expected to supply a value for every column in the table.\nIf <code>columns</code> is provided, it should contain the same number of elements as <code>values</code>.</p>\n",
-        "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">table</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">values</span><span class=\"p\">:</span> <span class=\"nb\">tuple</span><span class=\"p\">[</span><span class=\"n\">typing</span><span class=\"o\">.</span><span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">columns</span><span class=\"p\">:</span> <span class=\"nb\">tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">):</span></span>",
+        "doc": "<p>Add a row of values to a table.</p>\n\n<p>Returns whether the addition was successful or not.</p>\n\n<h4 id=\"params\">:params:</h4>\n\n<p><code>table</code>: The table to insert values into.</p>\n\n<p><code>values</code>: A tuple of values to be inserted into the table.</p>\n\n<p><code>columns</code>: If <code>None</code>, <code>values</code> is expected to supply a value for every column in the table.\nIf <code>columns</code> is provided, it should contain the same number of elements as <code>values</code>.</p>\n",
+        "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">table</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">values</span><span class=\"p\">:</span> <span class=\"nb\">tuple</span><span class=\"p\">[</span><span class=\"n\">typing</span><span class=\"o\">.</span><span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">columns</span><span class=\"p\">:</span> <span class=\"nb\">tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">bool</span>:</span></span>",
+        "funcdef": "def"
+    }, {
+        "fullname": "databased.databased.DataBased.add_rows",
+        "modulename": "databased.databased",
+        "qualname": "DataBased.add_rows",
+        "kind": "function",
+        "doc": "<p>Add multiple rows of values to a table.</p>\n\n<p>Returns a tuple containing the number of successful additions and the number of failed additions.</p>\n\n<h4 id=\"params\">:params:</h4>\n\n<p><code>table</code>: The table to insert values into.</p>\n\n<p><code>values</code>: A list of tuples of values to be inserted into the table.\nEach tuple constitutes a single row to be inserted</p>\n\n<p><code>columns</code>: If <code>None</code>, <code>values</code> is expected to supply a value for every column in the table.\nIf <code>columns</code> is provided, it should contain the same number of elements as <code>values</code>.</p>\n",
+        "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">table</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">values</span><span class=\"p\">:</span> <span class=\"nb\">list</span><span class=\"p\">[</span><span class=\"nb\">tuple</span><span class=\"p\">[</span><span class=\"n\">typing</span><span class=\"o\">.</span><span class=\"n\">Any</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">columns</span><span class=\"p\">:</span> <span class=\"nb\">tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">tuple</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>",
         "funcdef": "def"
     }, {
         "fullname": "databased.databased.DataBased.get_rows",
         "modulename": "databased.databased",
         "qualname": "DataBased.get_rows",
         "kind": "function",
         "doc": "<p>Return matching rows from <code>table</code>.</p>\n\n<p>By default, rows will be returned as a list of dictionaries of the form <code>[{\"column_name\": value, ...}, ...]</code></p>\n\n<h4 id=\"params\">:params:</h4>\n\n<p><code>match_criteria</code>: Can be a list of 2-tuples where each\ntuple is <code>(columnName, rowValue)</code> or a dictionary where\nkeys are column names and values are row values.</p>\n\n<p><code>exact_match</code>: If <code>False</code>, the row value for a given column will be matched as a substring.</p>\n\n<p><code>sort_by_column</code>: A column name to sort the results by.\nThis will sort results in Python after retrieving them from the db.\nUse the 'order_by' param to use SQLite engine for ordering.</p>\n\n<p><code>columns_to_return</code>: Optional list of column names.\nIf provided, the elements returned by this function will only contain the provided columns.\nOtherwise every column in the row is returned.</p>\n\n<p><code>return_as_dataframe</code>: Return the results as a <code>pandas.DataFrame</code> object.</p>\n\n<p><code>values_only</code>: Return the results as a list of tuples.</p>\n\n<p><code>order_by</code>: If given, a <code>order by {order_by}</code> clause will be added to the select query.</p>\n\n<p><code>limit</code>: If given, a <code>limit {limit}</code> clause will be added to the select query.</p>\n",
@@ -814,16 +822,16 @@
         "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">table</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">match_criteria</span><span class=\"p\">:</span> <span class=\"nb\">list</span><span class=\"p\">[</span><span class=\"nb\">tuple</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"nb\">dict</span>,</span><span class=\"param\">\t<span class=\"n\">exact_match</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">int</span>:</span></span>",
         "funcdef": "def"
     }, {
         "fullname": "databased.databased.DataBased.update",
         "modulename": "databased.databased",
         "qualname": "DataBased.update",
         "kind": "function",
-        "doc": "<p>Update the value in <code>column_to_update</code> to <code>new_value</code> for rows matched with <code>match_criteria</code>.</p>\n\n<h4 id=\"params\">:params:</h4>\n\n<p><code>table</code>: The table to update rows in.</p>\n\n<p><code>column_to_update</code>: The column to be updated in the matched rows.</p>\n\n<p><code>new_value</code>: The new value to insert.</p>\n\n<p><code>match_criteria</code>: Can be a list of 2-tuples where each tuple is <code>(columnName, rowValue)</code>\nor a dictionary where keys are column names and values are corresponding values.\nIf <code>None</code>, every row in <code>table</code> will be updated.</p>\n\n<p>Returns <code>True</code> if successful, <code>False</code> if not.</p>\n",
-        "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">table</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">column_to_update</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">new_value</span><span class=\"p\">:</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"n\">match_criteria</span><span class=\"p\">:</span> <span class=\"nb\">list</span><span class=\"p\">[</span><span class=\"nb\">tuple</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"nb\">dict</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">bool</span>:</span></span>",
+        "doc": "<p>Update the value in <code>column_to_update</code> to <code>new_value</code> for rows matched with <code>match_criteria</code>.</p>\n\n<h4 id=\"params\">:params:</h4>\n\n<p><code>table</code>: The table to update rows in.</p>\n\n<p><code>column_to_update</code>: The column to be updated in the matched rows.</p>\n\n<p><code>new_value</code>: The new value to insert.</p>\n\n<p><code>match_criteria</code>: Can be a list of 2-tuples where each tuple is <code>(columnName, rowValue)</code>\nor a dictionary where keys are column names and values are corresponding values.\nIf <code>None</code>, every row in <code>table</code> will be updated.</p>\n\n<p><code>exact_match</code>: If <code>False</code>, <code>match_criteria</code> values will be treated as substrings.</p>\n\n<p>Returns the number of updated rows.</p>\n",
+        "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">table</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">column_to_update</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">new_value</span><span class=\"p\">:</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"n\">match_criteria</span><span class=\"p\">:</span> <span class=\"nb\">list</span><span class=\"p\">[</span><span class=\"nb\">tuple</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"nb\">dict</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">exact_match</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">int</span>:</span></span>",
         "funcdef": "def"
     }, {
         "fullname": "databased.databased.DataBased.drop_table",
         "modulename": "databased.databased",
         "qualname": "DataBased.drop_table",
         "kind": "function",
         "doc": "<p>Drop <code>table</code> from the database.</p>\n\n<p>Returns <code>True</code> if successful, <code>False</code> if not.</p>\n",
@@ -850,254 +858,262 @@
         "modulename": "databased.databased",
         "qualname": "data_to_string",
         "kind": "function",
         "doc": "<p>Uses tabulate to produce pretty string output from a list of dictionaries.</p>\n\n<h4 id=\"params\">:params:</h4>\n\n<p><code>data</code>: The list of dictionaries to create a grid from.\nAssumes all dictionaries in list have the same set of keys.</p>\n\n<p><code>sort_key</code>: Optional dictionary key to sort data with.</p>\n\n<p><code>wrap_to_terminal</code>: If <code>True</code>, the table width will be wrapped to fit within the current terminal window.\nPass as <code>False</code> if the output is going into something like a <code>.txt</code> file.</p>\n",
         "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"nb\">list</span><span class=\"p\">[</span><span class=\"nb\">dict</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">sort_key</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">wrap_to_terminal</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">str</span>:</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager",
-        "modulename": "databased.dbmanager",
+        "fullname": "databased.dbparsers",
+        "modulename": "databased.dbparsers",
         "kind": "module",
         "doc": "<p></p>\n"
     }, {
-        "fullname": "databased.dbmanager.DBManager",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager",
+        "fullname": "databased.dbparsers.get_info_parser",
+        "modulename": "databased.dbparsers",
+        "qualname": "get_info_parser",
+        "kind": "function",
+        "doc": "<p>Returns info parser.</p>\n",
+        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
+        "funcdef": "def"
+    }, {
+        "fullname": "databased.dbparsers.get_create_table_parser",
+        "modulename": "databased.dbparsers",
+        "qualname": "get_create_table_parser",
+        "kind": "function",
+        "doc": "<p>Returns a parser for adding a table to the database.</p>\n",
+        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">add_help</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
+        "funcdef": "def"
+    }, {
+        "fullname": "databased.dbparsers.get_add_row_parser",
+        "modulename": "databased.dbparsers",
+        "qualname": "get_add_row_parser",
+        "kind": "function",
+        "doc": "<p>Returns a parser for adding a row to a table.</p>\n",
+        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
+        "funcdef": "def"
+    }, {
+        "fullname": "databased.dbparsers.get_search_parser",
+        "modulename": "databased.dbparsers",
+        "qualname": "get_search_parser",
+        "kind": "function",
+        "doc": "<p>Returns a search parser.</p>\n",
+        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
+        "funcdef": "def"
+    }, {
+        "fullname": "databased.dbparsers.get_lookup_parser",
+        "modulename": "databased.dbparsers",
+        "qualname": "get_lookup_parser",
+        "kind": "function",
+        "doc": "<p>Returns a parser for row lookup functions.</p>\n",
+        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
+        "funcdef": "def"
+    }, {
+        "fullname": "databased.dbparsers.get_update_parser",
+        "modulename": "databased.dbparsers",
+        "qualname": "get_update_parser",
+        "kind": "function",
+        "doc": "<p>Returns a parser for update function.</p>\n",
+        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
+        "funcdef": "def"
+    }, {
+        "fullname": "databased.dbparsers.get_add_column_parser",
+        "modulename": "databased.dbparsers",
+        "qualname": "get_add_column_parser",
+        "kind": "function",
+        "doc": "<p>Returns a parser for the add column function.</p>\n",
+        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
+        "funcdef": "def"
+    }, {
+        "fullname": "databased.dbparsers.convert_match_pairs",
+        "modulename": "databased.dbparsers",
+        "qualname": "convert_match_pairs",
+        "kind": "function",
+        "doc": "<p>Create a list of tuples from match_pairs.</p>\n",
+        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span>:</span></span>",
+        "funcdef": "def"
+    }, {
+        "fullname": "databased.dbparsers.verify_matching_length",
+        "modulename": "databased.dbparsers",
+        "qualname": "verify_matching_length",
+        "kind": "function",
+        "doc": "<p>Raise an error if -c/--columns is greater than zero and has\na different number of elements than -v/--values.</p>\n",
+        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span>:</span></span>",
+        "funcdef": "def"
+    }, {
+        "fullname": "databased.dbshell",
+        "modulename": "databased.dbshell",
+        "kind": "module",
+        "doc": "<p></p>\n"
+    }, {
+        "fullname": "databased.dbshell.DBShell",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell",
         "kind": "class",
         "doc": "<p>Subclass this to create custom ArgShells.</p>\n",
         "bases": "argshell.argshell.ArgShell"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_use_db",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_use_db",
+        "fullname": "databased.dbshell.DBShell.do_use_db",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_use_db",
         "kind": "function",
         "doc": "<p>Set which database file to use.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">arg</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_dbpath",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_dbpath",
+        "fullname": "databased.dbshell.DBShell.do_dbpath",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_dbpath",
         "kind": "function",
         "doc": "<p>Print the .db file in use.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">arg</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_backup",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_backup",
+        "fullname": "databased.dbshell.DBShell.do_backup",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_backup",
         "kind": "function",
         "doc": "<p>Create a backup of the current db file.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">arg</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_size",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_size",
+        "fullname": "databased.dbshell.DBShell.do_size",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_size",
         "kind": "function",
         "doc": "<p>Display the size of the the current db file.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">arg</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_add_table",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_add_table",
+        "fullname": "databased.dbshell.DBShell.do_add_table",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_add_table",
         "kind": "function",
         "doc": "<p>Add a new table to the database.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_drop_table",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_drop_table",
+        "fullname": "databased.dbshell.DBShell.do_drop_table",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_drop_table",
         "kind": "function",
         "doc": "<p>Drop the specified table.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">arg</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_add_row",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_add_row",
+        "fullname": "databased.dbshell.DBShell.do_add_row",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_add_row",
         "kind": "function",
         "doc": "<p>Add a row to a table.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_info",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_info",
+        "fullname": "databased.dbshell.DBShell.do_info",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_info",
         "kind": "function",
-        "doc": "<p>Print out the names of the database tables, their columns, and the number of rows.\nPass a space-separated list of table names to only print info for those specific tables,\notherwise all tables will be printed.</p>\n",
-        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">arg</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>",
+        "doc": "<p>Print out the names of the database tables, their columns, and, optionally, the number of rows.</p>\n",
+        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_show",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_show",
+        "fullname": "databased.dbshell.DBShell.do_show",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_show",
         "kind": "function",
         "doc": "<p>Find and print rows from the database.\nUse the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit the search.\nUse the -c/--columns flag to limit what columns are printed.\nUse the -o/--order_by flag to order the results.\nUse the -p/--partial_matching flag to enable substring matching on -m/--match_pairs\nPass -h/--help flag for parser help.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_search",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_search",
+        "fullname": "databased.dbshell.DBShell.do_search",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_search",
         "kind": "function",
         "doc": "<p>Search and return any rows containg the searched substring in any of its columns.\nUse the -t/--tables flag to limit the search to a specific table(s).\nUse the -c/--columns flag to limit the search to a specific column(s).</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_count",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_count",
+        "fullname": "databased.dbshell.DBShell.do_count",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_count",
         "kind": "function",
         "doc": "<p>Print the number of rows in the database.\nUse the -t/--tables flag to limit results to a specific table(s).\nUse the -m/--match_pairs flag to limit the results to rows matching these criteria.\nUse the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.\nPass -h/--help flag for parser help.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_query",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_query",
+        "fullname": "databased.dbshell.DBShell.do_query",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_query",
         "kind": "function",
         "doc": "<p>Execute a query against the current database.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">arg</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_update",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_update",
+        "fullname": "databased.dbshell.DBShell.do_update",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_update",
         "kind": "function",
-        "doc": "<p>Update a column to a new value.\nTwo required args: the column (-c/--column) to update and the value (-v/--value) to update to.\nUse the -t/--tables flag to limit what tables are updated.\nUse the -m/--match_pairs flag to specify which rows are updated.</p>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">based</span><span class=\"o\">&gt;</span><span class=\"n\">update</span> <span class=\"o\">-</span><span class=\"n\">c</span> <span class=\"n\">username</span> <span class=\"o\">-</span><span class=\"n\">v</span> <span class=\"n\">big_chungus</span> <span class=\"o\">-</span><span class=\"n\">t</span> <span class=\"n\">users</span> <span class=\"o\">-</span><span class=\"n\">m</span> <span class=\"n\">username</span> <span class=\"n\">lil_chungus</span>\n</code></pre>\n</div>\n\n<p>^will update the username in the users 'table' to 'big_chungus' where the username is currently 'lil_chungus'^</p>\n",
+        "doc": "<p>Update a column to a new value.\nTwo required args: the column (-c/--column) to update and the value (-v/--value) to update to.\nUse the -t/--tables flag to limit what tables are updated.\nUse the -m/--match_pairs flag to specify which rows are updated.\nUse the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</p>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">based</span><span class=\"o\">&gt;</span><span class=\"n\">update</span> <span class=\"o\">-</span><span class=\"n\">c</span> <span class=\"n\">username</span> <span class=\"o\">-</span><span class=\"n\">v</span> <span class=\"n\">big_chungus</span> <span class=\"o\">-</span><span class=\"n\">t</span> <span class=\"n\">users</span> <span class=\"o\">-</span><span class=\"n\">m</span> <span class=\"n\">username</span> <span class=\"n\">lil_chungus</span>\n</code></pre>\n</div>\n\n<p>^will update the username in the users 'table' to 'big_chungus' where the username is currently 'lil_chungus'^</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_delete",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_delete",
+        "fullname": "databased.dbshell.DBShell.do_delete",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_delete",
         "kind": "function",
         "doc": "<p>Delete rows from the database.\nUse the -t/--tables flag to limit what tables rows are deleted from.\nUse the -m/--match_pairs flag to specify which rows are deleted.\nUse the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</p>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">based</span><span class=\"o\">&gt;</span><span class=\"n\">delete</span> <span class=\"o\">-</span><span class=\"n\">t</span> <span class=\"n\">users</span> <span class=\"o\">-</span><span class=\"n\">m</span> <span class=\"n\">username</span> <span class=\"n\">chungus</span> <span class=\"o\">-</span><span class=\"n\">p</span>\n</code></pre>\n</div>\n\n<p>^will delete all rows in the 'users' table whose username contains 'chungus'^</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_add_column",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_add_column",
+        "fullname": "databased.dbshell.DBShell.do_add_column",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_add_column",
         "kind": "function",
         "doc": "<p>Add a new column to the specified tables.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_flush_log",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_flush_log",
+        "fullname": "databased.dbshell.DBShell.do_flush_log",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_flush_log",
         "kind": "function",
         "doc": "<p>Clear the log file for this database.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">arg</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_scan_dbs",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_scan_dbs",
+        "fullname": "databased.dbshell.DBShell.do_scan_dbs",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_scan_dbs",
         "kind": "function",
         "doc": "<p>Scan the current working directory for <code>*.db</code> files and display them.</p>\n\n<p>If the command is entered as <code>based&gt;scan_dbs r</code>, the scan will be performed recursively.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">arg</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.do_customize",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.do_customize",
+        "fullname": "databased.dbshell.DBShell.do_customize",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.do_customize",
         "kind": "function",
-        "doc": "<p>Generate a template file in the current working directory for creating a custom DBManager class.\nExpects one argument: the name of the custom dbmanager.\nThis will be used to name the generated file as well as several components in the file content.</p>\n",
+        "doc": "<p>Generate a template file in the current working directory for creating a custom DBShell class.\nExpects one argument: the name of the custom dbshell.\nThis will be used to name the generated file as well as several components in the file content.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">arg</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.DBManager.preloop",
-        "modulename": "databased.dbmanager",
-        "qualname": "DBManager.preloop",
+        "fullname": "databased.dbshell.DBShell.preloop",
+        "modulename": "databased.dbshell",
+        "qualname": "DBShell.preloop",
         "kind": "function",
         "doc": "<p>Scan the current directory for a .db file to use.\nIf not found, prompt the user for one or to try again recursively.</p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
     }, {
-        "fullname": "databased.dbmanager.main",
-        "modulename": "databased.dbmanager",
+        "fullname": "databased.dbshell.main",
+        "modulename": "databased.dbshell",
         "qualname": "main",
         "kind": "function",
         "doc": "<p></p>\n",
         "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">):</span></span>",
         "funcdef": "def"
-    }, {
-        "fullname": "databased.dbparsers",
-        "modulename": "databased.dbparsers",
-        "kind": "module",
-        "doc": "<p></p>\n"
-    }, {
-        "fullname": "databased.dbparsers.get_create_table_parser",
-        "modulename": "databased.dbparsers",
-        "qualname": "get_create_table_parser",
-        "kind": "function",
-        "doc": "<p>Returns a parser for adding a table to the database.</p>\n",
-        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">add_help</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
-        "funcdef": "def"
-    }, {
-        "fullname": "databased.dbparsers.get_add_row_parser",
-        "modulename": "databased.dbparsers",
-        "qualname": "get_add_row_parser",
-        "kind": "function",
-        "doc": "<p>Returns a parser for adding a row to a table.</p>\n",
-        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
-        "funcdef": "def"
-    }, {
-        "fullname": "databased.dbparsers.get_search_parser",
-        "modulename": "databased.dbparsers",
-        "qualname": "get_search_parser",
-        "kind": "function",
-        "doc": "<p>Returns a search parser.</p>\n",
-        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
-        "funcdef": "def"
-    }, {
-        "fullname": "databased.dbparsers.get_lookup_parser",
-        "modulename": "databased.dbparsers",
-        "qualname": "get_lookup_parser",
-        "kind": "function",
-        "doc": "<p>Returns a parser for row lookup functions.</p>\n",
-        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
-        "funcdef": "def"
-    }, {
-        "fullname": "databased.dbparsers.get_update_parser",
-        "modulename": "databased.dbparsers",
-        "qualname": "get_update_parser",
-        "kind": "function",
-        "doc": "<p>Returns a parser for update function.</p>\n",
-        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
-        "funcdef": "def"
-    }, {
-        "fullname": "databased.dbparsers.get_add_column_parser",
-        "modulename": "databased.dbparsers",
-        "qualname": "get_add_column_parser",
-        "kind": "function",
-        "doc": "<p>Returns a parser for the add column function.</p>\n",
-        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">ArgShellParser</span>:</span></span>",
-        "funcdef": "def"
-    }, {
-        "fullname": "databased.dbparsers.convert_match_pairs",
-        "modulename": "databased.dbparsers",
-        "qualname": "convert_match_pairs",
-        "kind": "function",
-        "doc": "<p>Create a list of tuples from match_pairs.</p>\n",
-        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span>:</span></span>",
-        "funcdef": "def"
-    }, {
-        "fullname": "databased.dbparsers.verify_matching_length",
-        "modulename": "databased.dbparsers",
-        "qualname": "verify_matching_length",
-        "kind": "function",
-        "doc": "<p>Raise an error if -c/--columns is greater than zero and has\na different number of elements than -v/--values.</p>\n",
-        "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span></span><span class=\"return-annotation\">) -> <span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">argshell</span><span class=\"o\">.</span><span class=\"n\">Namespace</span>:</span></span>",
-        "funcdef": "def"
     }];
 
     // mirrored in build-search-index.js (part 1)
     // Also split on html tags. this is a cheap heuristic, but good enough.
     elasticlunr.tokenizer.setSeperator(/[\s\-.;&_'"=,()]+|<[^>]*>/);
 
     let searchIndex;
```

### Comparing `databased-1.6.0/docs/databased/custom_manager.html` & `databased-2.0.0/docs/databased/customshell.html`

 * *Files 8% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 <!doctype html>
 <html lang="en">
 <head>
     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">
     <meta name="generator" content="pdoc 12.3.1"/>
-    <title>databased.custom_manager API documentation</title>
+    <title>databased.customshell API documentation</title>
 
     <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
     <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
     <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
     <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
     <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
     <style>/*! custom.css */</style></head>
@@ -27,15 +27,15 @@
                    pattern=".+" required>
 
 
 
         <h2>API Documentation</h2>
             <ul class="memberlist">
             <li>
-                    <a class="class" href="#CustomManager">CustomManager</a>
+                    <a class="class" href="#CustomShell">CustomShell</a>
                             <ul class="memberlist">
                 </ul>
 
             </li>
     </ul>
 
 
@@ -46,116 +46,116 @@
                 src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
         </a>
 </div>
     </nav>
     <main class="pdoc">
             <section class="module-info">
                     <h1 class="modulename">
-<a href="./../databased.html">databased</a><wbr>.custom_manager    </h1>
+<a href="./../databased.html">databased</a><wbr>.customshell    </h1>
 
                 
-                        <input id="mod-custom_manager-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                        <input id="mod-customshell-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 
-                        <label class="view-source-button" for="mod-custom_manager-view-source"><span>View Source</span></label>
+                        <label class="view-source-button" for="mod-customshell-view-source"><span>View Source</span></label>
 
                         <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="kn">from</span> <span class="nn">argshell</span> <span class="kn">import</span> <span class="n">ArgShellParser</span><span class="p">,</span> <span class="n">Namespace</span><span class="p">,</span> <span class="n">with_parser</span>
 </span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a><span class="kn">from</span> <span class="nn">pathier</span> <span class="kn">import</span> <span class="n">Pathier</span>
 </span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a>
-</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a><span class="kn">from</span> <span class="nn">databased</span> <span class="kn">import</span> <span class="n">DataBased</span><span class="p">,</span> <span class="n">DBManager</span><span class="p">,</span> <span class="n">dbparsers</span>
+</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a><span class="kn">from</span> <span class="nn">databased</span> <span class="kn">import</span> <span class="n">DataBased</span><span class="p">,</span> <span class="n">DBShell</span><span class="p">,</span> <span class="n">dbparsers</span>
 </span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a>
 </span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a><span class="n">root</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span>
 </span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a>
 </span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a>
-</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="k">class</span> <span class="nc">CustomManager</span><span class="p">(</span><span class="n">DBManager</span><span class="p">):</span>
-</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a>    <span class="n">intro</span> <span class="o">=</span> <span class="s2">&quot;Starting custommanager (enter help or ? for command info)...&quot;</span>
-</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;custommanager&gt;&quot;</span>
+</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="k">class</span> <span class="nc">CustomShell</span><span class="p">(</span><span class="n">DBShell</span><span class="p">):</span>
+</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a>    <span class="n">intro</span> <span class="o">=</span> <span class="s2">&quot;Starting customshell (enter help or ? for command info)...&quot;</span>
+</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;customshell&gt;&quot;</span>
 </span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a>    <span class="n">dbpath</span><span class="p">:</span> <span class="n">Pathier</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Replace None with a path to a .db file to set a default database # type: ignore</span>
 </span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a>
 </span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a>
 </span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a><span class="c1"># For help with adding custom functionality see:</span>
 </span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a><span class="c1"># https://github.com/matt-manes/argshell</span>
-</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a><span class="c1"># https://github.com/matt-manes/databased/blob/main/src/databased/dbmanager.py</span>
+</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a><span class="c1"># https://github.com/matt-manes/databased/blob/main/src/databased/dbshell.py</span>
 </span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a><span class="c1"># https://github.com/matt-manes/databased/blob/main/src/databased/dbparsers.py</span>
 </span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a>
 </span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
-</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a>    <span class="n">CustomManager</span><span class="p">()</span><span class="o">.</span><span class="n">cmdloop</span><span class="p">()</span>
+</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a>    <span class="n">CustomShell</span><span class="p">()</span><span class="o">.</span><span class="n">cmdloop</span><span class="p">()</span>
 </span></pre></div>
 
 
             </section>
-                <section id="CustomManager">
-                            <input id="CustomManager-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                <section id="CustomShell">
+                            <input id="CustomShell-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr class">
             
     <span class="def">class</span>
-    <span class="name">CustomManager</span><wbr>(<span class="base"><a href="dbmanager.html#DBManager">databased.dbmanager.DBManager</a></span>):
+    <span class="name">CustomShell</span><wbr>(<span class="base"><a href="dbshell.html#DBShell">databased.dbshell.DBShell</a></span>):
 
-                <label class="view-source-button" for="CustomManager-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="CustomShell-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#CustomManager"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="CustomManager-10"><a href="#CustomManager-10"><span class="linenos">10</span></a><span class="k">class</span> <span class="nc">CustomManager</span><span class="p">(</span><span class="n">DBManager</span><span class="p">):</span>
-</span><span id="CustomManager-11"><a href="#CustomManager-11"><span class="linenos">11</span></a>    <span class="n">intro</span> <span class="o">=</span> <span class="s2">&quot;Starting custommanager (enter help or ? for command info)...&quot;</span>
-</span><span id="CustomManager-12"><a href="#CustomManager-12"><span class="linenos">12</span></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;custommanager&gt;&quot;</span>
-</span><span id="CustomManager-13"><a href="#CustomManager-13"><span class="linenos">13</span></a>    <span class="n">dbpath</span><span class="p">:</span> <span class="n">Pathier</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Replace None with a path to a .db file to set a default database # type: ignore</span>
+    <a class="headerlink" href="#CustomShell"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="CustomShell-10"><a href="#CustomShell-10"><span class="linenos">10</span></a><span class="k">class</span> <span class="nc">CustomShell</span><span class="p">(</span><span class="n">DBShell</span><span class="p">):</span>
+</span><span id="CustomShell-11"><a href="#CustomShell-11"><span class="linenos">11</span></a>    <span class="n">intro</span> <span class="o">=</span> <span class="s2">&quot;Starting customshell (enter help or ? for command info)...&quot;</span>
+</span><span id="CustomShell-12"><a href="#CustomShell-12"><span class="linenos">12</span></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;customshell&gt;&quot;</span>
+</span><span id="CustomShell-13"><a href="#CustomShell-13"><span class="linenos">13</span></a>    <span class="n">dbpath</span><span class="p">:</span> <span class="n">Pathier</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Replace None with a path to a .db file to set a default database # type: ignore</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Subclass this to create custom ArgShells.</p>
 </div>
 
 
                             <div class="inherited">
                                 <h5>Inherited Members</h5>
                                 <dl>
                                     <div><dt>cmd.Cmd</dt>
-                                <dd id="CustomManager.__init__" class="function">Cmd</dd>
-                <dd id="CustomManager.precmd" class="function">precmd</dd>
-                <dd id="CustomManager.postcmd" class="function">postcmd</dd>
-                <dd id="CustomManager.postloop" class="function">postloop</dd>
-                <dd id="CustomManager.parseline" class="function">parseline</dd>
-                <dd id="CustomManager.onecmd" class="function">onecmd</dd>
-                <dd id="CustomManager.emptyline" class="function">emptyline</dd>
-                <dd id="CustomManager.default" class="function">default</dd>
-                <dd id="CustomManager.completedefault" class="function">completedefault</dd>
-                <dd id="CustomManager.completenames" class="function">completenames</dd>
-                <dd id="CustomManager.complete" class="function">complete</dd>
-                <dd id="CustomManager.get_names" class="function">get_names</dd>
-                <dd id="CustomManager.complete_help" class="function">complete_help</dd>
-                <dd id="CustomManager.print_topics" class="function">print_topics</dd>
-                <dd id="CustomManager.columnize" class="function">columnize</dd>
+                                <dd id="CustomShell.__init__" class="function">Cmd</dd>
+                <dd id="CustomShell.precmd" class="function">precmd</dd>
+                <dd id="CustomShell.postcmd" class="function">postcmd</dd>
+                <dd id="CustomShell.postloop" class="function">postloop</dd>
+                <dd id="CustomShell.parseline" class="function">parseline</dd>
+                <dd id="CustomShell.onecmd" class="function">onecmd</dd>
+                <dd id="CustomShell.default" class="function">default</dd>
+                <dd id="CustomShell.completedefault" class="function">completedefault</dd>
+                <dd id="CustomShell.completenames" class="function">completenames</dd>
+                <dd id="CustomShell.complete" class="function">complete</dd>
+                <dd id="CustomShell.get_names" class="function">get_names</dd>
+                <dd id="CustomShell.complete_help" class="function">complete_help</dd>
+                <dd id="CustomShell.print_topics" class="function">print_topics</dd>
+                <dd id="CustomShell.columnize" class="function">columnize</dd>
 
             </div>
-            <div><dt><a href="dbmanager.html#DBManager">databased.dbmanager.DBManager</a></dt>
-                                <dd id="CustomManager.do_use_db" class="function"><a href="dbmanager.html#DBManager.do_use_db">do_use_db</a></dd>
-                <dd id="CustomManager.do_dbpath" class="function"><a href="dbmanager.html#DBManager.do_dbpath">do_dbpath</a></dd>
-                <dd id="CustomManager.do_backup" class="function"><a href="dbmanager.html#DBManager.do_backup">do_backup</a></dd>
-                <dd id="CustomManager.do_size" class="function"><a href="dbmanager.html#DBManager.do_size">do_size</a></dd>
-                <dd id="CustomManager.do_add_table" class="function"><a href="dbmanager.html#DBManager.do_add_table">do_add_table</a></dd>
-                <dd id="CustomManager.do_drop_table" class="function"><a href="dbmanager.html#DBManager.do_drop_table">do_drop_table</a></dd>
-                <dd id="CustomManager.do_add_row" class="function"><a href="dbmanager.html#DBManager.do_add_row">do_add_row</a></dd>
-                <dd id="CustomManager.do_info" class="function"><a href="dbmanager.html#DBManager.do_info">do_info</a></dd>
-                <dd id="CustomManager.do_show" class="function"><a href="dbmanager.html#DBManager.do_show">do_show</a></dd>
-                <dd id="CustomManager.do_search" class="function"><a href="dbmanager.html#DBManager.do_search">do_search</a></dd>
-                <dd id="CustomManager.do_count" class="function"><a href="dbmanager.html#DBManager.do_count">do_count</a></dd>
-                <dd id="CustomManager.do_query" class="function"><a href="dbmanager.html#DBManager.do_query">do_query</a></dd>
-                <dd id="CustomManager.do_update" class="function"><a href="dbmanager.html#DBManager.do_update">do_update</a></dd>
-                <dd id="CustomManager.do_delete" class="function"><a href="dbmanager.html#DBManager.do_delete">do_delete</a></dd>
-                <dd id="CustomManager.do_add_column" class="function"><a href="dbmanager.html#DBManager.do_add_column">do_add_column</a></dd>
-                <dd id="CustomManager.do_flush_log" class="function"><a href="dbmanager.html#DBManager.do_flush_log">do_flush_log</a></dd>
-                <dd id="CustomManager.do_scan_dbs" class="function"><a href="dbmanager.html#DBManager.do_scan_dbs">do_scan_dbs</a></dd>
-                <dd id="CustomManager.do_customize" class="function"><a href="dbmanager.html#DBManager.do_customize">do_customize</a></dd>
-                <dd id="CustomManager.preloop" class="function"><a href="dbmanager.html#DBManager.preloop">preloop</a></dd>
+            <div><dt><a href="dbshell.html#DBShell">databased.dbshell.DBShell</a></dt>
+                                <dd id="CustomShell.do_use_db" class="function"><a href="dbshell.html#DBShell.do_use_db">do_use_db</a></dd>
+                <dd id="CustomShell.do_dbpath" class="function"><a href="dbshell.html#DBShell.do_dbpath">do_dbpath</a></dd>
+                <dd id="CustomShell.do_backup" class="function"><a href="dbshell.html#DBShell.do_backup">do_backup</a></dd>
+                <dd id="CustomShell.do_size" class="function"><a href="dbshell.html#DBShell.do_size">do_size</a></dd>
+                <dd id="CustomShell.do_add_table" class="function"><a href="dbshell.html#DBShell.do_add_table">do_add_table</a></dd>
+                <dd id="CustomShell.do_drop_table" class="function"><a href="dbshell.html#DBShell.do_drop_table">do_drop_table</a></dd>
+                <dd id="CustomShell.do_add_row" class="function"><a href="dbshell.html#DBShell.do_add_row">do_add_row</a></dd>
+                <dd id="CustomShell.do_info" class="function"><a href="dbshell.html#DBShell.do_info">do_info</a></dd>
+                <dd id="CustomShell.do_show" class="function"><a href="dbshell.html#DBShell.do_show">do_show</a></dd>
+                <dd id="CustomShell.do_search" class="function"><a href="dbshell.html#DBShell.do_search">do_search</a></dd>
+                <dd id="CustomShell.do_count" class="function"><a href="dbshell.html#DBShell.do_count">do_count</a></dd>
+                <dd id="CustomShell.do_query" class="function"><a href="dbshell.html#DBShell.do_query">do_query</a></dd>
+                <dd id="CustomShell.do_update" class="function"><a href="dbshell.html#DBShell.do_update">do_update</a></dd>
+                <dd id="CustomShell.do_delete" class="function"><a href="dbshell.html#DBShell.do_delete">do_delete</a></dd>
+                <dd id="CustomShell.do_add_column" class="function"><a href="dbshell.html#DBShell.do_add_column">do_add_column</a></dd>
+                <dd id="CustomShell.do_flush_log" class="function"><a href="dbshell.html#DBShell.do_flush_log">do_flush_log</a></dd>
+                <dd id="CustomShell.do_scan_dbs" class="function"><a href="dbshell.html#DBShell.do_scan_dbs">do_scan_dbs</a></dd>
+                <dd id="CustomShell.do_customize" class="function"><a href="dbshell.html#DBShell.do_customize">do_customize</a></dd>
+                <dd id="CustomShell.preloop" class="function"><a href="dbshell.html#DBShell.preloop">preloop</a></dd>
 
             </div>
             <div><dt>argshell.argshell.ArgShell</dt>
-                                <dd id="CustomManager.do_quit" class="function">do_quit</dd>
-                <dd id="CustomManager.do_sys" class="function">do_sys</dd>
-                <dd id="CustomManager.do_help" class="function">do_help</dd>
-                <dd id="CustomManager.cmdloop" class="function">cmdloop</dd>
+                                <dd id="CustomShell.do_quit" class="function">do_quit</dd>
+                <dd id="CustomShell.do_sys" class="function">do_sys</dd>
+                <dd id="CustomShell.do_help" class="function">do_help</dd>
+                <dd id="CustomShell.cmdloop" class="function">cmdloop</dd>
+                <dd id="CustomShell.emptyline" class="function">emptyline</dd>
 
             </div>
                                 </dl>
                             </div>
                 </section>
     </main>
 <script>
```

#### html2text {}

```diff
@@ -1,44 +1,43 @@
 
 
   ⁰
 ____ databased [Unknown INPUT type]
 ***** API Documentation *****
-    * CustomManager
+    * CustomShell
 built_with_pdoc[pdoc_logo]
 
-****** databased.custom_manager ******
+****** databased.customshell ******
 ⁰ View Source
 _1from argshell import ArgShellParser, Namespace, with_parser
 _2from pathier import Pathier
 _3
-_4from databased import DataBased, DBManager, dbparsers
+_4from databased import DataBased, DBShell, dbparsers
 _5
 _6root = Pathier(__file__).parent
 _7
 _8
-_9class CustomManager(DBManager):
-10    intro = "Starting custommanager (enter help or ? for command info)..."
-11    prompt = "custommanager>"
+_9class CustomShell(DBShell):
+10    intro = "Starting customshell (enter help or ? for command info)..."
+11    prompt = "customshell>"
 12    dbpath: Pathier = None  # Replace None with a path to a .db file to set a
 default database # type: ignore
 13
 14
 15# For help with adding custom functionality see:
 16# https://github.com/matt-manes/argshell
-17# https://github.com/matt-manes/databased/blob/main/src/databased/
-dbmanager.py
+17# https://github.com/matt-manes/databased/blob/main/src/databased/dbshell.py
 18# https://github.com/matt-manes/databased/blob/main/src/databased/
 dbparsers.py
 19
 20if __name__ == "__main__":
-21    CustomManager().cmdloop()
+21    CustomShell().cmdloop()
   ⁰
-class CustomManager(databased.dbmanager.DBManager): View Source
-10class CustomManager(DBManager):
-11    intro = "Starting custommanager (enter help or ? for command info)..."
-12    prompt = "custommanager>"
+class CustomShell(databased.dbshell.DBShell): View Source
+10class CustomShell(DBShell):
+11    intro = "Starting customshell (enter help or ? for command info)..."
+12    prompt = "customshell>"
 13    dbpath: Pathier = None  # Replace None with a path to a .db file to set a
 default database # type: ignore
 Subclass this to create custom ArgShells.
 ** Inherited Members **
```

### Comparing `databased-1.6.0/docs/databased/databased.html` & `databased-2.0.0/docs/databased/databased.html`

 * *Files 2% similar despite different names*

```diff
@@ -60,14 +60,17 @@
                         <li>
                                 <a class="function" href="#DataBased.count">count</a>
                         </li>
                         <li>
                                 <a class="function" href="#DataBased.add_row">add_row</a>
                         </li>
                         <li>
+                                <a class="function" href="#DataBased.add_rows">add_rows</a>
+                        </li>
+                        <li>
                                 <a class="function" href="#DataBased.get_rows">get_rows</a>
                         </li>
                         <li>
                                 <a class="function" href="#DataBased.find">find</a>
                         </li>
                         <li>
                                 <a class="function" href="#DataBased.delete">delete</a>
@@ -343,346 +346,377 @@
 </span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
 </span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>        <span class="k">except</span><span class="p">:</span>
 </span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>            <span class="k">return</span> <span class="mi">0</span>
 </span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>
 </span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>    <span class="nd">@_connect</span>
 </span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>    <span class="k">def</span> <span class="nf">add_row</span><span class="p">(</span>
 </span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>    <span class="p">):</span>
+</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
 </span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>        <span class="sd">&quot;&quot;&quot;Add a row of values to a table.</span>
 </span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>
-</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a><span class="sd">        #### :params:</span>
+</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a><span class="sd">        Returns whether the addition was successful or not.</span>
 </span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>
-</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a><span class="sd">        `table`: The table to insert values into.</span>
+</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a><span class="sd">        #### :params:</span>
 </span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>
-</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a><span class="sd">        `values`: A tuple of values to be inserted into the table.</span>
+</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a><span class="sd">        `table`: The table to insert values into.</span>
 </span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>
-</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a><span class="sd">        `columns`: If `None`, `values` is expected to supply a value for every column in the table.</span>
-</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a><span class="sd">        If `columns` is provided, it should contain the same number of elements as `values`.&quot;&quot;&quot;</span>
-</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>        <span class="n">parameterizer</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;?&quot;</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
-</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>        <span class="n">logger_values</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
-</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>            <span class="k">if</span> <span class="n">columns</span><span class="p">:</span>
-</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>                <span class="n">columns_query</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">column</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">)</span>
-</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">columns_query</span><span class="si">}</span><span class="s2">) values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span>
-</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>                    <span class="n">values</span><span class="p">,</span>
-</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>                <span class="p">)</span>
-</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span> <span class="n">values</span>
-</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>                <span class="p">)</span>
-</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span><span class="p">)</span>
-</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>            <span class="k">if</span> <span class="s2">&quot;constraint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
-</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span>
-</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>                    <span class="sa">f</span><span class="s1">&#39;Error adding &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span>
-</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>                <span class="p">)</span>
-</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
-</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>
-</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>    <span class="nd">@_connect</span>
-</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>    <span class="k">def</span> <span class="nf">get_rows</span><span class="p">(</span>
-</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>        <span class="bp">self</span><span class="p">,</span>
-</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
-</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>        <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
-</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>        <span class="n">sort_by_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>        <span class="n">columns_to_return</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>        <span class="n">return_as_dataframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
-</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>        <span class="n">values_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
-</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>        <span class="n">order_by</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>        <span class="n">limit</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
-</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>        <span class="sd">&quot;&quot;&quot;Return matching rows from `table`.</span>
-</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>
-</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a><span class="sd">        By default, rows will be returned as a list of dictionaries of the form `[{&quot;column_name&quot;: value, ...}, ...]`</span>
-</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>
-</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>
-</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a><span class="sd">        #### :params:</span>
-</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>
-</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each</span>
-</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a><span class="sd">        tuple is `(columnName, rowValue)` or a dictionary where</span>
-</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a><span class="sd">        keys are column names and values are row values.</span>
-</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>
-</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a><span class="sd">        `exact_match`: If `False`, the row value for a given column will be matched as a substring.</span>
-</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>
-</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a><span class="sd">        `sort_by_column`: A column name to sort the results by.</span>
-</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a><span class="sd">        This will sort results in Python after retrieving them from the db.</span>
-</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a><span class="sd">        Use the &#39;order_by&#39; param to use SQLite engine for ordering.</span>
+</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a><span class="sd">        `values`: A tuple of values to be inserted into the table.</span>
+</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>
+</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a><span class="sd">        `columns`: If `None`, `values` is expected to supply a value for every column in the table.</span>
+</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a><span class="sd">        If `columns` is provided, it should contain the same number of elements as `values`.&quot;&quot;&quot;</span>
+</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>        <span class="n">parameterizer</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;?&quot;</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
+</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>        <span class="n">logger_values</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
+</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>            <span class="k">if</span> <span class="n">columns</span><span class="p">:</span>
+</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>                <span class="n">columns_query</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">column</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">)</span>
+</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">columns_query</span><span class="si">}</span><span class="s2">) values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span>
+</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>                    <span class="n">values</span><span class="p">,</span>
+</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>                <span class="p">)</span>
+</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span> <span class="n">values</span>
+</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>                <span class="p">)</span>
+</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span><span class="p">)</span>
+</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>            <span class="k">return</span> <span class="kc">True</span>
+</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>            <span class="k">if</span> <span class="s2">&quot;constraint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
+</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span>
+</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>                    <span class="sa">f</span><span class="s1">&#39;Error adding &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span>
+</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>                <span class="p">)</span>
+</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
+</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>            <span class="k">return</span> <span class="kc">False</span>
+</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>
+</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>    <span class="nd">@_connect</span>
+</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>    <span class="k">def</span> <span class="nf">add_rows</span><span class="p">(</span>
+</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
+</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>        <span class="sd">&quot;&quot;&quot;Add multiple rows of values to a table.</span>
+</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>
+</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a><span class="sd">        Returns a tuple containing the number of successful additions and the number of failed additions.</span>
+</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>
+</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a><span class="sd">        #### :params:</span>
+</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>
+</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a><span class="sd">        `table`: The table to insert values into.</span>
+</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>
+</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a><span class="sd">        `values`: A list of tuples of values to be inserted into the table.</span>
+</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a><span class="sd">        Each tuple constitutes a single row to be inserted</span>
+</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>
+</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a><span class="sd">        `columns`: If `None`, `values` is expected to supply a value for every column in the table.</span>
+</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a><span class="sd">        If `columns` is provided, it should contain the same number of elements as `values`.&quot;&quot;&quot;</span>
+</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>        <span class="n">successes</span> <span class="o">=</span> <span class="mi">0</span>
+</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>        <span class="n">failures</span> <span class="o">=</span> <span class="mi">0</span>
+</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
+</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">columns</span><span class="p">):</span>
+</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>                <span class="n">successes</span> <span class="o">+=</span> <span class="mi">1</span>
+</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>                <span class="n">failures</span> <span class="o">+=</span> <span class="mi">1</span>
+</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">successes</span><span class="p">,</span> <span class="n">failures</span><span class="p">)</span>
 </span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>
-</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a><span class="sd">        `columns_to_return`: Optional list of column names.</span>
-</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a><span class="sd">        If provided, the elements returned by this function will only contain the provided columns.</span>
-</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a><span class="sd">        Otherwise every column in the row is returned.</span>
-</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>
-</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a><span class="sd">        `return_as_dataframe`: Return the results as a `pandas.DataFrame` object.</span>
-</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>
-</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a><span class="sd">        `values_only`: Return the results as a list of tuples.</span>
-</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>
-</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a><span class="sd">        `order_by`: If given, a `order by {order_by}` clause will be added to the select query.</span>
-</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>
-</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a><span class="sd">        `limit`: If given, a `limit {limit}` clause will be added to the select query.</span>
-</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a><span class="sd">        &quot;&quot;&quot;</span>
-</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>
-</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns_to_return</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
-</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>            <span class="n">columns_to_return</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns_to_return</span><span class="p">]</span>
-</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;select * from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="p">[]</span>
-</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
-</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>        <span class="k">if</span> <span class="n">order_by</span><span class="p">:</span>
-</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; order by </span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>        <span class="k">if</span> <span class="n">limit</span><span class="p">:</span>
-</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; limit </span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
-</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
-</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
-</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match</span><span class="p">,</span> <span class="n">columns_to_return</span><span class="p">)</span> <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">]</span>
-</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>        <span class="k">if</span> <span class="n">sort_by_column</span><span class="p">:</span>
-</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="n">sort_by_column</span><span class="p">])</span>
-</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>        <span class="k">if</span> <span class="n">return_as_dataframe</span><span class="p">:</span>
-</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>            <span class="k">return</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
-</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>        <span class="k">if</span> <span class="n">values_only</span><span class="p">:</span>
-</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>            <span class="k">return</span> <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
-</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>            <span class="k">return</span> <span class="n">results</span>
+</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>    <span class="nd">@_connect</span>
+</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>    <span class="k">def</span> <span class="nf">get_rows</span><span class="p">(</span>
+</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>        <span class="bp">self</span><span class="p">,</span>
+</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
+</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>        <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
+</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>        <span class="n">sort_by_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>        <span class="n">columns_to_return</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>        <span class="n">return_as_dataframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
+</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>        <span class="n">values_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
+</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>        <span class="n">order_by</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>        <span class="n">limit</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
+</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>        <span class="sd">&quot;&quot;&quot;Return matching rows from `table`.</span>
+</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>
+</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a><span class="sd">        By default, rows will be returned as a list of dictionaries of the form `[{&quot;column_name&quot;: value, ...}, ...]`</span>
+</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>
+</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>
+</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a><span class="sd">        #### :params:</span>
+</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>
+</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each</span>
+</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a><span class="sd">        tuple is `(columnName, rowValue)` or a dictionary where</span>
+</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a><span class="sd">        keys are column names and values are row values.</span>
+</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>
+</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a><span class="sd">        `exact_match`: If `False`, the row value for a given column will be matched as a substring.</span>
+</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>
+</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a><span class="sd">        `sort_by_column`: A column name to sort the results by.</span>
+</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a><span class="sd">        This will sort results in Python after retrieving them from the db.</span>
+</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a><span class="sd">        Use the &#39;order_by&#39; param to use SQLite engine for ordering.</span>
+</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>
+</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a><span class="sd">        `columns_to_return`: Optional list of column names.</span>
+</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a><span class="sd">        If provided, the elements returned by this function will only contain the provided columns.</span>
+</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a><span class="sd">        Otherwise every column in the row is returned.</span>
+</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>
+</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a><span class="sd">        `return_as_dataframe`: Return the results as a `pandas.DataFrame` object.</span>
 </span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>
-</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>    <span class="nd">@_connect</span>
-</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span>
-</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">query_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
-</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>        <span class="sd">&quot;&quot;&quot;Search for rows that contain `query_string` as a substring of any column.</span>
-</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>
-</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a><span class="sd">        #### :params:</span>
-</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>
-</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a><span class="sd">        `table`: The table to search.</span>
-</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>
-</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a><span class="sd">        `query_string`: The substring to search for in all columns.</span>
-</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>
-</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a><span class="sd">        `columns`: A list of columns to search for query_string.</span>
-</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a><span class="sd">        If None, all columns in the table will be searched.</span>
-</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a><span class="sd">        &quot;&quot;&quot;</span>
-</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
-</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns</span><span class="p">]</span>
-</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
-</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">columns</span><span class="p">:</span>
-</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
-</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
-</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
-</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>                <span class="p">[</span>
-</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>                    <span class="n">row</span>
-</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
-</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>                        <span class="n">table</span><span class="p">,</span> <span class="p">[(</span><span class="n">column</span><span class="p">,</span> <span class="n">query_string</span><span class="p">)],</span> <span class="n">exact_match</span><span class="o">=</span><span class="kc">False</span>
-</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>                    <span class="p">)</span>
-</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>                    <span class="k">if</span> <span class="n">row</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">results</span>
-</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>                <span class="p">]</span>
-</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>            <span class="p">)</span>
-</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>        <span class="k">return</span> <span class="n">results</span>
-</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>
-</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>    <span class="nd">@_connect</span>
-</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
-</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
-</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
-</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>        <span class="sd">&quot;&quot;&quot;Delete records from `table`.</span>
+</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a><span class="sd">        `values_only`: Return the results as a list of tuples.</span>
+</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>
+</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a><span class="sd">        `order_by`: If given, a `order by {order_by}` clause will be added to the select query.</span>
+</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>
+</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a><span class="sd">        `limit`: If given, a `limit {limit}` clause will be added to the select query.</span>
+</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a><span class="sd">        &quot;&quot;&quot;</span>
+</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>
+</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns_to_return</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
+</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>            <span class="n">columns_to_return</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns_to_return</span><span class="p">]</span>
+</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;select * from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="p">[]</span>
+</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
+</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>        <span class="k">if</span> <span class="n">order_by</span><span class="p">:</span>
+</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; order by </span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>        <span class="k">if</span> <span class="n">limit</span><span class="p">:</span>
+</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; limit </span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
+</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
+</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
+</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match</span><span class="p">,</span> <span class="n">columns_to_return</span><span class="p">)</span> <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">]</span>
+</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>        <span class="k">if</span> <span class="n">sort_by_column</span><span class="p">:</span>
+</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="n">sort_by_column</span><span class="p">])</span>
+</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>        <span class="k">if</span> <span class="n">return_as_dataframe</span><span class="p">:</span>
+</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>            <span class="k">return</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
+</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>        <span class="k">if</span> <span class="n">values_only</span><span class="p">:</span>
+</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>            <span class="k">return</span> <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
+</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>            <span class="k">return</span> <span class="n">results</span>
+</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>
+</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>    <span class="nd">@_connect</span>
+</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span>
+</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">query_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
+</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>        <span class="sd">&quot;&quot;&quot;Search for rows that contain `query_string` as a substring of any column.</span>
+</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>
+</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a><span class="sd">        #### :params:</span>
 </span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>
-</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a><span class="sd">        Returns the number of deleted records.</span>
+</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a><span class="sd">        `table`: The table to search.</span>
 </span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>
-</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a><span class="sd">        #### :params:</span>
+</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a><span class="sd">        `query_string`: The substring to search for in all columns.</span>
 </span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>
-</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(column_name, value)`</span>
-</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
-</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>
-</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a><span class="sd">        `exact_match`: If `False`, the value for a given column will be matched as a substring.</span>
-</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a><span class="sd">        &quot;&quot;&quot;</span>
-</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>        <span class="n">num_matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
-</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
-</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;delete from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
-</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
-</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>                <span class="sa">f</span><span class="s1">&#39;Deleted </span><span class="si">{</span><span class="n">num_matches</span><span class="si">}</span><span class="s1"> from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;.&#39;</span>
-</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>            <span class="p">)</span>
-</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>            <span class="k">return</span> <span class="n">num_matches</span>
-</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error deleting from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">.</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
-</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>            <span class="k">return</span> <span class="mi">0</span>
-</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>
-</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>    <span class="nd">@_connect</span>
-</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
-</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>        <span class="bp">self</span><span class="p">,</span>
-</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
-</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>        <span class="n">column_to_update</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
-</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>        <span class="n">new_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
-</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
-</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>        <span class="sd">&quot;&quot;&quot;Update the value in `column_to_update` to `new_value` for rows matched with `match_criteria`.</span>
-</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>
-</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a><span class="sd">        #### :params:</span>
-</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>
-</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a><span class="sd">        `table`: The table to update rows in.</span>
-</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>
-</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a><span class="sd">        `column_to_update`: The column to be updated in the matched rows.</span>
+</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a><span class="sd">        `columns`: A list of columns to search for query_string.</span>
+</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a><span class="sd">        If None, all columns in the table will be searched.</span>
+</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a><span class="sd">        &quot;&quot;&quot;</span>
+</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
+</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns</span><span class="p">]</span>
+</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
+</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">columns</span><span class="p">:</span>
+</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
+</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
+</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
+</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>                <span class="p">[</span>
+</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>                    <span class="n">row</span>
+</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
+</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>                        <span class="n">table</span><span class="p">,</span> <span class="p">[(</span><span class="n">column</span><span class="p">,</span> <span class="n">query_string</span><span class="p">)],</span> <span class="n">exact_match</span><span class="o">=</span><span class="kc">False</span>
+</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>                    <span class="p">)</span>
+</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>                    <span class="k">if</span> <span class="n">row</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">results</span>
+</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>                <span class="p">]</span>
+</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>            <span class="p">)</span>
+</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>        <span class="k">return</span> <span class="n">results</span>
+</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>
+</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>    <span class="nd">@_connect</span>
+</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
+</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
+</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
+</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>        <span class="sd">&quot;&quot;&quot;Delete records from `table`.</span>
+</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>
+</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a><span class="sd">        Returns the number of deleted records.</span>
+</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>
+</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a><span class="sd">        #### :params:</span>
+</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a>
+</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(column_name, value)`</span>
+</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
 </span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>
-</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a><span class="sd">        `new_value`: The new value to insert.</span>
-</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a>
-</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(columnName, rowValue)`</span>
-</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
-</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a><span class="sd">        If `None`, every row in `table` will be updated.</span>
-</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>
-</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a><span class="sd">        Returns `True` if successful, `False` if not.&quot;&quot;&quot;</span>
-</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;update </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> set </span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s2"> = ?&quot;</span>
-</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
-</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
-</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
-</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
-</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>                    <span class="sa">f</span><span class="s2">&quot;Couldn&#39;t find matching records in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table to update to &#39;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
-</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a>                <span class="p">)</span>
-</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>                <span class="k">return</span> <span class="kc">False</span>
-</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">)</span>
-</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
-</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>                <span class="n">query</span><span class="p">,</span>
-</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>                <span class="p">(</span><span class="n">new_value</span><span class="p">,),</span>
-</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>            <span class="p">)</span>
-</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
-</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>                <span class="sa">f</span><span class="s1">&#39;Updated &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&#39;</span>
-</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>            <span class="p">)</span>
-</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>            <span class="k">return</span> <span class="kc">True</span>
-</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
-</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>                <span class="sa">f</span><span class="s1">&#39;Failed to update &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span>
-</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>            <span class="p">)</span>
-</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>            <span class="k">return</span> <span class="kc">False</span>
+</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a><span class="sd">        `exact_match`: If `False`, the value for a given column will be matched as a substring.</span>
+</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a><span class="sd">        &quot;&quot;&quot;</span>
+</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
+</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;delete from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
+</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>            <span class="n">num_deletions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span>
+</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
+</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>                <span class="sa">f</span><span class="s1">&#39;Deleted </span><span class="si">{</span><span class="n">num_deletions</span><span class="si">}</span><span class="s1"> rows from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;.&#39;</span>
+</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>            <span class="p">)</span>
+</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>            <span class="k">return</span> <span class="n">num_deletions</span>
+</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
+</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>                <span class="sa">f</span><span class="s1">&#39;Error deleting rows from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">.</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span>
+</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a>            <span class="p">)</span>
+</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>            <span class="k">return</span> <span class="mi">0</span>
+</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a>
+</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>    <span class="nd">@_connect</span>
+</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
+</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>        <span class="bp">self</span><span class="p">,</span>
+</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
+</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a>        <span class="n">column_to_update</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
+</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>        <span class="n">new_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
+</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>        <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
+</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
+</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a>        <span class="sd">&quot;&quot;&quot;Update the value in `column_to_update` to `new_value` for rows matched with `match_criteria`.</span>
+</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>
+</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a><span class="sd">        #### :params:</span>
+</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>
+</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a><span class="sd">        `table`: The table to update rows in.</span>
+</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>
+</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a><span class="sd">        `column_to_update`: The column to be updated in the matched rows.</span>
+</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>
+</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a><span class="sd">        `new_value`: The new value to insert.</span>
 </span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>
-</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>    <span class="nd">@_connect</span>
-</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>    <span class="k">def</span> <span class="nf">drop_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
-</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>        <span class="sd">&quot;&quot;&quot;Drop `table` from the database.</span>
+</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(columnName, rowValue)`</span>
+</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
+</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a><span class="sd">        If `None`, every row in `table` will be updated.</span>
 </span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>
-</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a><span class="sd">        Returns `True` if successful, `False` if not.&quot;&quot;&quot;</span>
-</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;drop Table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
-</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Dropped table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
-</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>            <span class="k">return</span> <span class="kc">True</span>
-</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
-</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to drop table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
-</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>            <span class="k">return</span> <span class="kc">False</span>
-</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>
-</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>    <span class="nd">@_connect</span>
-</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>    <span class="k">def</span> <span class="nf">add_column</span><span class="p">(</span>
-</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>    <span class="p">):</span>
-</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to `table`.</span>
-</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a>
-</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a><span class="sd">        #### :params:</span>
-</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>
-</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a><span class="sd">        `column`: Name of the column to add.</span>
-</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>
-</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a><span class="sd">        `_type`: The data type of the new column.</span>
-</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a>
-</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a><span class="sd">        `default_value`: Optional default value for the column.&quot;&quot;&quot;</span>
-</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a>            <span class="k">if</span> <span class="n">default_value</span><span class="p">:</span>
-</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>                    <span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2"> default </span><span class="si">{</span><span class="n">default_value</span><span class="si">}</span><span class="s2">;&quot;</span>
-</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>                <span class="p">)</span>
-</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span>
-</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
-</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
-</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to add column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
-</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a>
-</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a>    <span class="nd">@staticmethod</span>
-</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>    <span class="k">def</span> <span class="nf">data_to_string</span><span class="p">(</span>
-</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
-</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
-</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a>        <span class="sd">&quot;&quot;&quot;Uses tabulate to produce pretty string output from a list of dictionaries.</span>
+</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a><span class="sd">        `exact_match`: If `False`, `match_criteria` values will be treated as substrings.</span>
+</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>
+</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a><span class="sd">        Returns the number of updated rows.&quot;&quot;&quot;</span>
+</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;update </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> set </span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s2"> = ?&quot;</span>
+</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
+</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
+</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
+</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
+</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>                <span class="n">query</span><span class="p">,</span>
+</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>                <span class="p">(</span><span class="n">new_value</span><span class="p">,),</span>
+</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a>            <span class="p">)</span>
+</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>            <span class="n">num_updates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span>
+</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
+</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a>                <span class="sa">f</span><span class="s1">&#39;In </span><span class="si">{</span><span class="n">num_updates</span><span class="si">}</span><span class="s1"> rows, updated &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&#39;</span>
+</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>            <span class="p">)</span>
+</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a>            <span class="k">return</span> <span class="n">num_updates</span>
+</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
+</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>                <span class="sa">f</span><span class="s1">&#39;Failed to update &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span>
+</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a>            <span class="p">)</span>
+</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>            <span class="k">return</span> <span class="mi">0</span>
+</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>
+</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>    <span class="nd">@_connect</span>
+</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>    <span class="k">def</span> <span class="nf">drop_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
+</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>        <span class="sd">&quot;&quot;&quot;Drop `table` from the database.</span>
+</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>
+</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a><span class="sd">        Returns `True` if successful, `False` if not.&quot;&quot;&quot;</span>
+</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;drop Table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
+</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Dropped table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
+</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a>            <span class="k">return</span> <span class="kc">True</span>
+</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
+</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to drop table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
+</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a>            <span class="k">return</span> <span class="kc">False</span>
 </span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a>
-</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a><span class="sd">        #### :params:</span>
-</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>
-</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a><span class="sd">        `data`: The list of dictionaries to create a grid from.</span>
-</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a><span class="sd">        Assumes all dictionaries in list have the same set of keys.</span>
-</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>
-</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a><span class="sd">        `sort_key`: Optional dictionary key to sort data with.</span>
-</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>
-</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a><span class="sd">        `wrap_to_terminal`: If `True`, the table width will be wrapped to fit within the current terminal window.</span>
-</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a><span class="sd">        Pass as `False` if the output is going into something like a `.txt` file.&quot;&quot;&quot;</span>
-</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>        <span class="k">return</span> <span class="n">data_to_string</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">sort_key</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">)</span>
-</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a>
+</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>    <span class="nd">@_connect</span>
+</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>    <span class="k">def</span> <span class="nf">add_column</span><span class="p">(</span>
+</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>    <span class="p">):</span>
+</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to `table`.</span>
+</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a>
+</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a><span class="sd">        #### :params:</span>
+</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>
+</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a><span class="sd">        `column`: Name of the column to add.</span>
+</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>
+</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a><span class="sd">        `_type`: The data type of the new column.</span>
 </span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>
-</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a><span class="k">def</span> <span class="nf">data_to_string</span><span class="p">(</span>
-</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a>    <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
-</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
-</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a>    <span class="sd">&quot;&quot;&quot;Uses tabulate to produce pretty string output from a list of dictionaries.</span>
-</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>
-</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a><span class="sd">    #### :params:</span>
-</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>
-</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a><span class="sd">    `data`: The list of dictionaries to create a grid from.</span>
-</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a><span class="sd">    Assumes all dictionaries in list have the same set of keys.</span>
-</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>
-</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a><span class="sd">    `sort_key`: Optional dictionary key to sort data with.</span>
-</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>
-</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a><span class="sd">    `wrap_to_terminal`: If `True`, the table width will be wrapped to fit within the current terminal window.</span>
-</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a><span class="sd">    Pass as `False` if the output is going into something like a `.txt` file.&quot;&quot;&quot;</span>
-</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
-</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
-</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a>    <span class="k">if</span> <span class="n">sort_key</span><span class="p">:</span>
-</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="n">sort_key</span><span class="p">])</span>
-</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
-</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
-</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a>            <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">])</span>
-</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>
-</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a>    <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">True</span>
-</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>    <span class="n">terminal_width</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">get_terminal_size</span><span class="p">()</span><span class="o">.</span><span class="n">columns</span>
-</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>    <span class="n">max_col_widths</span> <span class="o">=</span> <span class="n">terminal_width</span>
-</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>    <span class="c1"># Make an output with effectively unrestricted column widths</span>
-</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>    <span class="c1"># to see if shrinking is necessary</span>
-</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>    <span class="n">output</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span>
-</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>        <span class="n">data</span><span class="p">,</span>
-</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>        <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span>
-</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a>        <span class="n">disable_numparse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
-</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>        <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
-</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>        <span class="n">maxcolwidths</span><span class="o">=</span><span class="n">max_col_widths</span><span class="p">,</span>
-</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a>    <span class="p">)</span>
-</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>    <span class="n">current_width</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a>    <span class="k">if</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
-</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a>        <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">False</span>
-</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a>    <span class="k">if</span> <span class="n">wrap_to_terminal</span> <span class="ow">and</span> <span class="n">too_wide</span><span class="p">:</span>
-</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Resizing grid to fit within the terminal...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a>        <span class="n">previous_col_widths</span> <span class="o">=</span> <span class="n">max_col_widths</span>
-</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>        <span class="n">acceptable_width</span> <span class="o">=</span> <span class="n">terminal_width</span> <span class="o">-</span> <span class="mi">10</span>
-</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>        <span class="k">while</span> <span class="n">too_wide</span> <span class="ow">and</span> <span class="n">max_col_widths</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
-</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>            <span class="k">if</span> <span class="n">current_width</span> <span class="o">&gt;=</span> <span class="n">terminal_width</span><span class="p">:</span>
-</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>                <span class="n">previous_col_widths</span> <span class="o">=</span> <span class="n">max_col_widths</span>
-</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>                <span class="n">max_col_widths</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_col_widths</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>
-</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>            <span class="k">elif</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
-</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>                <span class="c1"># Without lowering acceptable_width, this condition will cause infinite loop</span>
-</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>                <span class="k">if</span> <span class="n">max_col_widths</span> <span class="o">==</span> <span class="n">previous_col_widths</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
-</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>                    <span class="n">acceptable_width</span> <span class="o">-=</span> <span class="mi">10</span>
-</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>                <span class="n">max_col_widths</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
-</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>                    <span class="n">max_col_widths</span> <span class="o">+</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">previous_col_widths</span> <span class="o">-</span> <span class="n">max_col_widths</span><span class="p">))</span>
-</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>                <span class="p">)</span>
-</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>            <span class="n">output</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span>
-</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a>                <span class="n">data</span><span class="p">,</span>
-</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a>                <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span>
-</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a>                <span class="n">disable_numparse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
-</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>                <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
-</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>                <span class="n">maxcolwidths</span><span class="o">=</span><span class="n">max_col_widths</span><span class="p">,</span>
-</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>            <span class="p">)</span>
-</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>            <span class="n">current_width</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a>            <span class="k">if</span> <span class="n">acceptable_width</span> <span class="o">&lt;</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
-</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>                <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">False</span>
-</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>        <span class="k">if</span> <span class="n">too_wide</span><span class="p">:</span>
-</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t resize grid to fit within the terminal.&quot;</span><span class="p">)</span>
-</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a>            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
-</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>    <span class="k">return</span> <span class="n">output</span>
+</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a><span class="sd">        `default_value`: Optional default value for the column.&quot;&quot;&quot;</span>
+</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>            <span class="k">if</span> <span class="n">default_value</span><span class="p">:</span>
+</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>                    <span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2"> default </span><span class="si">{</span><span class="n">default_value</span><span class="si">}</span><span class="s2">;&quot;</span>
+</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a>                <span class="p">)</span>
+</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span>
+</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
+</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
+</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to add column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
+</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>
+</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a>    <span class="nd">@staticmethod</span>
+</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>    <span class="k">def</span> <span class="nf">data_to_string</span><span class="p">(</span>
+</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
+</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
+</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a>        <span class="sd">&quot;&quot;&quot;Uses tabulate to produce pretty string output from a list of dictionaries.</span>
+</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>
+</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a><span class="sd">        #### :params:</span>
+</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a>
+</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a><span class="sd">        `data`: The list of dictionaries to create a grid from.</span>
+</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a><span class="sd">        Assumes all dictionaries in list have the same set of keys.</span>
+</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>
+</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a><span class="sd">        `sort_key`: Optional dictionary key to sort data with.</span>
+</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>
+</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a><span class="sd">        `wrap_to_terminal`: If `True`, the table width will be wrapped to fit within the current terminal window.</span>
+</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a><span class="sd">        Pass as `False` if the output is going into something like a `.txt` file.&quot;&quot;&quot;</span>
+</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>        <span class="k">return</span> <span class="n">data_to_string</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">sort_key</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">)</span>
+</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>
+</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a>
+</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a><span class="k">def</span> <span class="nf">data_to_string</span><span class="p">(</span>
+</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>    <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
+</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
+</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>    <span class="sd">&quot;&quot;&quot;Uses tabulate to produce pretty string output from a list of dictionaries.</span>
+</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a>
+</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a><span class="sd">    #### :params:</span>
+</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a>
+</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a><span class="sd">    `data`: The list of dictionaries to create a grid from.</span>
+</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a><span class="sd">    Assumes all dictionaries in list have the same set of keys.</span>
+</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>
+</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a><span class="sd">    `sort_key`: Optional dictionary key to sort data with.</span>
+</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>
+</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a><span class="sd">    `wrap_to_terminal`: If `True`, the table width will be wrapped to fit within the current terminal window.</span>
+</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a><span class="sd">    Pass as `False` if the output is going into something like a `.txt` file.&quot;&quot;&quot;</span>
+</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
+</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
+</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>    <span class="k">if</span> <span class="n">sort_key</span><span class="p">:</span>
+</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="n">sort_key</span><span class="p">])</span>
+</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
+</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
+</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>            <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">])</span>
+</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>
+</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a>    <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">True</span>
+</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a>    <span class="n">terminal_width</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">get_terminal_size</span><span class="p">()</span><span class="o">.</span><span class="n">columns</span>
+</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a>    <span class="n">max_col_widths</span> <span class="o">=</span> <span class="n">terminal_width</span>
+</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>    <span class="c1"># Make an output with effectively unrestricted column widths</span>
+</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>    <span class="c1"># to see if shrinking is necessary</span>
+</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>    <span class="n">output</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span>
+</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>        <span class="n">data</span><span class="p">,</span>
+</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a>        <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span>
+</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>        <span class="n">disable_numparse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
+</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>        <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
+</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a>        <span class="n">maxcolwidths</span><span class="o">=</span><span class="n">max_col_widths</span><span class="p">,</span>
+</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a>    <span class="p">)</span>
+</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>    <span class="n">current_width</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a>    <span class="k">if</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
+</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a>        <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">False</span>
+</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a>    <span class="k">if</span> <span class="n">wrap_to_terminal</span> <span class="ow">and</span> <span class="n">too_wide</span><span class="p">:</span>
+</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Resizing grid to fit within the terminal...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>        <span class="n">previous_col_widths</span> <span class="o">=</span> <span class="n">max_col_widths</span>
+</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>        <span class="n">acceptable_width</span> <span class="o">=</span> <span class="n">terminal_width</span> <span class="o">-</span> <span class="mi">10</span>
+</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>        <span class="k">while</span> <span class="n">too_wide</span> <span class="ow">and</span> <span class="n">max_col_widths</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
+</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>            <span class="k">if</span> <span class="n">current_width</span> <span class="o">&gt;=</span> <span class="n">terminal_width</span><span class="p">:</span>
+</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a>                <span class="n">previous_col_widths</span> <span class="o">=</span> <span class="n">max_col_widths</span>
+</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>                <span class="n">max_col_widths</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_col_widths</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>
+</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>            <span class="k">elif</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
+</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a>                <span class="c1"># Without lowering acceptable_width, this condition will cause infinite loop</span>
+</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>                <span class="k">if</span> <span class="n">max_col_widths</span> <span class="o">==</span> <span class="n">previous_col_widths</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
+</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a>                    <span class="n">acceptable_width</span> <span class="o">-=</span> <span class="mi">10</span>
+</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>                <span class="n">max_col_widths</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
+</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>                    <span class="n">max_col_widths</span> <span class="o">+</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">previous_col_widths</span> <span class="o">-</span> <span class="n">max_col_widths</span><span class="p">))</span>
+</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>                <span class="p">)</span>
+</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>            <span class="n">output</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span>
+</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>                <span class="n">data</span><span class="p">,</span>
+</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>                <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span>
+</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a>                <span class="n">disable_numparse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
+</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>                <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
+</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a>                <span class="n">maxcolwidths</span><span class="o">=</span><span class="n">max_col_widths</span><span class="p">,</span>
+</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a>            <span class="p">)</span>
+</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a>            <span class="n">current_width</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a>            <span class="k">if</span> <span class="n">acceptable_width</span> <span class="o">&lt;</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
+</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a>                <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">False</span>
+</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a>        <span class="k">if</span> <span class="n">too_wide</span><span class="p">:</span>
+</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t resize grid to fit within the terminal.&quot;</span><span class="p">)</span>
+</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a>            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
+</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a>    <span class="k">return</span> <span class="n">output</span>
 </span></pre></div>
 
 
             </section>
                 <section id="DataBased">
                             <input id="DataBased-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr class">
@@ -901,278 +935,309 @@
 </span><span id="DataBased-231"><a href="#DataBased-231"><span class="linenos">231</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
 </span><span id="DataBased-232"><a href="#DataBased-232"><span class="linenos">232</span></a>        <span class="k">except</span><span class="p">:</span>
 </span><span id="DataBased-233"><a href="#DataBased-233"><span class="linenos">233</span></a>            <span class="k">return</span> <span class="mi">0</span>
 </span><span id="DataBased-234"><a href="#DataBased-234"><span class="linenos">234</span></a>
 </span><span id="DataBased-235"><a href="#DataBased-235"><span class="linenos">235</span></a>    <span class="nd">@_connect</span>
 </span><span id="DataBased-236"><a href="#DataBased-236"><span class="linenos">236</span></a>    <span class="k">def</span> <span class="nf">add_row</span><span class="p">(</span>
 </span><span id="DataBased-237"><a href="#DataBased-237"><span class="linenos">237</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="DataBased-238"><a href="#DataBased-238"><span class="linenos">238</span></a>    <span class="p">):</span>
+</span><span id="DataBased-238"><a href="#DataBased-238"><span class="linenos">238</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
 </span><span id="DataBased-239"><a href="#DataBased-239"><span class="linenos">239</span></a>        <span class="sd">&quot;&quot;&quot;Add a row of values to a table.</span>
 </span><span id="DataBased-240"><a href="#DataBased-240"><span class="linenos">240</span></a>
-</span><span id="DataBased-241"><a href="#DataBased-241"><span class="linenos">241</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased-241"><a href="#DataBased-241"><span class="linenos">241</span></a><span class="sd">        Returns whether the addition was successful or not.</span>
 </span><span id="DataBased-242"><a href="#DataBased-242"><span class="linenos">242</span></a>
-</span><span id="DataBased-243"><a href="#DataBased-243"><span class="linenos">243</span></a><span class="sd">        `table`: The table to insert values into.</span>
+</span><span id="DataBased-243"><a href="#DataBased-243"><span class="linenos">243</span></a><span class="sd">        #### :params:</span>
 </span><span id="DataBased-244"><a href="#DataBased-244"><span class="linenos">244</span></a>
-</span><span id="DataBased-245"><a href="#DataBased-245"><span class="linenos">245</span></a><span class="sd">        `values`: A tuple of values to be inserted into the table.</span>
+</span><span id="DataBased-245"><a href="#DataBased-245"><span class="linenos">245</span></a><span class="sd">        `table`: The table to insert values into.</span>
 </span><span id="DataBased-246"><a href="#DataBased-246"><span class="linenos">246</span></a>
-</span><span id="DataBased-247"><a href="#DataBased-247"><span class="linenos">247</span></a><span class="sd">        `columns`: If `None`, `values` is expected to supply a value for every column in the table.</span>
-</span><span id="DataBased-248"><a href="#DataBased-248"><span class="linenos">248</span></a><span class="sd">        If `columns` is provided, it should contain the same number of elements as `values`.&quot;&quot;&quot;</span>
-</span><span id="DataBased-249"><a href="#DataBased-249"><span class="linenos">249</span></a>        <span class="n">parameterizer</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;?&quot;</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
-</span><span id="DataBased-250"><a href="#DataBased-250"><span class="linenos">250</span></a>        <span class="n">logger_values</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
-</span><span id="DataBased-251"><a href="#DataBased-251"><span class="linenos">251</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DataBased-252"><a href="#DataBased-252"><span class="linenos">252</span></a>            <span class="k">if</span> <span class="n">columns</span><span class="p">:</span>
-</span><span id="DataBased-253"><a href="#DataBased-253"><span class="linenos">253</span></a>                <span class="n">columns_query</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">column</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">)</span>
-</span><span id="DataBased-254"><a href="#DataBased-254"><span class="linenos">254</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="DataBased-255"><a href="#DataBased-255"><span class="linenos">255</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">columns_query</span><span class="si">}</span><span class="s2">) values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span>
-</span><span id="DataBased-256"><a href="#DataBased-256"><span class="linenos">256</span></a>                    <span class="n">values</span><span class="p">,</span>
-</span><span id="DataBased-257"><a href="#DataBased-257"><span class="linenos">257</span></a>                <span class="p">)</span>
-</span><span id="DataBased-258"><a href="#DataBased-258"><span class="linenos">258</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="DataBased-259"><a href="#DataBased-259"><span class="linenos">259</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="DataBased-260"><a href="#DataBased-260"><span class="linenos">260</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span> <span class="n">values</span>
-</span><span id="DataBased-261"><a href="#DataBased-261"><span class="linenos">261</span></a>                <span class="p">)</span>
-</span><span id="DataBased-262"><a href="#DataBased-262"><span class="linenos">262</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span><span class="p">)</span>
-</span><span id="DataBased-263"><a href="#DataBased-263"><span class="linenos">263</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DataBased-264"><a href="#DataBased-264"><span class="linenos">264</span></a>            <span class="k">if</span> <span class="s2">&quot;constraint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
-</span><span id="DataBased-265"><a href="#DataBased-265"><span class="linenos">265</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span>
-</span><span id="DataBased-266"><a href="#DataBased-266"><span class="linenos">266</span></a>                    <span class="sa">f</span><span class="s1">&#39;Error adding &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span>
-</span><span id="DataBased-267"><a href="#DataBased-267"><span class="linenos">267</span></a>                <span class="p">)</span>
-</span><span id="DataBased-268"><a href="#DataBased-268"><span class="linenos">268</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="DataBased-269"><a href="#DataBased-269"><span class="linenos">269</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
-</span><span id="DataBased-270"><a href="#DataBased-270"><span class="linenos">270</span></a>
-</span><span id="DataBased-271"><a href="#DataBased-271"><span class="linenos">271</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased-272"><a href="#DataBased-272"><span class="linenos">272</span></a>    <span class="k">def</span> <span class="nf">get_rows</span><span class="p">(</span>
-</span><span id="DataBased-273"><a href="#DataBased-273"><span class="linenos">273</span></a>        <span class="bp">self</span><span class="p">,</span>
-</span><span id="DataBased-274"><a href="#DataBased-274"><span class="linenos">274</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
-</span><span id="DataBased-275"><a href="#DataBased-275"><span class="linenos">275</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased-276"><a href="#DataBased-276"><span class="linenos">276</span></a>        <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
-</span><span id="DataBased-277"><a href="#DataBased-277"><span class="linenos">277</span></a>        <span class="n">sort_by_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased-278"><a href="#DataBased-278"><span class="linenos">278</span></a>        <span class="n">columns_to_return</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased-279"><a href="#DataBased-279"><span class="linenos">279</span></a>        <span class="n">return_as_dataframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
-</span><span id="DataBased-280"><a href="#DataBased-280"><span class="linenos">280</span></a>        <span class="n">values_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
-</span><span id="DataBased-281"><a href="#DataBased-281"><span class="linenos">281</span></a>        <span class="n">order_by</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased-282"><a href="#DataBased-282"><span class="linenos">282</span></a>        <span class="n">limit</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased-283"><a href="#DataBased-283"><span class="linenos">283</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
-</span><span id="DataBased-284"><a href="#DataBased-284"><span class="linenos">284</span></a>        <span class="sd">&quot;&quot;&quot;Return matching rows from `table`.</span>
-</span><span id="DataBased-285"><a href="#DataBased-285"><span class="linenos">285</span></a>
-</span><span id="DataBased-286"><a href="#DataBased-286"><span class="linenos">286</span></a><span class="sd">        By default, rows will be returned as a list of dictionaries of the form `[{&quot;column_name&quot;: value, ...}, ...]`</span>
-</span><span id="DataBased-287"><a href="#DataBased-287"><span class="linenos">287</span></a>
-</span><span id="DataBased-288"><a href="#DataBased-288"><span class="linenos">288</span></a>
-</span><span id="DataBased-289"><a href="#DataBased-289"><span class="linenos">289</span></a><span class="sd">        #### :params:</span>
-</span><span id="DataBased-290"><a href="#DataBased-290"><span class="linenos">290</span></a>
-</span><span id="DataBased-291"><a href="#DataBased-291"><span class="linenos">291</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each</span>
-</span><span id="DataBased-292"><a href="#DataBased-292"><span class="linenos">292</span></a><span class="sd">        tuple is `(columnName, rowValue)` or a dictionary where</span>
-</span><span id="DataBased-293"><a href="#DataBased-293"><span class="linenos">293</span></a><span class="sd">        keys are column names and values are row values.</span>
-</span><span id="DataBased-294"><a href="#DataBased-294"><span class="linenos">294</span></a>
-</span><span id="DataBased-295"><a href="#DataBased-295"><span class="linenos">295</span></a><span class="sd">        `exact_match`: If `False`, the row value for a given column will be matched as a substring.</span>
-</span><span id="DataBased-296"><a href="#DataBased-296"><span class="linenos">296</span></a>
-</span><span id="DataBased-297"><a href="#DataBased-297"><span class="linenos">297</span></a><span class="sd">        `sort_by_column`: A column name to sort the results by.</span>
-</span><span id="DataBased-298"><a href="#DataBased-298"><span class="linenos">298</span></a><span class="sd">        This will sort results in Python after retrieving them from the db.</span>
-</span><span id="DataBased-299"><a href="#DataBased-299"><span class="linenos">299</span></a><span class="sd">        Use the &#39;order_by&#39; param to use SQLite engine for ordering.</span>
+</span><span id="DataBased-247"><a href="#DataBased-247"><span class="linenos">247</span></a><span class="sd">        `values`: A tuple of values to be inserted into the table.</span>
+</span><span id="DataBased-248"><a href="#DataBased-248"><span class="linenos">248</span></a>
+</span><span id="DataBased-249"><a href="#DataBased-249"><span class="linenos">249</span></a><span class="sd">        `columns`: If `None`, `values` is expected to supply a value for every column in the table.</span>
+</span><span id="DataBased-250"><a href="#DataBased-250"><span class="linenos">250</span></a><span class="sd">        If `columns` is provided, it should contain the same number of elements as `values`.&quot;&quot;&quot;</span>
+</span><span id="DataBased-251"><a href="#DataBased-251"><span class="linenos">251</span></a>        <span class="n">parameterizer</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;?&quot;</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
+</span><span id="DataBased-252"><a href="#DataBased-252"><span class="linenos">252</span></a>        <span class="n">logger_values</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
+</span><span id="DataBased-253"><a href="#DataBased-253"><span class="linenos">253</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DataBased-254"><a href="#DataBased-254"><span class="linenos">254</span></a>            <span class="k">if</span> <span class="n">columns</span><span class="p">:</span>
+</span><span id="DataBased-255"><a href="#DataBased-255"><span class="linenos">255</span></a>                <span class="n">columns_query</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">column</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">)</span>
+</span><span id="DataBased-256"><a href="#DataBased-256"><span class="linenos">256</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="DataBased-257"><a href="#DataBased-257"><span class="linenos">257</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">columns_query</span><span class="si">}</span><span class="s2">) values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span>
+</span><span id="DataBased-258"><a href="#DataBased-258"><span class="linenos">258</span></a>                    <span class="n">values</span><span class="p">,</span>
+</span><span id="DataBased-259"><a href="#DataBased-259"><span class="linenos">259</span></a>                <span class="p">)</span>
+</span><span id="DataBased-260"><a href="#DataBased-260"><span class="linenos">260</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased-261"><a href="#DataBased-261"><span class="linenos">261</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="DataBased-262"><a href="#DataBased-262"><span class="linenos">262</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span> <span class="n">values</span>
+</span><span id="DataBased-263"><a href="#DataBased-263"><span class="linenos">263</span></a>                <span class="p">)</span>
+</span><span id="DataBased-264"><a href="#DataBased-264"><span class="linenos">264</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span><span class="p">)</span>
+</span><span id="DataBased-265"><a href="#DataBased-265"><span class="linenos">265</span></a>            <span class="k">return</span> <span class="kc">True</span>
+</span><span id="DataBased-266"><a href="#DataBased-266"><span class="linenos">266</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DataBased-267"><a href="#DataBased-267"><span class="linenos">267</span></a>            <span class="k">if</span> <span class="s2">&quot;constraint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
+</span><span id="DataBased-268"><a href="#DataBased-268"><span class="linenos">268</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span>
+</span><span id="DataBased-269"><a href="#DataBased-269"><span class="linenos">269</span></a>                    <span class="sa">f</span><span class="s1">&#39;Error adding &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span>
+</span><span id="DataBased-270"><a href="#DataBased-270"><span class="linenos">270</span></a>                <span class="p">)</span>
+</span><span id="DataBased-271"><a href="#DataBased-271"><span class="linenos">271</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased-272"><a href="#DataBased-272"><span class="linenos">272</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
+</span><span id="DataBased-273"><a href="#DataBased-273"><span class="linenos">273</span></a>            <span class="k">return</span> <span class="kc">False</span>
+</span><span id="DataBased-274"><a href="#DataBased-274"><span class="linenos">274</span></a>
+</span><span id="DataBased-275"><a href="#DataBased-275"><span class="linenos">275</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased-276"><a href="#DataBased-276"><span class="linenos">276</span></a>    <span class="k">def</span> <span class="nf">add_rows</span><span class="p">(</span>
+</span><span id="DataBased-277"><a href="#DataBased-277"><span class="linenos">277</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="DataBased-278"><a href="#DataBased-278"><span class="linenos">278</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
+</span><span id="DataBased-279"><a href="#DataBased-279"><span class="linenos">279</span></a>        <span class="sd">&quot;&quot;&quot;Add multiple rows of values to a table.</span>
+</span><span id="DataBased-280"><a href="#DataBased-280"><span class="linenos">280</span></a>
+</span><span id="DataBased-281"><a href="#DataBased-281"><span class="linenos">281</span></a><span class="sd">        Returns a tuple containing the number of successful additions and the number of failed additions.</span>
+</span><span id="DataBased-282"><a href="#DataBased-282"><span class="linenos">282</span></a>
+</span><span id="DataBased-283"><a href="#DataBased-283"><span class="linenos">283</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased-284"><a href="#DataBased-284"><span class="linenos">284</span></a>
+</span><span id="DataBased-285"><a href="#DataBased-285"><span class="linenos">285</span></a><span class="sd">        `table`: The table to insert values into.</span>
+</span><span id="DataBased-286"><a href="#DataBased-286"><span class="linenos">286</span></a>
+</span><span id="DataBased-287"><a href="#DataBased-287"><span class="linenos">287</span></a><span class="sd">        `values`: A list of tuples of values to be inserted into the table.</span>
+</span><span id="DataBased-288"><a href="#DataBased-288"><span class="linenos">288</span></a><span class="sd">        Each tuple constitutes a single row to be inserted</span>
+</span><span id="DataBased-289"><a href="#DataBased-289"><span class="linenos">289</span></a>
+</span><span id="DataBased-290"><a href="#DataBased-290"><span class="linenos">290</span></a><span class="sd">        `columns`: If `None`, `values` is expected to supply a value for every column in the table.</span>
+</span><span id="DataBased-291"><a href="#DataBased-291"><span class="linenos">291</span></a><span class="sd">        If `columns` is provided, it should contain the same number of elements as `values`.&quot;&quot;&quot;</span>
+</span><span id="DataBased-292"><a href="#DataBased-292"><span class="linenos">292</span></a>        <span class="n">successes</span> <span class="o">=</span> <span class="mi">0</span>
+</span><span id="DataBased-293"><a href="#DataBased-293"><span class="linenos">293</span></a>        <span class="n">failures</span> <span class="o">=</span> <span class="mi">0</span>
+</span><span id="DataBased-294"><a href="#DataBased-294"><span class="linenos">294</span></a>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
+</span><span id="DataBased-295"><a href="#DataBased-295"><span class="linenos">295</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">columns</span><span class="p">):</span>
+</span><span id="DataBased-296"><a href="#DataBased-296"><span class="linenos">296</span></a>                <span class="n">successes</span> <span class="o">+=</span> <span class="mi">1</span>
+</span><span id="DataBased-297"><a href="#DataBased-297"><span class="linenos">297</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased-298"><a href="#DataBased-298"><span class="linenos">298</span></a>                <span class="n">failures</span> <span class="o">+=</span> <span class="mi">1</span>
+</span><span id="DataBased-299"><a href="#DataBased-299"><span class="linenos">299</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">successes</span><span class="p">,</span> <span class="n">failures</span><span class="p">)</span>
 </span><span id="DataBased-300"><a href="#DataBased-300"><span class="linenos">300</span></a>
-</span><span id="DataBased-301"><a href="#DataBased-301"><span class="linenos">301</span></a><span class="sd">        `columns_to_return`: Optional list of column names.</span>
-</span><span id="DataBased-302"><a href="#DataBased-302"><span class="linenos">302</span></a><span class="sd">        If provided, the elements returned by this function will only contain the provided columns.</span>
-</span><span id="DataBased-303"><a href="#DataBased-303"><span class="linenos">303</span></a><span class="sd">        Otherwise every column in the row is returned.</span>
-</span><span id="DataBased-304"><a href="#DataBased-304"><span class="linenos">304</span></a>
-</span><span id="DataBased-305"><a href="#DataBased-305"><span class="linenos">305</span></a><span class="sd">        `return_as_dataframe`: Return the results as a `pandas.DataFrame` object.</span>
-</span><span id="DataBased-306"><a href="#DataBased-306"><span class="linenos">306</span></a>
-</span><span id="DataBased-307"><a href="#DataBased-307"><span class="linenos">307</span></a><span class="sd">        `values_only`: Return the results as a list of tuples.</span>
-</span><span id="DataBased-308"><a href="#DataBased-308"><span class="linenos">308</span></a>
-</span><span id="DataBased-309"><a href="#DataBased-309"><span class="linenos">309</span></a><span class="sd">        `order_by`: If given, a `order by {order_by}` clause will be added to the select query.</span>
-</span><span id="DataBased-310"><a href="#DataBased-310"><span class="linenos">310</span></a>
-</span><span id="DataBased-311"><a href="#DataBased-311"><span class="linenos">311</span></a><span class="sd">        `limit`: If given, a `limit {limit}` clause will be added to the select query.</span>
-</span><span id="DataBased-312"><a href="#DataBased-312"><span class="linenos">312</span></a><span class="sd">        &quot;&quot;&quot;</span>
-</span><span id="DataBased-313"><a href="#DataBased-313"><span class="linenos">313</span></a>
-</span><span id="DataBased-314"><a href="#DataBased-314"><span class="linenos">314</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns_to_return</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
-</span><span id="DataBased-315"><a href="#DataBased-315"><span class="linenos">315</span></a>            <span class="n">columns_to_return</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns_to_return</span><span class="p">]</span>
-</span><span id="DataBased-316"><a href="#DataBased-316"><span class="linenos">316</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;select * from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="DataBased-317"><a href="#DataBased-317"><span class="linenos">317</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="p">[]</span>
-</span><span id="DataBased-318"><a href="#DataBased-318"><span class="linenos">318</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
-</span><span id="DataBased-319"><a href="#DataBased-319"><span class="linenos">319</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="DataBased-320"><a href="#DataBased-320"><span class="linenos">320</span></a>        <span class="k">if</span> <span class="n">order_by</span><span class="p">:</span>
-</span><span id="DataBased-321"><a href="#DataBased-321"><span class="linenos">321</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; order by </span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="DataBased-322"><a href="#DataBased-322"><span class="linenos">322</span></a>        <span class="k">if</span> <span class="n">limit</span><span class="p">:</span>
-</span><span id="DataBased-323"><a href="#DataBased-323"><span class="linenos">323</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; limit </span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="DataBased-324"><a href="#DataBased-324"><span class="linenos">324</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
-</span><span id="DataBased-325"><a href="#DataBased-325"><span class="linenos">325</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
-</span><span id="DataBased-326"><a href="#DataBased-326"><span class="linenos">326</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
-</span><span id="DataBased-327"><a href="#DataBased-327"><span class="linenos">327</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match</span><span class="p">,</span> <span class="n">columns_to_return</span><span class="p">)</span> <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">]</span>
-</span><span id="DataBased-328"><a href="#DataBased-328"><span class="linenos">328</span></a>        <span class="k">if</span> <span class="n">sort_by_column</span><span class="p">:</span>
-</span><span id="DataBased-329"><a href="#DataBased-329"><span class="linenos">329</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="n">sort_by_column</span><span class="p">])</span>
-</span><span id="DataBased-330"><a href="#DataBased-330"><span class="linenos">330</span></a>        <span class="k">if</span> <span class="n">return_as_dataframe</span><span class="p">:</span>
-</span><span id="DataBased-331"><a href="#DataBased-331"><span class="linenos">331</span></a>            <span class="k">return</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
-</span><span id="DataBased-332"><a href="#DataBased-332"><span class="linenos">332</span></a>        <span class="k">if</span> <span class="n">values_only</span><span class="p">:</span>
-</span><span id="DataBased-333"><a href="#DataBased-333"><span class="linenos">333</span></a>            <span class="k">return</span> <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
-</span><span id="DataBased-334"><a href="#DataBased-334"><span class="linenos">334</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DataBased-335"><a href="#DataBased-335"><span class="linenos">335</span></a>            <span class="k">return</span> <span class="n">results</span>
+</span><span id="DataBased-301"><a href="#DataBased-301"><span class="linenos">301</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased-302"><a href="#DataBased-302"><span class="linenos">302</span></a>    <span class="k">def</span> <span class="nf">get_rows</span><span class="p">(</span>
+</span><span id="DataBased-303"><a href="#DataBased-303"><span class="linenos">303</span></a>        <span class="bp">self</span><span class="p">,</span>
+</span><span id="DataBased-304"><a href="#DataBased-304"><span class="linenos">304</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
+</span><span id="DataBased-305"><a href="#DataBased-305"><span class="linenos">305</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased-306"><a href="#DataBased-306"><span class="linenos">306</span></a>        <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
+</span><span id="DataBased-307"><a href="#DataBased-307"><span class="linenos">307</span></a>        <span class="n">sort_by_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased-308"><a href="#DataBased-308"><span class="linenos">308</span></a>        <span class="n">columns_to_return</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased-309"><a href="#DataBased-309"><span class="linenos">309</span></a>        <span class="n">return_as_dataframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
+</span><span id="DataBased-310"><a href="#DataBased-310"><span class="linenos">310</span></a>        <span class="n">values_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
+</span><span id="DataBased-311"><a href="#DataBased-311"><span class="linenos">311</span></a>        <span class="n">order_by</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased-312"><a href="#DataBased-312"><span class="linenos">312</span></a>        <span class="n">limit</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased-313"><a href="#DataBased-313"><span class="linenos">313</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
+</span><span id="DataBased-314"><a href="#DataBased-314"><span class="linenos">314</span></a>        <span class="sd">&quot;&quot;&quot;Return matching rows from `table`.</span>
+</span><span id="DataBased-315"><a href="#DataBased-315"><span class="linenos">315</span></a>
+</span><span id="DataBased-316"><a href="#DataBased-316"><span class="linenos">316</span></a><span class="sd">        By default, rows will be returned as a list of dictionaries of the form `[{&quot;column_name&quot;: value, ...}, ...]`</span>
+</span><span id="DataBased-317"><a href="#DataBased-317"><span class="linenos">317</span></a>
+</span><span id="DataBased-318"><a href="#DataBased-318"><span class="linenos">318</span></a>
+</span><span id="DataBased-319"><a href="#DataBased-319"><span class="linenos">319</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased-320"><a href="#DataBased-320"><span class="linenos">320</span></a>
+</span><span id="DataBased-321"><a href="#DataBased-321"><span class="linenos">321</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each</span>
+</span><span id="DataBased-322"><a href="#DataBased-322"><span class="linenos">322</span></a><span class="sd">        tuple is `(columnName, rowValue)` or a dictionary where</span>
+</span><span id="DataBased-323"><a href="#DataBased-323"><span class="linenos">323</span></a><span class="sd">        keys are column names and values are row values.</span>
+</span><span id="DataBased-324"><a href="#DataBased-324"><span class="linenos">324</span></a>
+</span><span id="DataBased-325"><a href="#DataBased-325"><span class="linenos">325</span></a><span class="sd">        `exact_match`: If `False`, the row value for a given column will be matched as a substring.</span>
+</span><span id="DataBased-326"><a href="#DataBased-326"><span class="linenos">326</span></a>
+</span><span id="DataBased-327"><a href="#DataBased-327"><span class="linenos">327</span></a><span class="sd">        `sort_by_column`: A column name to sort the results by.</span>
+</span><span id="DataBased-328"><a href="#DataBased-328"><span class="linenos">328</span></a><span class="sd">        This will sort results in Python after retrieving them from the db.</span>
+</span><span id="DataBased-329"><a href="#DataBased-329"><span class="linenos">329</span></a><span class="sd">        Use the &#39;order_by&#39; param to use SQLite engine for ordering.</span>
+</span><span id="DataBased-330"><a href="#DataBased-330"><span class="linenos">330</span></a>
+</span><span id="DataBased-331"><a href="#DataBased-331"><span class="linenos">331</span></a><span class="sd">        `columns_to_return`: Optional list of column names.</span>
+</span><span id="DataBased-332"><a href="#DataBased-332"><span class="linenos">332</span></a><span class="sd">        If provided, the elements returned by this function will only contain the provided columns.</span>
+</span><span id="DataBased-333"><a href="#DataBased-333"><span class="linenos">333</span></a><span class="sd">        Otherwise every column in the row is returned.</span>
+</span><span id="DataBased-334"><a href="#DataBased-334"><span class="linenos">334</span></a>
+</span><span id="DataBased-335"><a href="#DataBased-335"><span class="linenos">335</span></a><span class="sd">        `return_as_dataframe`: Return the results as a `pandas.DataFrame` object.</span>
 </span><span id="DataBased-336"><a href="#DataBased-336"><span class="linenos">336</span></a>
-</span><span id="DataBased-337"><a href="#DataBased-337"><span class="linenos">337</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased-338"><a href="#DataBased-338"><span class="linenos">338</span></a>    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span>
-</span><span id="DataBased-339"><a href="#DataBased-339"><span class="linenos">339</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">query_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="DataBased-340"><a href="#DataBased-340"><span class="linenos">340</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
-</span><span id="DataBased-341"><a href="#DataBased-341"><span class="linenos">341</span></a>        <span class="sd">&quot;&quot;&quot;Search for rows that contain `query_string` as a substring of any column.</span>
-</span><span id="DataBased-342"><a href="#DataBased-342"><span class="linenos">342</span></a>
-</span><span id="DataBased-343"><a href="#DataBased-343"><span class="linenos">343</span></a><span class="sd">        #### :params:</span>
-</span><span id="DataBased-344"><a href="#DataBased-344"><span class="linenos">344</span></a>
-</span><span id="DataBased-345"><a href="#DataBased-345"><span class="linenos">345</span></a><span class="sd">        `table`: The table to search.</span>
-</span><span id="DataBased-346"><a href="#DataBased-346"><span class="linenos">346</span></a>
-</span><span id="DataBased-347"><a href="#DataBased-347"><span class="linenos">347</span></a><span class="sd">        `query_string`: The substring to search for in all columns.</span>
-</span><span id="DataBased-348"><a href="#DataBased-348"><span class="linenos">348</span></a>
-</span><span id="DataBased-349"><a href="#DataBased-349"><span class="linenos">349</span></a><span class="sd">        `columns`: A list of columns to search for query_string.</span>
-</span><span id="DataBased-350"><a href="#DataBased-350"><span class="linenos">350</span></a><span class="sd">        If None, all columns in the table will be searched.</span>
-</span><span id="DataBased-351"><a href="#DataBased-351"><span class="linenos">351</span></a><span class="sd">        &quot;&quot;&quot;</span>
-</span><span id="DataBased-352"><a href="#DataBased-352"><span class="linenos">352</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
-</span><span id="DataBased-353"><a href="#DataBased-353"><span class="linenos">353</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns</span><span class="p">]</span>
-</span><span id="DataBased-354"><a href="#DataBased-354"><span class="linenos">354</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
-</span><span id="DataBased-355"><a href="#DataBased-355"><span class="linenos">355</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">columns</span><span class="p">:</span>
-</span><span id="DataBased-356"><a href="#DataBased-356"><span class="linenos">356</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
-</span><span id="DataBased-357"><a href="#DataBased-357"><span class="linenos">357</span></a>        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
-</span><span id="DataBased-358"><a href="#DataBased-358"><span class="linenos">358</span></a>            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
-</span><span id="DataBased-359"><a href="#DataBased-359"><span class="linenos">359</span></a>                <span class="p">[</span>
-</span><span id="DataBased-360"><a href="#DataBased-360"><span class="linenos">360</span></a>                    <span class="n">row</span>
-</span><span id="DataBased-361"><a href="#DataBased-361"><span class="linenos">361</span></a>                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
-</span><span id="DataBased-362"><a href="#DataBased-362"><span class="linenos">362</span></a>                        <span class="n">table</span><span class="p">,</span> <span class="p">[(</span><span class="n">column</span><span class="p">,</span> <span class="n">query_string</span><span class="p">)],</span> <span class="n">exact_match</span><span class="o">=</span><span class="kc">False</span>
-</span><span id="DataBased-363"><a href="#DataBased-363"><span class="linenos">363</span></a>                    <span class="p">)</span>
-</span><span id="DataBased-364"><a href="#DataBased-364"><span class="linenos">364</span></a>                    <span class="k">if</span> <span class="n">row</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">results</span>
-</span><span id="DataBased-365"><a href="#DataBased-365"><span class="linenos">365</span></a>                <span class="p">]</span>
-</span><span id="DataBased-366"><a href="#DataBased-366"><span class="linenos">366</span></a>            <span class="p">)</span>
-</span><span id="DataBased-367"><a href="#DataBased-367"><span class="linenos">367</span></a>        <span class="k">return</span> <span class="n">results</span>
-</span><span id="DataBased-368"><a href="#DataBased-368"><span class="linenos">368</span></a>
-</span><span id="DataBased-369"><a href="#DataBased-369"><span class="linenos">369</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased-370"><a href="#DataBased-370"><span class="linenos">370</span></a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
-</span><span id="DataBased-371"><a href="#DataBased-371"><span class="linenos">371</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
-</span><span id="DataBased-372"><a href="#DataBased-372"><span class="linenos">372</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
-</span><span id="DataBased-373"><a href="#DataBased-373"><span class="linenos">373</span></a>        <span class="sd">&quot;&quot;&quot;Delete records from `table`.</span>
+</span><span id="DataBased-337"><a href="#DataBased-337"><span class="linenos">337</span></a><span class="sd">        `values_only`: Return the results as a list of tuples.</span>
+</span><span id="DataBased-338"><a href="#DataBased-338"><span class="linenos">338</span></a>
+</span><span id="DataBased-339"><a href="#DataBased-339"><span class="linenos">339</span></a><span class="sd">        `order_by`: If given, a `order by {order_by}` clause will be added to the select query.</span>
+</span><span id="DataBased-340"><a href="#DataBased-340"><span class="linenos">340</span></a>
+</span><span id="DataBased-341"><a href="#DataBased-341"><span class="linenos">341</span></a><span class="sd">        `limit`: If given, a `limit {limit}` clause will be added to the select query.</span>
+</span><span id="DataBased-342"><a href="#DataBased-342"><span class="linenos">342</span></a><span class="sd">        &quot;&quot;&quot;</span>
+</span><span id="DataBased-343"><a href="#DataBased-343"><span class="linenos">343</span></a>
+</span><span id="DataBased-344"><a href="#DataBased-344"><span class="linenos">344</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns_to_return</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
+</span><span id="DataBased-345"><a href="#DataBased-345"><span class="linenos">345</span></a>            <span class="n">columns_to_return</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns_to_return</span><span class="p">]</span>
+</span><span id="DataBased-346"><a href="#DataBased-346"><span class="linenos">346</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;select * from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="DataBased-347"><a href="#DataBased-347"><span class="linenos">347</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="p">[]</span>
+</span><span id="DataBased-348"><a href="#DataBased-348"><span class="linenos">348</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
+</span><span id="DataBased-349"><a href="#DataBased-349"><span class="linenos">349</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="DataBased-350"><a href="#DataBased-350"><span class="linenos">350</span></a>        <span class="k">if</span> <span class="n">order_by</span><span class="p">:</span>
+</span><span id="DataBased-351"><a href="#DataBased-351"><span class="linenos">351</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; order by </span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="DataBased-352"><a href="#DataBased-352"><span class="linenos">352</span></a>        <span class="k">if</span> <span class="n">limit</span><span class="p">:</span>
+</span><span id="DataBased-353"><a href="#DataBased-353"><span class="linenos">353</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; limit </span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="DataBased-354"><a href="#DataBased-354"><span class="linenos">354</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
+</span><span id="DataBased-355"><a href="#DataBased-355"><span class="linenos">355</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
+</span><span id="DataBased-356"><a href="#DataBased-356"><span class="linenos">356</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
+</span><span id="DataBased-357"><a href="#DataBased-357"><span class="linenos">357</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match</span><span class="p">,</span> <span class="n">columns_to_return</span><span class="p">)</span> <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">]</span>
+</span><span id="DataBased-358"><a href="#DataBased-358"><span class="linenos">358</span></a>        <span class="k">if</span> <span class="n">sort_by_column</span><span class="p">:</span>
+</span><span id="DataBased-359"><a href="#DataBased-359"><span class="linenos">359</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="n">sort_by_column</span><span class="p">])</span>
+</span><span id="DataBased-360"><a href="#DataBased-360"><span class="linenos">360</span></a>        <span class="k">if</span> <span class="n">return_as_dataframe</span><span class="p">:</span>
+</span><span id="DataBased-361"><a href="#DataBased-361"><span class="linenos">361</span></a>            <span class="k">return</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
+</span><span id="DataBased-362"><a href="#DataBased-362"><span class="linenos">362</span></a>        <span class="k">if</span> <span class="n">values_only</span><span class="p">:</span>
+</span><span id="DataBased-363"><a href="#DataBased-363"><span class="linenos">363</span></a>            <span class="k">return</span> <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
+</span><span id="DataBased-364"><a href="#DataBased-364"><span class="linenos">364</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased-365"><a href="#DataBased-365"><span class="linenos">365</span></a>            <span class="k">return</span> <span class="n">results</span>
+</span><span id="DataBased-366"><a href="#DataBased-366"><span class="linenos">366</span></a>
+</span><span id="DataBased-367"><a href="#DataBased-367"><span class="linenos">367</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased-368"><a href="#DataBased-368"><span class="linenos">368</span></a>    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span>
+</span><span id="DataBased-369"><a href="#DataBased-369"><span class="linenos">369</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">query_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="DataBased-370"><a href="#DataBased-370"><span class="linenos">370</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
+</span><span id="DataBased-371"><a href="#DataBased-371"><span class="linenos">371</span></a>        <span class="sd">&quot;&quot;&quot;Search for rows that contain `query_string` as a substring of any column.</span>
+</span><span id="DataBased-372"><a href="#DataBased-372"><span class="linenos">372</span></a>
+</span><span id="DataBased-373"><a href="#DataBased-373"><span class="linenos">373</span></a><span class="sd">        #### :params:</span>
 </span><span id="DataBased-374"><a href="#DataBased-374"><span class="linenos">374</span></a>
-</span><span id="DataBased-375"><a href="#DataBased-375"><span class="linenos">375</span></a><span class="sd">        Returns the number of deleted records.</span>
+</span><span id="DataBased-375"><a href="#DataBased-375"><span class="linenos">375</span></a><span class="sd">        `table`: The table to search.</span>
 </span><span id="DataBased-376"><a href="#DataBased-376"><span class="linenos">376</span></a>
-</span><span id="DataBased-377"><a href="#DataBased-377"><span class="linenos">377</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased-377"><a href="#DataBased-377"><span class="linenos">377</span></a><span class="sd">        `query_string`: The substring to search for in all columns.</span>
 </span><span id="DataBased-378"><a href="#DataBased-378"><span class="linenos">378</span></a>
-</span><span id="DataBased-379"><a href="#DataBased-379"><span class="linenos">379</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(column_name, value)`</span>
-</span><span id="DataBased-380"><a href="#DataBased-380"><span class="linenos">380</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
-</span><span id="DataBased-381"><a href="#DataBased-381"><span class="linenos">381</span></a>
-</span><span id="DataBased-382"><a href="#DataBased-382"><span class="linenos">382</span></a><span class="sd">        `exact_match`: If `False`, the value for a given column will be matched as a substring.</span>
-</span><span id="DataBased-383"><a href="#DataBased-383"><span class="linenos">383</span></a><span class="sd">        &quot;&quot;&quot;</span>
-</span><span id="DataBased-384"><a href="#DataBased-384"><span class="linenos">384</span></a>        <span class="n">num_matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
-</span><span id="DataBased-385"><a href="#DataBased-385"><span class="linenos">385</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
-</span><span id="DataBased-386"><a href="#DataBased-386"><span class="linenos">386</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DataBased-387"><a href="#DataBased-387"><span class="linenos">387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;delete from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
-</span><span id="DataBased-388"><a href="#DataBased-388"><span class="linenos">388</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
-</span><span id="DataBased-389"><a href="#DataBased-389"><span class="linenos">389</span></a>                <span class="sa">f</span><span class="s1">&#39;Deleted </span><span class="si">{</span><span class="n">num_matches</span><span class="si">}</span><span class="s1"> from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;.&#39;</span>
-</span><span id="DataBased-390"><a href="#DataBased-390"><span class="linenos">390</span></a>            <span class="p">)</span>
-</span><span id="DataBased-391"><a href="#DataBased-391"><span class="linenos">391</span></a>            <span class="k">return</span> <span class="n">num_matches</span>
-</span><span id="DataBased-392"><a href="#DataBased-392"><span class="linenos">392</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DataBased-393"><a href="#DataBased-393"><span class="linenos">393</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error deleting from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">.</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
-</span><span id="DataBased-394"><a href="#DataBased-394"><span class="linenos">394</span></a>            <span class="k">return</span> <span class="mi">0</span>
-</span><span id="DataBased-395"><a href="#DataBased-395"><span class="linenos">395</span></a>
-</span><span id="DataBased-396"><a href="#DataBased-396"><span class="linenos">396</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased-397"><a href="#DataBased-397"><span class="linenos">397</span></a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
-</span><span id="DataBased-398"><a href="#DataBased-398"><span class="linenos">398</span></a>        <span class="bp">self</span><span class="p">,</span>
-</span><span id="DataBased-399"><a href="#DataBased-399"><span class="linenos">399</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
-</span><span id="DataBased-400"><a href="#DataBased-400"><span class="linenos">400</span></a>        <span class="n">column_to_update</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
-</span><span id="DataBased-401"><a href="#DataBased-401"><span class="linenos">401</span></a>        <span class="n">new_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
-</span><span id="DataBased-402"><a href="#DataBased-402"><span class="linenos">402</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased-403"><a href="#DataBased-403"><span class="linenos">403</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
-</span><span id="DataBased-404"><a href="#DataBased-404"><span class="linenos">404</span></a>        <span class="sd">&quot;&quot;&quot;Update the value in `column_to_update` to `new_value` for rows matched with `match_criteria`.</span>
-</span><span id="DataBased-405"><a href="#DataBased-405"><span class="linenos">405</span></a>
-</span><span id="DataBased-406"><a href="#DataBased-406"><span class="linenos">406</span></a><span class="sd">        #### :params:</span>
-</span><span id="DataBased-407"><a href="#DataBased-407"><span class="linenos">407</span></a>
-</span><span id="DataBased-408"><a href="#DataBased-408"><span class="linenos">408</span></a><span class="sd">        `table`: The table to update rows in.</span>
-</span><span id="DataBased-409"><a href="#DataBased-409"><span class="linenos">409</span></a>
-</span><span id="DataBased-410"><a href="#DataBased-410"><span class="linenos">410</span></a><span class="sd">        `column_to_update`: The column to be updated in the matched rows.</span>
+</span><span id="DataBased-379"><a href="#DataBased-379"><span class="linenos">379</span></a><span class="sd">        `columns`: A list of columns to search for query_string.</span>
+</span><span id="DataBased-380"><a href="#DataBased-380"><span class="linenos">380</span></a><span class="sd">        If None, all columns in the table will be searched.</span>
+</span><span id="DataBased-381"><a href="#DataBased-381"><span class="linenos">381</span></a><span class="sd">        &quot;&quot;&quot;</span>
+</span><span id="DataBased-382"><a href="#DataBased-382"><span class="linenos">382</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
+</span><span id="DataBased-383"><a href="#DataBased-383"><span class="linenos">383</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns</span><span class="p">]</span>
+</span><span id="DataBased-384"><a href="#DataBased-384"><span class="linenos">384</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
+</span><span id="DataBased-385"><a href="#DataBased-385"><span class="linenos">385</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">columns</span><span class="p">:</span>
+</span><span id="DataBased-386"><a href="#DataBased-386"><span class="linenos">386</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
+</span><span id="DataBased-387"><a href="#DataBased-387"><span class="linenos">387</span></a>        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
+</span><span id="DataBased-388"><a href="#DataBased-388"><span class="linenos">388</span></a>            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
+</span><span id="DataBased-389"><a href="#DataBased-389"><span class="linenos">389</span></a>                <span class="p">[</span>
+</span><span id="DataBased-390"><a href="#DataBased-390"><span class="linenos">390</span></a>                    <span class="n">row</span>
+</span><span id="DataBased-391"><a href="#DataBased-391"><span class="linenos">391</span></a>                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
+</span><span id="DataBased-392"><a href="#DataBased-392"><span class="linenos">392</span></a>                        <span class="n">table</span><span class="p">,</span> <span class="p">[(</span><span class="n">column</span><span class="p">,</span> <span class="n">query_string</span><span class="p">)],</span> <span class="n">exact_match</span><span class="o">=</span><span class="kc">False</span>
+</span><span id="DataBased-393"><a href="#DataBased-393"><span class="linenos">393</span></a>                    <span class="p">)</span>
+</span><span id="DataBased-394"><a href="#DataBased-394"><span class="linenos">394</span></a>                    <span class="k">if</span> <span class="n">row</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">results</span>
+</span><span id="DataBased-395"><a href="#DataBased-395"><span class="linenos">395</span></a>                <span class="p">]</span>
+</span><span id="DataBased-396"><a href="#DataBased-396"><span class="linenos">396</span></a>            <span class="p">)</span>
+</span><span id="DataBased-397"><a href="#DataBased-397"><span class="linenos">397</span></a>        <span class="k">return</span> <span class="n">results</span>
+</span><span id="DataBased-398"><a href="#DataBased-398"><span class="linenos">398</span></a>
+</span><span id="DataBased-399"><a href="#DataBased-399"><span class="linenos">399</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased-400"><a href="#DataBased-400"><span class="linenos">400</span></a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
+</span><span id="DataBased-401"><a href="#DataBased-401"><span class="linenos">401</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
+</span><span id="DataBased-402"><a href="#DataBased-402"><span class="linenos">402</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
+</span><span id="DataBased-403"><a href="#DataBased-403"><span class="linenos">403</span></a>        <span class="sd">&quot;&quot;&quot;Delete records from `table`.</span>
+</span><span id="DataBased-404"><a href="#DataBased-404"><span class="linenos">404</span></a>
+</span><span id="DataBased-405"><a href="#DataBased-405"><span class="linenos">405</span></a><span class="sd">        Returns the number of deleted records.</span>
+</span><span id="DataBased-406"><a href="#DataBased-406"><span class="linenos">406</span></a>
+</span><span id="DataBased-407"><a href="#DataBased-407"><span class="linenos">407</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased-408"><a href="#DataBased-408"><span class="linenos">408</span></a>
+</span><span id="DataBased-409"><a href="#DataBased-409"><span class="linenos">409</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(column_name, value)`</span>
+</span><span id="DataBased-410"><a href="#DataBased-410"><span class="linenos">410</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
 </span><span id="DataBased-411"><a href="#DataBased-411"><span class="linenos">411</span></a>
-</span><span id="DataBased-412"><a href="#DataBased-412"><span class="linenos">412</span></a><span class="sd">        `new_value`: The new value to insert.</span>
-</span><span id="DataBased-413"><a href="#DataBased-413"><span class="linenos">413</span></a>
-</span><span id="DataBased-414"><a href="#DataBased-414"><span class="linenos">414</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(columnName, rowValue)`</span>
-</span><span id="DataBased-415"><a href="#DataBased-415"><span class="linenos">415</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
-</span><span id="DataBased-416"><a href="#DataBased-416"><span class="linenos">416</span></a><span class="sd">        If `None`, every row in `table` will be updated.</span>
-</span><span id="DataBased-417"><a href="#DataBased-417"><span class="linenos">417</span></a>
-</span><span id="DataBased-418"><a href="#DataBased-418"><span class="linenos">418</span></a><span class="sd">        Returns `True` if successful, `False` if not.&quot;&quot;&quot;</span>
-</span><span id="DataBased-419"><a href="#DataBased-419"><span class="linenos">419</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;update </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> set </span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s2"> = ?&quot;</span>
-</span><span id="DataBased-420"><a href="#DataBased-420"><span class="linenos">420</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
-</span><span id="DataBased-421"><a href="#DataBased-421"><span class="linenos">421</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
-</span><span id="DataBased-422"><a href="#DataBased-422"><span class="linenos">422</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
-</span><span id="DataBased-423"><a href="#DataBased-423"><span class="linenos">423</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
-</span><span id="DataBased-424"><a href="#DataBased-424"><span class="linenos">424</span></a>                    <span class="sa">f</span><span class="s2">&quot;Couldn&#39;t find matching records in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table to update to &#39;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
-</span><span id="DataBased-425"><a href="#DataBased-425"><span class="linenos">425</span></a>                <span class="p">)</span>
-</span><span id="DataBased-426"><a href="#DataBased-426"><span class="linenos">426</span></a>                <span class="k">return</span> <span class="kc">False</span>
-</span><span id="DataBased-427"><a href="#DataBased-427"><span class="linenos">427</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">)</span>
-</span><span id="DataBased-428"><a href="#DataBased-428"><span class="linenos">428</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="DataBased-429"><a href="#DataBased-429"><span class="linenos">429</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DataBased-430"><a href="#DataBased-430"><span class="linenos">430</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="DataBased-431"><a href="#DataBased-431"><span class="linenos">431</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
-</span><span id="DataBased-432"><a href="#DataBased-432"><span class="linenos">432</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DataBased-433"><a href="#DataBased-433"><span class="linenos">433</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="DataBased-434"><a href="#DataBased-434"><span class="linenos">434</span></a>                <span class="n">query</span><span class="p">,</span>
-</span><span id="DataBased-435"><a href="#DataBased-435"><span class="linenos">435</span></a>                <span class="p">(</span><span class="n">new_value</span><span class="p">,),</span>
-</span><span id="DataBased-436"><a href="#DataBased-436"><span class="linenos">436</span></a>            <span class="p">)</span>
-</span><span id="DataBased-437"><a href="#DataBased-437"><span class="linenos">437</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
-</span><span id="DataBased-438"><a href="#DataBased-438"><span class="linenos">438</span></a>                <span class="sa">f</span><span class="s1">&#39;Updated &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&#39;</span>
-</span><span id="DataBased-439"><a href="#DataBased-439"><span class="linenos">439</span></a>            <span class="p">)</span>
-</span><span id="DataBased-440"><a href="#DataBased-440"><span class="linenos">440</span></a>            <span class="k">return</span> <span class="kc">True</span>
-</span><span id="DataBased-441"><a href="#DataBased-441"><span class="linenos">441</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DataBased-442"><a href="#DataBased-442"><span class="linenos">442</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
-</span><span id="DataBased-443"><a href="#DataBased-443"><span class="linenos">443</span></a>                <span class="sa">f</span><span class="s1">&#39;Failed to update &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span>
-</span><span id="DataBased-444"><a href="#DataBased-444"><span class="linenos">444</span></a>            <span class="p">)</span>
-</span><span id="DataBased-445"><a href="#DataBased-445"><span class="linenos">445</span></a>            <span class="k">return</span> <span class="kc">False</span>
+</span><span id="DataBased-412"><a href="#DataBased-412"><span class="linenos">412</span></a><span class="sd">        `exact_match`: If `False`, the value for a given column will be matched as a substring.</span>
+</span><span id="DataBased-413"><a href="#DataBased-413"><span class="linenos">413</span></a><span class="sd">        &quot;&quot;&quot;</span>
+</span><span id="DataBased-414"><a href="#DataBased-414"><span class="linenos">414</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
+</span><span id="DataBased-415"><a href="#DataBased-415"><span class="linenos">415</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DataBased-416"><a href="#DataBased-416"><span class="linenos">416</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;delete from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
+</span><span id="DataBased-417"><a href="#DataBased-417"><span class="linenos">417</span></a>            <span class="n">num_deletions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span>
+</span><span id="DataBased-418"><a href="#DataBased-418"><span class="linenos">418</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
+</span><span id="DataBased-419"><a href="#DataBased-419"><span class="linenos">419</span></a>                <span class="sa">f</span><span class="s1">&#39;Deleted </span><span class="si">{</span><span class="n">num_deletions</span><span class="si">}</span><span class="s1"> rows from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;.&#39;</span>
+</span><span id="DataBased-420"><a href="#DataBased-420"><span class="linenos">420</span></a>            <span class="p">)</span>
+</span><span id="DataBased-421"><a href="#DataBased-421"><span class="linenos">421</span></a>            <span class="k">return</span> <span class="n">num_deletions</span>
+</span><span id="DataBased-422"><a href="#DataBased-422"><span class="linenos">422</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DataBased-423"><a href="#DataBased-423"><span class="linenos">423</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
+</span><span id="DataBased-424"><a href="#DataBased-424"><span class="linenos">424</span></a>                <span class="sa">f</span><span class="s1">&#39;Error deleting rows from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">.</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span>
+</span><span id="DataBased-425"><a href="#DataBased-425"><span class="linenos">425</span></a>            <span class="p">)</span>
+</span><span id="DataBased-426"><a href="#DataBased-426"><span class="linenos">426</span></a>            <span class="k">return</span> <span class="mi">0</span>
+</span><span id="DataBased-427"><a href="#DataBased-427"><span class="linenos">427</span></a>
+</span><span id="DataBased-428"><a href="#DataBased-428"><span class="linenos">428</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased-429"><a href="#DataBased-429"><span class="linenos">429</span></a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
+</span><span id="DataBased-430"><a href="#DataBased-430"><span class="linenos">430</span></a>        <span class="bp">self</span><span class="p">,</span>
+</span><span id="DataBased-431"><a href="#DataBased-431"><span class="linenos">431</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
+</span><span id="DataBased-432"><a href="#DataBased-432"><span class="linenos">432</span></a>        <span class="n">column_to_update</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
+</span><span id="DataBased-433"><a href="#DataBased-433"><span class="linenos">433</span></a>        <span class="n">new_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
+</span><span id="DataBased-434"><a href="#DataBased-434"><span class="linenos">434</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased-435"><a href="#DataBased-435"><span class="linenos">435</span></a>        <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
+</span><span id="DataBased-436"><a href="#DataBased-436"><span class="linenos">436</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
+</span><span id="DataBased-437"><a href="#DataBased-437"><span class="linenos">437</span></a>        <span class="sd">&quot;&quot;&quot;Update the value in `column_to_update` to `new_value` for rows matched with `match_criteria`.</span>
+</span><span id="DataBased-438"><a href="#DataBased-438"><span class="linenos">438</span></a>
+</span><span id="DataBased-439"><a href="#DataBased-439"><span class="linenos">439</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased-440"><a href="#DataBased-440"><span class="linenos">440</span></a>
+</span><span id="DataBased-441"><a href="#DataBased-441"><span class="linenos">441</span></a><span class="sd">        `table`: The table to update rows in.</span>
+</span><span id="DataBased-442"><a href="#DataBased-442"><span class="linenos">442</span></a>
+</span><span id="DataBased-443"><a href="#DataBased-443"><span class="linenos">443</span></a><span class="sd">        `column_to_update`: The column to be updated in the matched rows.</span>
+</span><span id="DataBased-444"><a href="#DataBased-444"><span class="linenos">444</span></a>
+</span><span id="DataBased-445"><a href="#DataBased-445"><span class="linenos">445</span></a><span class="sd">        `new_value`: The new value to insert.</span>
 </span><span id="DataBased-446"><a href="#DataBased-446"><span class="linenos">446</span></a>
-</span><span id="DataBased-447"><a href="#DataBased-447"><span class="linenos">447</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased-448"><a href="#DataBased-448"><span class="linenos">448</span></a>    <span class="k">def</span> <span class="nf">drop_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
-</span><span id="DataBased-449"><a href="#DataBased-449"><span class="linenos">449</span></a>        <span class="sd">&quot;&quot;&quot;Drop `table` from the database.</span>
+</span><span id="DataBased-447"><a href="#DataBased-447"><span class="linenos">447</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(columnName, rowValue)`</span>
+</span><span id="DataBased-448"><a href="#DataBased-448"><span class="linenos">448</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
+</span><span id="DataBased-449"><a href="#DataBased-449"><span class="linenos">449</span></a><span class="sd">        If `None`, every row in `table` will be updated.</span>
 </span><span id="DataBased-450"><a href="#DataBased-450"><span class="linenos">450</span></a>
-</span><span id="DataBased-451"><a href="#DataBased-451"><span class="linenos">451</span></a><span class="sd">        Returns `True` if successful, `False` if not.&quot;&quot;&quot;</span>
-</span><span id="DataBased-452"><a href="#DataBased-452"><span class="linenos">452</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DataBased-453"><a href="#DataBased-453"><span class="linenos">453</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;drop Table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
-</span><span id="DataBased-454"><a href="#DataBased-454"><span class="linenos">454</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Dropped table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
-</span><span id="DataBased-455"><a href="#DataBased-455"><span class="linenos">455</span></a>            <span class="k">return</span> <span class="kc">True</span>
-</span><span id="DataBased-456"><a href="#DataBased-456"><span class="linenos">456</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DataBased-457"><a href="#DataBased-457"><span class="linenos">457</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
-</span><span id="DataBased-458"><a href="#DataBased-458"><span class="linenos">458</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to drop table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
-</span><span id="DataBased-459"><a href="#DataBased-459"><span class="linenos">459</span></a>            <span class="k">return</span> <span class="kc">False</span>
-</span><span id="DataBased-460"><a href="#DataBased-460"><span class="linenos">460</span></a>
-</span><span id="DataBased-461"><a href="#DataBased-461"><span class="linenos">461</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased-462"><a href="#DataBased-462"><span class="linenos">462</span></a>    <span class="k">def</span> <span class="nf">add_column</span><span class="p">(</span>
-</span><span id="DataBased-463"><a href="#DataBased-463"><span class="linenos">463</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="DataBased-464"><a href="#DataBased-464"><span class="linenos">464</span></a>    <span class="p">):</span>
-</span><span id="DataBased-465"><a href="#DataBased-465"><span class="linenos">465</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to `table`.</span>
-</span><span id="DataBased-466"><a href="#DataBased-466"><span class="linenos">466</span></a>
-</span><span id="DataBased-467"><a href="#DataBased-467"><span class="linenos">467</span></a><span class="sd">        #### :params:</span>
-</span><span id="DataBased-468"><a href="#DataBased-468"><span class="linenos">468</span></a>
-</span><span id="DataBased-469"><a href="#DataBased-469"><span class="linenos">469</span></a><span class="sd">        `column`: Name of the column to add.</span>
-</span><span id="DataBased-470"><a href="#DataBased-470"><span class="linenos">470</span></a>
-</span><span id="DataBased-471"><a href="#DataBased-471"><span class="linenos">471</span></a><span class="sd">        `_type`: The data type of the new column.</span>
-</span><span id="DataBased-472"><a href="#DataBased-472"><span class="linenos">472</span></a>
-</span><span id="DataBased-473"><a href="#DataBased-473"><span class="linenos">473</span></a><span class="sd">        `default_value`: Optional default value for the column.&quot;&quot;&quot;</span>
-</span><span id="DataBased-474"><a href="#DataBased-474"><span class="linenos">474</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DataBased-475"><a href="#DataBased-475"><span class="linenos">475</span></a>            <span class="k">if</span> <span class="n">default_value</span><span class="p">:</span>
-</span><span id="DataBased-476"><a href="#DataBased-476"><span class="linenos">476</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="DataBased-477"><a href="#DataBased-477"><span class="linenos">477</span></a>                    <span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2"> default </span><span class="si">{</span><span class="n">default_value</span><span class="si">}</span><span class="s2">;&quot;</span>
-</span><span id="DataBased-478"><a href="#DataBased-478"><span class="linenos">478</span></a>                <span class="p">)</span>
-</span><span id="DataBased-479"><a href="#DataBased-479"><span class="linenos">479</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span>
-</span><span id="DataBased-480"><a href="#DataBased-480"><span class="linenos">480</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="DataBased-481"><a href="#DataBased-481"><span class="linenos">481</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
-</span><span id="DataBased-482"><a href="#DataBased-482"><span class="linenos">482</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
-</span><span id="DataBased-483"><a href="#DataBased-483"><span class="linenos">483</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DataBased-484"><a href="#DataBased-484"><span class="linenos">484</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to add column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
-</span><span id="DataBased-485"><a href="#DataBased-485"><span class="linenos">485</span></a>
-</span><span id="DataBased-486"><a href="#DataBased-486"><span class="linenos">486</span></a>    <span class="nd">@staticmethod</span>
-</span><span id="DataBased-487"><a href="#DataBased-487"><span class="linenos">487</span></a>    <span class="k">def</span> <span class="nf">data_to_string</span><span class="p">(</span>
-</span><span id="DataBased-488"><a href="#DataBased-488"><span class="linenos">488</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
-</span><span id="DataBased-489"><a href="#DataBased-489"><span class="linenos">489</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
-</span><span id="DataBased-490"><a href="#DataBased-490"><span class="linenos">490</span></a>        <span class="sd">&quot;&quot;&quot;Uses tabulate to produce pretty string output from a list of dictionaries.</span>
+</span><span id="DataBased-451"><a href="#DataBased-451"><span class="linenos">451</span></a><span class="sd">        `exact_match`: If `False`, `match_criteria` values will be treated as substrings.</span>
+</span><span id="DataBased-452"><a href="#DataBased-452"><span class="linenos">452</span></a>
+</span><span id="DataBased-453"><a href="#DataBased-453"><span class="linenos">453</span></a><span class="sd">        Returns the number of updated rows.&quot;&quot;&quot;</span>
+</span><span id="DataBased-454"><a href="#DataBased-454"><span class="linenos">454</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;update </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> set </span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s2"> = ?&quot;</span>
+</span><span id="DataBased-455"><a href="#DataBased-455"><span class="linenos">455</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
+</span><span id="DataBased-456"><a href="#DataBased-456"><span class="linenos">456</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
+</span><span id="DataBased-457"><a href="#DataBased-457"><span class="linenos">457</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
+</span><span id="DataBased-458"><a href="#DataBased-458"><span class="linenos">458</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="DataBased-459"><a href="#DataBased-459"><span class="linenos">459</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased-460"><a href="#DataBased-460"><span class="linenos">460</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="DataBased-461"><a href="#DataBased-461"><span class="linenos">461</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
+</span><span id="DataBased-462"><a href="#DataBased-462"><span class="linenos">462</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DataBased-463"><a href="#DataBased-463"><span class="linenos">463</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="DataBased-464"><a href="#DataBased-464"><span class="linenos">464</span></a>                <span class="n">query</span><span class="p">,</span>
+</span><span id="DataBased-465"><a href="#DataBased-465"><span class="linenos">465</span></a>                <span class="p">(</span><span class="n">new_value</span><span class="p">,),</span>
+</span><span id="DataBased-466"><a href="#DataBased-466"><span class="linenos">466</span></a>            <span class="p">)</span>
+</span><span id="DataBased-467"><a href="#DataBased-467"><span class="linenos">467</span></a>            <span class="n">num_updates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span>
+</span><span id="DataBased-468"><a href="#DataBased-468"><span class="linenos">468</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
+</span><span id="DataBased-469"><a href="#DataBased-469"><span class="linenos">469</span></a>                <span class="sa">f</span><span class="s1">&#39;In </span><span class="si">{</span><span class="n">num_updates</span><span class="si">}</span><span class="s1"> rows, updated &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&#39;</span>
+</span><span id="DataBased-470"><a href="#DataBased-470"><span class="linenos">470</span></a>            <span class="p">)</span>
+</span><span id="DataBased-471"><a href="#DataBased-471"><span class="linenos">471</span></a>            <span class="k">return</span> <span class="n">num_updates</span>
+</span><span id="DataBased-472"><a href="#DataBased-472"><span class="linenos">472</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DataBased-473"><a href="#DataBased-473"><span class="linenos">473</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
+</span><span id="DataBased-474"><a href="#DataBased-474"><span class="linenos">474</span></a>                <span class="sa">f</span><span class="s1">&#39;Failed to update &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span>
+</span><span id="DataBased-475"><a href="#DataBased-475"><span class="linenos">475</span></a>            <span class="p">)</span>
+</span><span id="DataBased-476"><a href="#DataBased-476"><span class="linenos">476</span></a>            <span class="k">return</span> <span class="mi">0</span>
+</span><span id="DataBased-477"><a href="#DataBased-477"><span class="linenos">477</span></a>
+</span><span id="DataBased-478"><a href="#DataBased-478"><span class="linenos">478</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased-479"><a href="#DataBased-479"><span class="linenos">479</span></a>    <span class="k">def</span> <span class="nf">drop_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
+</span><span id="DataBased-480"><a href="#DataBased-480"><span class="linenos">480</span></a>        <span class="sd">&quot;&quot;&quot;Drop `table` from the database.</span>
+</span><span id="DataBased-481"><a href="#DataBased-481"><span class="linenos">481</span></a>
+</span><span id="DataBased-482"><a href="#DataBased-482"><span class="linenos">482</span></a><span class="sd">        Returns `True` if successful, `False` if not.&quot;&quot;&quot;</span>
+</span><span id="DataBased-483"><a href="#DataBased-483"><span class="linenos">483</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DataBased-484"><a href="#DataBased-484"><span class="linenos">484</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;drop Table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
+</span><span id="DataBased-485"><a href="#DataBased-485"><span class="linenos">485</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Dropped table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
+</span><span id="DataBased-486"><a href="#DataBased-486"><span class="linenos">486</span></a>            <span class="k">return</span> <span class="kc">True</span>
+</span><span id="DataBased-487"><a href="#DataBased-487"><span class="linenos">487</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DataBased-488"><a href="#DataBased-488"><span class="linenos">488</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
+</span><span id="DataBased-489"><a href="#DataBased-489"><span class="linenos">489</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to drop table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
+</span><span id="DataBased-490"><a href="#DataBased-490"><span class="linenos">490</span></a>            <span class="k">return</span> <span class="kc">False</span>
 </span><span id="DataBased-491"><a href="#DataBased-491"><span class="linenos">491</span></a>
-</span><span id="DataBased-492"><a href="#DataBased-492"><span class="linenos">492</span></a><span class="sd">        #### :params:</span>
-</span><span id="DataBased-493"><a href="#DataBased-493"><span class="linenos">493</span></a>
-</span><span id="DataBased-494"><a href="#DataBased-494"><span class="linenos">494</span></a><span class="sd">        `data`: The list of dictionaries to create a grid from.</span>
-</span><span id="DataBased-495"><a href="#DataBased-495"><span class="linenos">495</span></a><span class="sd">        Assumes all dictionaries in list have the same set of keys.</span>
-</span><span id="DataBased-496"><a href="#DataBased-496"><span class="linenos">496</span></a>
-</span><span id="DataBased-497"><a href="#DataBased-497"><span class="linenos">497</span></a><span class="sd">        `sort_key`: Optional dictionary key to sort data with.</span>
-</span><span id="DataBased-498"><a href="#DataBased-498"><span class="linenos">498</span></a>
-</span><span id="DataBased-499"><a href="#DataBased-499"><span class="linenos">499</span></a><span class="sd">        `wrap_to_terminal`: If `True`, the table width will be wrapped to fit within the current terminal window.</span>
-</span><span id="DataBased-500"><a href="#DataBased-500"><span class="linenos">500</span></a><span class="sd">        Pass as `False` if the output is going into something like a `.txt` file.&quot;&quot;&quot;</span>
-</span><span id="DataBased-501"><a href="#DataBased-501"><span class="linenos">501</span></a>        <span class="k">return</span> <span class="n">data_to_string</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">sort_key</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">)</span>
+</span><span id="DataBased-492"><a href="#DataBased-492"><span class="linenos">492</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased-493"><a href="#DataBased-493"><span class="linenos">493</span></a>    <span class="k">def</span> <span class="nf">add_column</span><span class="p">(</span>
+</span><span id="DataBased-494"><a href="#DataBased-494"><span class="linenos">494</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="DataBased-495"><a href="#DataBased-495"><span class="linenos">495</span></a>    <span class="p">):</span>
+</span><span id="DataBased-496"><a href="#DataBased-496"><span class="linenos">496</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to `table`.</span>
+</span><span id="DataBased-497"><a href="#DataBased-497"><span class="linenos">497</span></a>
+</span><span id="DataBased-498"><a href="#DataBased-498"><span class="linenos">498</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased-499"><a href="#DataBased-499"><span class="linenos">499</span></a>
+</span><span id="DataBased-500"><a href="#DataBased-500"><span class="linenos">500</span></a><span class="sd">        `column`: Name of the column to add.</span>
+</span><span id="DataBased-501"><a href="#DataBased-501"><span class="linenos">501</span></a>
+</span><span id="DataBased-502"><a href="#DataBased-502"><span class="linenos">502</span></a><span class="sd">        `_type`: The data type of the new column.</span>
+</span><span id="DataBased-503"><a href="#DataBased-503"><span class="linenos">503</span></a>
+</span><span id="DataBased-504"><a href="#DataBased-504"><span class="linenos">504</span></a><span class="sd">        `default_value`: Optional default value for the column.&quot;&quot;&quot;</span>
+</span><span id="DataBased-505"><a href="#DataBased-505"><span class="linenos">505</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DataBased-506"><a href="#DataBased-506"><span class="linenos">506</span></a>            <span class="k">if</span> <span class="n">default_value</span><span class="p">:</span>
+</span><span id="DataBased-507"><a href="#DataBased-507"><span class="linenos">507</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="DataBased-508"><a href="#DataBased-508"><span class="linenos">508</span></a>                    <span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2"> default </span><span class="si">{</span><span class="n">default_value</span><span class="si">}</span><span class="s2">;&quot;</span>
+</span><span id="DataBased-509"><a href="#DataBased-509"><span class="linenos">509</span></a>                <span class="p">)</span>
+</span><span id="DataBased-510"><a href="#DataBased-510"><span class="linenos">510</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span>
+</span><span id="DataBased-511"><a href="#DataBased-511"><span class="linenos">511</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased-512"><a href="#DataBased-512"><span class="linenos">512</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
+</span><span id="DataBased-513"><a href="#DataBased-513"><span class="linenos">513</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
+</span><span id="DataBased-514"><a href="#DataBased-514"><span class="linenos">514</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DataBased-515"><a href="#DataBased-515"><span class="linenos">515</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to add column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
+</span><span id="DataBased-516"><a href="#DataBased-516"><span class="linenos">516</span></a>
+</span><span id="DataBased-517"><a href="#DataBased-517"><span class="linenos">517</span></a>    <span class="nd">@staticmethod</span>
+</span><span id="DataBased-518"><a href="#DataBased-518"><span class="linenos">518</span></a>    <span class="k">def</span> <span class="nf">data_to_string</span><span class="p">(</span>
+</span><span id="DataBased-519"><a href="#DataBased-519"><span class="linenos">519</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
+</span><span id="DataBased-520"><a href="#DataBased-520"><span class="linenos">520</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
+</span><span id="DataBased-521"><a href="#DataBased-521"><span class="linenos">521</span></a>        <span class="sd">&quot;&quot;&quot;Uses tabulate to produce pretty string output from a list of dictionaries.</span>
+</span><span id="DataBased-522"><a href="#DataBased-522"><span class="linenos">522</span></a>
+</span><span id="DataBased-523"><a href="#DataBased-523"><span class="linenos">523</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased-524"><a href="#DataBased-524"><span class="linenos">524</span></a>
+</span><span id="DataBased-525"><a href="#DataBased-525"><span class="linenos">525</span></a><span class="sd">        `data`: The list of dictionaries to create a grid from.</span>
+</span><span id="DataBased-526"><a href="#DataBased-526"><span class="linenos">526</span></a><span class="sd">        Assumes all dictionaries in list have the same set of keys.</span>
+</span><span id="DataBased-527"><a href="#DataBased-527"><span class="linenos">527</span></a>
+</span><span id="DataBased-528"><a href="#DataBased-528"><span class="linenos">528</span></a><span class="sd">        `sort_key`: Optional dictionary key to sort data with.</span>
+</span><span id="DataBased-529"><a href="#DataBased-529"><span class="linenos">529</span></a>
+</span><span id="DataBased-530"><a href="#DataBased-530"><span class="linenos">530</span></a><span class="sd">        `wrap_to_terminal`: If `True`, the table width will be wrapped to fit within the current terminal window.</span>
+</span><span id="DataBased-531"><a href="#DataBased-531"><span class="linenos">531</span></a><span class="sd">        Pass as `False` if the output is going into something like a `.txt` file.&quot;&quot;&quot;</span>
+</span><span id="DataBased-532"><a href="#DataBased-532"><span class="linenos">532</span></a>        <span class="k">return</span> <span class="n">data_to_string</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">sort_key</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Sqli wrapper so queries don't need to be written except table definitions.</p>
 
 <p>Supports saving and reading dates as datetime objects.</p>
 
@@ -1499,148 +1564,210 @@
 
                             </div>
                             <div id="DataBased.add_row" class="classattr">
                                         <input id="DataBased.add_row-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
-        <span class="name">add_row</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">table</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">values</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>,</span><span class="param">	<span class="n">columns</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">):</span></span>
+        <span class="name">add_row</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">table</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">values</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>,</span><span class="param">	<span class="n">columns</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>
 
                 <label class="view-source-button" for="DataBased.add_row-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#DataBased.add_row"></a>
             <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.add_row-235"><a href="#DataBased.add_row-235"><span class="linenos">235</span></a>    <span class="nd">@_connect</span>
 </span><span id="DataBased.add_row-236"><a href="#DataBased.add_row-236"><span class="linenos">236</span></a>    <span class="k">def</span> <span class="nf">add_row</span><span class="p">(</span>
 </span><span id="DataBased.add_row-237"><a href="#DataBased.add_row-237"><span class="linenos">237</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="DataBased.add_row-238"><a href="#DataBased.add_row-238"><span class="linenos">238</span></a>    <span class="p">):</span>
+</span><span id="DataBased.add_row-238"><a href="#DataBased.add_row-238"><span class="linenos">238</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
 </span><span id="DataBased.add_row-239"><a href="#DataBased.add_row-239"><span class="linenos">239</span></a>        <span class="sd">&quot;&quot;&quot;Add a row of values to a table.</span>
 </span><span id="DataBased.add_row-240"><a href="#DataBased.add_row-240"><span class="linenos">240</span></a>
-</span><span id="DataBased.add_row-241"><a href="#DataBased.add_row-241"><span class="linenos">241</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased.add_row-241"><a href="#DataBased.add_row-241"><span class="linenos">241</span></a><span class="sd">        Returns whether the addition was successful or not.</span>
 </span><span id="DataBased.add_row-242"><a href="#DataBased.add_row-242"><span class="linenos">242</span></a>
-</span><span id="DataBased.add_row-243"><a href="#DataBased.add_row-243"><span class="linenos">243</span></a><span class="sd">        `table`: The table to insert values into.</span>
+</span><span id="DataBased.add_row-243"><a href="#DataBased.add_row-243"><span class="linenos">243</span></a><span class="sd">        #### :params:</span>
 </span><span id="DataBased.add_row-244"><a href="#DataBased.add_row-244"><span class="linenos">244</span></a>
-</span><span id="DataBased.add_row-245"><a href="#DataBased.add_row-245"><span class="linenos">245</span></a><span class="sd">        `values`: A tuple of values to be inserted into the table.</span>
+</span><span id="DataBased.add_row-245"><a href="#DataBased.add_row-245"><span class="linenos">245</span></a><span class="sd">        `table`: The table to insert values into.</span>
 </span><span id="DataBased.add_row-246"><a href="#DataBased.add_row-246"><span class="linenos">246</span></a>
-</span><span id="DataBased.add_row-247"><a href="#DataBased.add_row-247"><span class="linenos">247</span></a><span class="sd">        `columns`: If `None`, `values` is expected to supply a value for every column in the table.</span>
-</span><span id="DataBased.add_row-248"><a href="#DataBased.add_row-248"><span class="linenos">248</span></a><span class="sd">        If `columns` is provided, it should contain the same number of elements as `values`.&quot;&quot;&quot;</span>
-</span><span id="DataBased.add_row-249"><a href="#DataBased.add_row-249"><span class="linenos">249</span></a>        <span class="n">parameterizer</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;?&quot;</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
-</span><span id="DataBased.add_row-250"><a href="#DataBased.add_row-250"><span class="linenos">250</span></a>        <span class="n">logger_values</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
-</span><span id="DataBased.add_row-251"><a href="#DataBased.add_row-251"><span class="linenos">251</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DataBased.add_row-252"><a href="#DataBased.add_row-252"><span class="linenos">252</span></a>            <span class="k">if</span> <span class="n">columns</span><span class="p">:</span>
-</span><span id="DataBased.add_row-253"><a href="#DataBased.add_row-253"><span class="linenos">253</span></a>                <span class="n">columns_query</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">column</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">)</span>
-</span><span id="DataBased.add_row-254"><a href="#DataBased.add_row-254"><span class="linenos">254</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="DataBased.add_row-255"><a href="#DataBased.add_row-255"><span class="linenos">255</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">columns_query</span><span class="si">}</span><span class="s2">) values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span>
-</span><span id="DataBased.add_row-256"><a href="#DataBased.add_row-256"><span class="linenos">256</span></a>                    <span class="n">values</span><span class="p">,</span>
-</span><span id="DataBased.add_row-257"><a href="#DataBased.add_row-257"><span class="linenos">257</span></a>                <span class="p">)</span>
-</span><span id="DataBased.add_row-258"><a href="#DataBased.add_row-258"><span class="linenos">258</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="DataBased.add_row-259"><a href="#DataBased.add_row-259"><span class="linenos">259</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="DataBased.add_row-260"><a href="#DataBased.add_row-260"><span class="linenos">260</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span> <span class="n">values</span>
-</span><span id="DataBased.add_row-261"><a href="#DataBased.add_row-261"><span class="linenos">261</span></a>                <span class="p">)</span>
-</span><span id="DataBased.add_row-262"><a href="#DataBased.add_row-262"><span class="linenos">262</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span><span class="p">)</span>
-</span><span id="DataBased.add_row-263"><a href="#DataBased.add_row-263"><span class="linenos">263</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DataBased.add_row-264"><a href="#DataBased.add_row-264"><span class="linenos">264</span></a>            <span class="k">if</span> <span class="s2">&quot;constraint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
-</span><span id="DataBased.add_row-265"><a href="#DataBased.add_row-265"><span class="linenos">265</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span>
-</span><span id="DataBased.add_row-266"><a href="#DataBased.add_row-266"><span class="linenos">266</span></a>                    <span class="sa">f</span><span class="s1">&#39;Error adding &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span>
-</span><span id="DataBased.add_row-267"><a href="#DataBased.add_row-267"><span class="linenos">267</span></a>                <span class="p">)</span>
-</span><span id="DataBased.add_row-268"><a href="#DataBased.add_row-268"><span class="linenos">268</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="DataBased.add_row-269"><a href="#DataBased.add_row-269"><span class="linenos">269</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
+</span><span id="DataBased.add_row-247"><a href="#DataBased.add_row-247"><span class="linenos">247</span></a><span class="sd">        `values`: A tuple of values to be inserted into the table.</span>
+</span><span id="DataBased.add_row-248"><a href="#DataBased.add_row-248"><span class="linenos">248</span></a>
+</span><span id="DataBased.add_row-249"><a href="#DataBased.add_row-249"><span class="linenos">249</span></a><span class="sd">        `columns`: If `None`, `values` is expected to supply a value for every column in the table.</span>
+</span><span id="DataBased.add_row-250"><a href="#DataBased.add_row-250"><span class="linenos">250</span></a><span class="sd">        If `columns` is provided, it should contain the same number of elements as `values`.&quot;&quot;&quot;</span>
+</span><span id="DataBased.add_row-251"><a href="#DataBased.add_row-251"><span class="linenos">251</span></a>        <span class="n">parameterizer</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;?&quot;</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
+</span><span id="DataBased.add_row-252"><a href="#DataBased.add_row-252"><span class="linenos">252</span></a>        <span class="n">logger_values</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
+</span><span id="DataBased.add_row-253"><a href="#DataBased.add_row-253"><span class="linenos">253</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DataBased.add_row-254"><a href="#DataBased.add_row-254"><span class="linenos">254</span></a>            <span class="k">if</span> <span class="n">columns</span><span class="p">:</span>
+</span><span id="DataBased.add_row-255"><a href="#DataBased.add_row-255"><span class="linenos">255</span></a>                <span class="n">columns_query</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">column</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">)</span>
+</span><span id="DataBased.add_row-256"><a href="#DataBased.add_row-256"><span class="linenos">256</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="DataBased.add_row-257"><a href="#DataBased.add_row-257"><span class="linenos">257</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">columns_query</span><span class="si">}</span><span class="s2">) values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span>
+</span><span id="DataBased.add_row-258"><a href="#DataBased.add_row-258"><span class="linenos">258</span></a>                    <span class="n">values</span><span class="p">,</span>
+</span><span id="DataBased.add_row-259"><a href="#DataBased.add_row-259"><span class="linenos">259</span></a>                <span class="p">)</span>
+</span><span id="DataBased.add_row-260"><a href="#DataBased.add_row-260"><span class="linenos">260</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased.add_row-261"><a href="#DataBased.add_row-261"><span class="linenos">261</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="DataBased.add_row-262"><a href="#DataBased.add_row-262"><span class="linenos">262</span></a>                    <span class="sa">f</span><span class="s2">&quot;insert into </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> values(</span><span class="si">{</span><span class="n">parameterizer</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">,</span> <span class="n">values</span>
+</span><span id="DataBased.add_row-263"><a href="#DataBased.add_row-263"><span class="linenos">263</span></a>                <span class="p">)</span>
+</span><span id="DataBased.add_row-264"><a href="#DataBased.add_row-264"><span class="linenos">264</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span><span class="p">)</span>
+</span><span id="DataBased.add_row-265"><a href="#DataBased.add_row-265"><span class="linenos">265</span></a>            <span class="k">return</span> <span class="kc">True</span>
+</span><span id="DataBased.add_row-266"><a href="#DataBased.add_row-266"><span class="linenos">266</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DataBased.add_row-267"><a href="#DataBased.add_row-267"><span class="linenos">267</span></a>            <span class="k">if</span> <span class="s2">&quot;constraint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
+</span><span id="DataBased.add_row-268"><a href="#DataBased.add_row-268"><span class="linenos">268</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span>
+</span><span id="DataBased.add_row-269"><a href="#DataBased.add_row-269"><span class="linenos">269</span></a>                    <span class="sa">f</span><span class="s1">&#39;Error adding &quot;</span><span class="si">{</span><span class="n">logger_values</span><span class="si">}</span><span class="s1">&quot; to </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1"> table.&#39;</span>
+</span><span id="DataBased.add_row-270"><a href="#DataBased.add_row-270"><span class="linenos">270</span></a>                <span class="p">)</span>
+</span><span id="DataBased.add_row-271"><a href="#DataBased.add_row-271"><span class="linenos">271</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased.add_row-272"><a href="#DataBased.add_row-272"><span class="linenos">272</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
+</span><span id="DataBased.add_row-273"><a href="#DataBased.add_row-273"><span class="linenos">273</span></a>            <span class="k">return</span> <span class="kc">False</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Add a row of values to a table.</p>
 
+<p>Returns whether the addition was successful or not.</p>
+
 <h4 id="params">:params:</h4>
 
 <p><code>table</code>: The table to insert values into.</p>
 
 <p><code>values</code>: A tuple of values to be inserted into the table.</p>
 
 <p><code>columns</code>: If <code>None</code>, <code>values</code> is expected to supply a value for every column in the table.
 If <code>columns</code> is provided, it should contain the same number of elements as <code>values</code>.</p>
 </div>
 
 
                             </div>
+                            <div id="DataBased.add_rows" class="classattr">
+                                        <input id="DataBased.add_rows-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+<div class="attr function">
+            
+        <span class="def">def</span>
+        <span class="name">add_rows</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">table</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">values</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>,</span><span class="param">	<span class="n">columns</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>:</span></span>
+
+                <label class="view-source-button" for="DataBased.add_rows-view-source"><span>View Source</span></label>
+
+    </div>
+    <a class="headerlink" href="#DataBased.add_rows"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.add_rows-275"><a href="#DataBased.add_rows-275"><span class="linenos">275</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased.add_rows-276"><a href="#DataBased.add_rows-276"><span class="linenos">276</span></a>    <span class="k">def</span> <span class="nf">add_rows</span><span class="p">(</span>
+</span><span id="DataBased.add_rows-277"><a href="#DataBased.add_rows-277"><span class="linenos">277</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="DataBased.add_rows-278"><a href="#DataBased.add_rows-278"><span class="linenos">278</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
+</span><span id="DataBased.add_rows-279"><a href="#DataBased.add_rows-279"><span class="linenos">279</span></a>        <span class="sd">&quot;&quot;&quot;Add multiple rows of values to a table.</span>
+</span><span id="DataBased.add_rows-280"><a href="#DataBased.add_rows-280"><span class="linenos">280</span></a>
+</span><span id="DataBased.add_rows-281"><a href="#DataBased.add_rows-281"><span class="linenos">281</span></a><span class="sd">        Returns a tuple containing the number of successful additions and the number of failed additions.</span>
+</span><span id="DataBased.add_rows-282"><a href="#DataBased.add_rows-282"><span class="linenos">282</span></a>
+</span><span id="DataBased.add_rows-283"><a href="#DataBased.add_rows-283"><span class="linenos">283</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased.add_rows-284"><a href="#DataBased.add_rows-284"><span class="linenos">284</span></a>
+</span><span id="DataBased.add_rows-285"><a href="#DataBased.add_rows-285"><span class="linenos">285</span></a><span class="sd">        `table`: The table to insert values into.</span>
+</span><span id="DataBased.add_rows-286"><a href="#DataBased.add_rows-286"><span class="linenos">286</span></a>
+</span><span id="DataBased.add_rows-287"><a href="#DataBased.add_rows-287"><span class="linenos">287</span></a><span class="sd">        `values`: A list of tuples of values to be inserted into the table.</span>
+</span><span id="DataBased.add_rows-288"><a href="#DataBased.add_rows-288"><span class="linenos">288</span></a><span class="sd">        Each tuple constitutes a single row to be inserted</span>
+</span><span id="DataBased.add_rows-289"><a href="#DataBased.add_rows-289"><span class="linenos">289</span></a>
+</span><span id="DataBased.add_rows-290"><a href="#DataBased.add_rows-290"><span class="linenos">290</span></a><span class="sd">        `columns`: If `None`, `values` is expected to supply a value for every column in the table.</span>
+</span><span id="DataBased.add_rows-291"><a href="#DataBased.add_rows-291"><span class="linenos">291</span></a><span class="sd">        If `columns` is provided, it should contain the same number of elements as `values`.&quot;&quot;&quot;</span>
+</span><span id="DataBased.add_rows-292"><a href="#DataBased.add_rows-292"><span class="linenos">292</span></a>        <span class="n">successes</span> <span class="o">=</span> <span class="mi">0</span>
+</span><span id="DataBased.add_rows-293"><a href="#DataBased.add_rows-293"><span class="linenos">293</span></a>        <span class="n">failures</span> <span class="o">=</span> <span class="mi">0</span>
+</span><span id="DataBased.add_rows-294"><a href="#DataBased.add_rows-294"><span class="linenos">294</span></a>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
+</span><span id="DataBased.add_rows-295"><a href="#DataBased.add_rows-295"><span class="linenos">295</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">columns</span><span class="p">):</span>
+</span><span id="DataBased.add_rows-296"><a href="#DataBased.add_rows-296"><span class="linenos">296</span></a>                <span class="n">successes</span> <span class="o">+=</span> <span class="mi">1</span>
+</span><span id="DataBased.add_rows-297"><a href="#DataBased.add_rows-297"><span class="linenos">297</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased.add_rows-298"><a href="#DataBased.add_rows-298"><span class="linenos">298</span></a>                <span class="n">failures</span> <span class="o">+=</span> <span class="mi">1</span>
+</span><span id="DataBased.add_rows-299"><a href="#DataBased.add_rows-299"><span class="linenos">299</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">successes</span><span class="p">,</span> <span class="n">failures</span><span class="p">)</span>
+</span></pre></div>
+
+
+            <div class="docstring"><p>Add multiple rows of values to a table.</p>
+
+<p>Returns a tuple containing the number of successful additions and the number of failed additions.</p>
+
+<h4 id="params">:params:</h4>
+
+<p><code>table</code>: The table to insert values into.</p>
+
+<p><code>values</code>: A list of tuples of values to be inserted into the table.
+Each tuple constitutes a single row to be inserted</p>
+
+<p><code>columns</code>: If <code>None</code>, <code>values</code> is expected to supply a value for every column in the table.
+If <code>columns</code> is provided, it should contain the same number of elements as <code>values</code>.</p>
+</div>
+
+
+                            </div>
                             <div id="DataBased.get_rows" class="classattr">
                                         <input id="DataBased.get_rows-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">get_rows</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">table</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">sort_by_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">columns_to_return</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">return_as_dataframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">values_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">order_by</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">limit</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>
 
                 <label class="view-source-button" for="DataBased.get_rows-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#DataBased.get_rows"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.get_rows-271"><a href="#DataBased.get_rows-271"><span class="linenos">271</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased.get_rows-272"><a href="#DataBased.get_rows-272"><span class="linenos">272</span></a>    <span class="k">def</span> <span class="nf">get_rows</span><span class="p">(</span>
-</span><span id="DataBased.get_rows-273"><a href="#DataBased.get_rows-273"><span class="linenos">273</span></a>        <span class="bp">self</span><span class="p">,</span>
-</span><span id="DataBased.get_rows-274"><a href="#DataBased.get_rows-274"><span class="linenos">274</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
-</span><span id="DataBased.get_rows-275"><a href="#DataBased.get_rows-275"><span class="linenos">275</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased.get_rows-276"><a href="#DataBased.get_rows-276"><span class="linenos">276</span></a>        <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
-</span><span id="DataBased.get_rows-277"><a href="#DataBased.get_rows-277"><span class="linenos">277</span></a>        <span class="n">sort_by_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased.get_rows-278"><a href="#DataBased.get_rows-278"><span class="linenos">278</span></a>        <span class="n">columns_to_return</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased.get_rows-279"><a href="#DataBased.get_rows-279"><span class="linenos">279</span></a>        <span class="n">return_as_dataframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
-</span><span id="DataBased.get_rows-280"><a href="#DataBased.get_rows-280"><span class="linenos">280</span></a>        <span class="n">values_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
-</span><span id="DataBased.get_rows-281"><a href="#DataBased.get_rows-281"><span class="linenos">281</span></a>        <span class="n">order_by</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased.get_rows-282"><a href="#DataBased.get_rows-282"><span class="linenos">282</span></a>        <span class="n">limit</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased.get_rows-283"><a href="#DataBased.get_rows-283"><span class="linenos">283</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
-</span><span id="DataBased.get_rows-284"><a href="#DataBased.get_rows-284"><span class="linenos">284</span></a>        <span class="sd">&quot;&quot;&quot;Return matching rows from `table`.</span>
-</span><span id="DataBased.get_rows-285"><a href="#DataBased.get_rows-285"><span class="linenos">285</span></a>
-</span><span id="DataBased.get_rows-286"><a href="#DataBased.get_rows-286"><span class="linenos">286</span></a><span class="sd">        By default, rows will be returned as a list of dictionaries of the form `[{&quot;column_name&quot;: value, ...}, ...]`</span>
-</span><span id="DataBased.get_rows-287"><a href="#DataBased.get_rows-287"><span class="linenos">287</span></a>
-</span><span id="DataBased.get_rows-288"><a href="#DataBased.get_rows-288"><span class="linenos">288</span></a>
-</span><span id="DataBased.get_rows-289"><a href="#DataBased.get_rows-289"><span class="linenos">289</span></a><span class="sd">        #### :params:</span>
-</span><span id="DataBased.get_rows-290"><a href="#DataBased.get_rows-290"><span class="linenos">290</span></a>
-</span><span id="DataBased.get_rows-291"><a href="#DataBased.get_rows-291"><span class="linenos">291</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each</span>
-</span><span id="DataBased.get_rows-292"><a href="#DataBased.get_rows-292"><span class="linenos">292</span></a><span class="sd">        tuple is `(columnName, rowValue)` or a dictionary where</span>
-</span><span id="DataBased.get_rows-293"><a href="#DataBased.get_rows-293"><span class="linenos">293</span></a><span class="sd">        keys are column names and values are row values.</span>
-</span><span id="DataBased.get_rows-294"><a href="#DataBased.get_rows-294"><span class="linenos">294</span></a>
-</span><span id="DataBased.get_rows-295"><a href="#DataBased.get_rows-295"><span class="linenos">295</span></a><span class="sd">        `exact_match`: If `False`, the row value for a given column will be matched as a substring.</span>
-</span><span id="DataBased.get_rows-296"><a href="#DataBased.get_rows-296"><span class="linenos">296</span></a>
-</span><span id="DataBased.get_rows-297"><a href="#DataBased.get_rows-297"><span class="linenos">297</span></a><span class="sd">        `sort_by_column`: A column name to sort the results by.</span>
-</span><span id="DataBased.get_rows-298"><a href="#DataBased.get_rows-298"><span class="linenos">298</span></a><span class="sd">        This will sort results in Python after retrieving them from the db.</span>
-</span><span id="DataBased.get_rows-299"><a href="#DataBased.get_rows-299"><span class="linenos">299</span></a><span class="sd">        Use the &#39;order_by&#39; param to use SQLite engine for ordering.</span>
-</span><span id="DataBased.get_rows-300"><a href="#DataBased.get_rows-300"><span class="linenos">300</span></a>
-</span><span id="DataBased.get_rows-301"><a href="#DataBased.get_rows-301"><span class="linenos">301</span></a><span class="sd">        `columns_to_return`: Optional list of column names.</span>
-</span><span id="DataBased.get_rows-302"><a href="#DataBased.get_rows-302"><span class="linenos">302</span></a><span class="sd">        If provided, the elements returned by this function will only contain the provided columns.</span>
-</span><span id="DataBased.get_rows-303"><a href="#DataBased.get_rows-303"><span class="linenos">303</span></a><span class="sd">        Otherwise every column in the row is returned.</span>
-</span><span id="DataBased.get_rows-304"><a href="#DataBased.get_rows-304"><span class="linenos">304</span></a>
-</span><span id="DataBased.get_rows-305"><a href="#DataBased.get_rows-305"><span class="linenos">305</span></a><span class="sd">        `return_as_dataframe`: Return the results as a `pandas.DataFrame` object.</span>
-</span><span id="DataBased.get_rows-306"><a href="#DataBased.get_rows-306"><span class="linenos">306</span></a>
-</span><span id="DataBased.get_rows-307"><a href="#DataBased.get_rows-307"><span class="linenos">307</span></a><span class="sd">        `values_only`: Return the results as a list of tuples.</span>
-</span><span id="DataBased.get_rows-308"><a href="#DataBased.get_rows-308"><span class="linenos">308</span></a>
-</span><span id="DataBased.get_rows-309"><a href="#DataBased.get_rows-309"><span class="linenos">309</span></a><span class="sd">        `order_by`: If given, a `order by {order_by}` clause will be added to the select query.</span>
-</span><span id="DataBased.get_rows-310"><a href="#DataBased.get_rows-310"><span class="linenos">310</span></a>
-</span><span id="DataBased.get_rows-311"><a href="#DataBased.get_rows-311"><span class="linenos">311</span></a><span class="sd">        `limit`: If given, a `limit {limit}` clause will be added to the select query.</span>
-</span><span id="DataBased.get_rows-312"><a href="#DataBased.get_rows-312"><span class="linenos">312</span></a><span class="sd">        &quot;&quot;&quot;</span>
-</span><span id="DataBased.get_rows-313"><a href="#DataBased.get_rows-313"><span class="linenos">313</span></a>
-</span><span id="DataBased.get_rows-314"><a href="#DataBased.get_rows-314"><span class="linenos">314</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns_to_return</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
-</span><span id="DataBased.get_rows-315"><a href="#DataBased.get_rows-315"><span class="linenos">315</span></a>            <span class="n">columns_to_return</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns_to_return</span><span class="p">]</span>
-</span><span id="DataBased.get_rows-316"><a href="#DataBased.get_rows-316"><span class="linenos">316</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;select * from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="DataBased.get_rows-317"><a href="#DataBased.get_rows-317"><span class="linenos">317</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="p">[]</span>
-</span><span id="DataBased.get_rows-318"><a href="#DataBased.get_rows-318"><span class="linenos">318</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
-</span><span id="DataBased.get_rows-319"><a href="#DataBased.get_rows-319"><span class="linenos">319</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="DataBased.get_rows-320"><a href="#DataBased.get_rows-320"><span class="linenos">320</span></a>        <span class="k">if</span> <span class="n">order_by</span><span class="p">:</span>
-</span><span id="DataBased.get_rows-321"><a href="#DataBased.get_rows-321"><span class="linenos">321</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; order by </span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="DataBased.get_rows-322"><a href="#DataBased.get_rows-322"><span class="linenos">322</span></a>        <span class="k">if</span> <span class="n">limit</span><span class="p">:</span>
-</span><span id="DataBased.get_rows-323"><a href="#DataBased.get_rows-323"><span class="linenos">323</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; limit </span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="DataBased.get_rows-324"><a href="#DataBased.get_rows-324"><span class="linenos">324</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
-</span><span id="DataBased.get_rows-325"><a href="#DataBased.get_rows-325"><span class="linenos">325</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
-</span><span id="DataBased.get_rows-326"><a href="#DataBased.get_rows-326"><span class="linenos">326</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
-</span><span id="DataBased.get_rows-327"><a href="#DataBased.get_rows-327"><span class="linenos">327</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match</span><span class="p">,</span> <span class="n">columns_to_return</span><span class="p">)</span> <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">]</span>
-</span><span id="DataBased.get_rows-328"><a href="#DataBased.get_rows-328"><span class="linenos">328</span></a>        <span class="k">if</span> <span class="n">sort_by_column</span><span class="p">:</span>
-</span><span id="DataBased.get_rows-329"><a href="#DataBased.get_rows-329"><span class="linenos">329</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="n">sort_by_column</span><span class="p">])</span>
-</span><span id="DataBased.get_rows-330"><a href="#DataBased.get_rows-330"><span class="linenos">330</span></a>        <span class="k">if</span> <span class="n">return_as_dataframe</span><span class="p">:</span>
-</span><span id="DataBased.get_rows-331"><a href="#DataBased.get_rows-331"><span class="linenos">331</span></a>            <span class="k">return</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
-</span><span id="DataBased.get_rows-332"><a href="#DataBased.get_rows-332"><span class="linenos">332</span></a>        <span class="k">if</span> <span class="n">values_only</span><span class="p">:</span>
-</span><span id="DataBased.get_rows-333"><a href="#DataBased.get_rows-333"><span class="linenos">333</span></a>            <span class="k">return</span> <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
-</span><span id="DataBased.get_rows-334"><a href="#DataBased.get_rows-334"><span class="linenos">334</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DataBased.get_rows-335"><a href="#DataBased.get_rows-335"><span class="linenos">335</span></a>            <span class="k">return</span> <span class="n">results</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.get_rows-301"><a href="#DataBased.get_rows-301"><span class="linenos">301</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased.get_rows-302"><a href="#DataBased.get_rows-302"><span class="linenos">302</span></a>    <span class="k">def</span> <span class="nf">get_rows</span><span class="p">(</span>
+</span><span id="DataBased.get_rows-303"><a href="#DataBased.get_rows-303"><span class="linenos">303</span></a>        <span class="bp">self</span><span class="p">,</span>
+</span><span id="DataBased.get_rows-304"><a href="#DataBased.get_rows-304"><span class="linenos">304</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
+</span><span id="DataBased.get_rows-305"><a href="#DataBased.get_rows-305"><span class="linenos">305</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased.get_rows-306"><a href="#DataBased.get_rows-306"><span class="linenos">306</span></a>        <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
+</span><span id="DataBased.get_rows-307"><a href="#DataBased.get_rows-307"><span class="linenos">307</span></a>        <span class="n">sort_by_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased.get_rows-308"><a href="#DataBased.get_rows-308"><span class="linenos">308</span></a>        <span class="n">columns_to_return</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased.get_rows-309"><a href="#DataBased.get_rows-309"><span class="linenos">309</span></a>        <span class="n">return_as_dataframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
+</span><span id="DataBased.get_rows-310"><a href="#DataBased.get_rows-310"><span class="linenos">310</span></a>        <span class="n">values_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
+</span><span id="DataBased.get_rows-311"><a href="#DataBased.get_rows-311"><span class="linenos">311</span></a>        <span class="n">order_by</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased.get_rows-312"><a href="#DataBased.get_rows-312"><span class="linenos">312</span></a>        <span class="n">limit</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased.get_rows-313"><a href="#DataBased.get_rows-313"><span class="linenos">313</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
+</span><span id="DataBased.get_rows-314"><a href="#DataBased.get_rows-314"><span class="linenos">314</span></a>        <span class="sd">&quot;&quot;&quot;Return matching rows from `table`.</span>
+</span><span id="DataBased.get_rows-315"><a href="#DataBased.get_rows-315"><span class="linenos">315</span></a>
+</span><span id="DataBased.get_rows-316"><a href="#DataBased.get_rows-316"><span class="linenos">316</span></a><span class="sd">        By default, rows will be returned as a list of dictionaries of the form `[{&quot;column_name&quot;: value, ...}, ...]`</span>
+</span><span id="DataBased.get_rows-317"><a href="#DataBased.get_rows-317"><span class="linenos">317</span></a>
+</span><span id="DataBased.get_rows-318"><a href="#DataBased.get_rows-318"><span class="linenos">318</span></a>
+</span><span id="DataBased.get_rows-319"><a href="#DataBased.get_rows-319"><span class="linenos">319</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased.get_rows-320"><a href="#DataBased.get_rows-320"><span class="linenos">320</span></a>
+</span><span id="DataBased.get_rows-321"><a href="#DataBased.get_rows-321"><span class="linenos">321</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each</span>
+</span><span id="DataBased.get_rows-322"><a href="#DataBased.get_rows-322"><span class="linenos">322</span></a><span class="sd">        tuple is `(columnName, rowValue)` or a dictionary where</span>
+</span><span id="DataBased.get_rows-323"><a href="#DataBased.get_rows-323"><span class="linenos">323</span></a><span class="sd">        keys are column names and values are row values.</span>
+</span><span id="DataBased.get_rows-324"><a href="#DataBased.get_rows-324"><span class="linenos">324</span></a>
+</span><span id="DataBased.get_rows-325"><a href="#DataBased.get_rows-325"><span class="linenos">325</span></a><span class="sd">        `exact_match`: If `False`, the row value for a given column will be matched as a substring.</span>
+</span><span id="DataBased.get_rows-326"><a href="#DataBased.get_rows-326"><span class="linenos">326</span></a>
+</span><span id="DataBased.get_rows-327"><a href="#DataBased.get_rows-327"><span class="linenos">327</span></a><span class="sd">        `sort_by_column`: A column name to sort the results by.</span>
+</span><span id="DataBased.get_rows-328"><a href="#DataBased.get_rows-328"><span class="linenos">328</span></a><span class="sd">        This will sort results in Python after retrieving them from the db.</span>
+</span><span id="DataBased.get_rows-329"><a href="#DataBased.get_rows-329"><span class="linenos">329</span></a><span class="sd">        Use the &#39;order_by&#39; param to use SQLite engine for ordering.</span>
+</span><span id="DataBased.get_rows-330"><a href="#DataBased.get_rows-330"><span class="linenos">330</span></a>
+</span><span id="DataBased.get_rows-331"><a href="#DataBased.get_rows-331"><span class="linenos">331</span></a><span class="sd">        `columns_to_return`: Optional list of column names.</span>
+</span><span id="DataBased.get_rows-332"><a href="#DataBased.get_rows-332"><span class="linenos">332</span></a><span class="sd">        If provided, the elements returned by this function will only contain the provided columns.</span>
+</span><span id="DataBased.get_rows-333"><a href="#DataBased.get_rows-333"><span class="linenos">333</span></a><span class="sd">        Otherwise every column in the row is returned.</span>
+</span><span id="DataBased.get_rows-334"><a href="#DataBased.get_rows-334"><span class="linenos">334</span></a>
+</span><span id="DataBased.get_rows-335"><a href="#DataBased.get_rows-335"><span class="linenos">335</span></a><span class="sd">        `return_as_dataframe`: Return the results as a `pandas.DataFrame` object.</span>
+</span><span id="DataBased.get_rows-336"><a href="#DataBased.get_rows-336"><span class="linenos">336</span></a>
+</span><span id="DataBased.get_rows-337"><a href="#DataBased.get_rows-337"><span class="linenos">337</span></a><span class="sd">        `values_only`: Return the results as a list of tuples.</span>
+</span><span id="DataBased.get_rows-338"><a href="#DataBased.get_rows-338"><span class="linenos">338</span></a>
+</span><span id="DataBased.get_rows-339"><a href="#DataBased.get_rows-339"><span class="linenos">339</span></a><span class="sd">        `order_by`: If given, a `order by {order_by}` clause will be added to the select query.</span>
+</span><span id="DataBased.get_rows-340"><a href="#DataBased.get_rows-340"><span class="linenos">340</span></a>
+</span><span id="DataBased.get_rows-341"><a href="#DataBased.get_rows-341"><span class="linenos">341</span></a><span class="sd">        `limit`: If given, a `limit {limit}` clause will be added to the select query.</span>
+</span><span id="DataBased.get_rows-342"><a href="#DataBased.get_rows-342"><span class="linenos">342</span></a><span class="sd">        &quot;&quot;&quot;</span>
+</span><span id="DataBased.get_rows-343"><a href="#DataBased.get_rows-343"><span class="linenos">343</span></a>
+</span><span id="DataBased.get_rows-344"><a href="#DataBased.get_rows-344"><span class="linenos">344</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns_to_return</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
+</span><span id="DataBased.get_rows-345"><a href="#DataBased.get_rows-345"><span class="linenos">345</span></a>            <span class="n">columns_to_return</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns_to_return</span><span class="p">]</span>
+</span><span id="DataBased.get_rows-346"><a href="#DataBased.get_rows-346"><span class="linenos">346</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;select * from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="DataBased.get_rows-347"><a href="#DataBased.get_rows-347"><span class="linenos">347</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="p">[]</span>
+</span><span id="DataBased.get_rows-348"><a href="#DataBased.get_rows-348"><span class="linenos">348</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
+</span><span id="DataBased.get_rows-349"><a href="#DataBased.get_rows-349"><span class="linenos">349</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="DataBased.get_rows-350"><a href="#DataBased.get_rows-350"><span class="linenos">350</span></a>        <span class="k">if</span> <span class="n">order_by</span><span class="p">:</span>
+</span><span id="DataBased.get_rows-351"><a href="#DataBased.get_rows-351"><span class="linenos">351</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; order by </span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="DataBased.get_rows-352"><a href="#DataBased.get_rows-352"><span class="linenos">352</span></a>        <span class="k">if</span> <span class="n">limit</span><span class="p">:</span>
+</span><span id="DataBased.get_rows-353"><a href="#DataBased.get_rows-353"><span class="linenos">353</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; limit </span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="DataBased.get_rows-354"><a href="#DataBased.get_rows-354"><span class="linenos">354</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
+</span><span id="DataBased.get_rows-355"><a href="#DataBased.get_rows-355"><span class="linenos">355</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
+</span><span id="DataBased.get_rows-356"><a href="#DataBased.get_rows-356"><span class="linenos">356</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
+</span><span id="DataBased.get_rows-357"><a href="#DataBased.get_rows-357"><span class="linenos">357</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match</span><span class="p">,</span> <span class="n">columns_to_return</span><span class="p">)</span> <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">]</span>
+</span><span id="DataBased.get_rows-358"><a href="#DataBased.get_rows-358"><span class="linenos">358</span></a>        <span class="k">if</span> <span class="n">sort_by_column</span><span class="p">:</span>
+</span><span id="DataBased.get_rows-359"><a href="#DataBased.get_rows-359"><span class="linenos">359</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="n">sort_by_column</span><span class="p">])</span>
+</span><span id="DataBased.get_rows-360"><a href="#DataBased.get_rows-360"><span class="linenos">360</span></a>        <span class="k">if</span> <span class="n">return_as_dataframe</span><span class="p">:</span>
+</span><span id="DataBased.get_rows-361"><a href="#DataBased.get_rows-361"><span class="linenos">361</span></a>            <span class="k">return</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
+</span><span id="DataBased.get_rows-362"><a href="#DataBased.get_rows-362"><span class="linenos">362</span></a>        <span class="k">if</span> <span class="n">values_only</span><span class="p">:</span>
+</span><span id="DataBased.get_rows-363"><a href="#DataBased.get_rows-363"><span class="linenos">363</span></a>            <span class="k">return</span> <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
+</span><span id="DataBased.get_rows-364"><a href="#DataBased.get_rows-364"><span class="linenos">364</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased.get_rows-365"><a href="#DataBased.get_rows-365"><span class="linenos">365</span></a>            <span class="k">return</span> <span class="n">results</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Return matching rows from <code>table</code>.</p>
 
 <p>By default, rows will be returned as a list of dictionaries of the form <code>[{"column_name": value, ...}, ...]</code></p>
 
@@ -1678,45 +1805,45 @@
         <span class="def">def</span>
         <span class="name">find</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">table</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">query_string</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span>:</span></span>
 
                 <label class="view-source-button" for="DataBased.find-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#DataBased.find"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.find-337"><a href="#DataBased.find-337"><span class="linenos">337</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased.find-338"><a href="#DataBased.find-338"><span class="linenos">338</span></a>    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span>
-</span><span id="DataBased.find-339"><a href="#DataBased.find-339"><span class="linenos">339</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">query_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="DataBased.find-340"><a href="#DataBased.find-340"><span class="linenos">340</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
-</span><span id="DataBased.find-341"><a href="#DataBased.find-341"><span class="linenos">341</span></a>        <span class="sd">&quot;&quot;&quot;Search for rows that contain `query_string` as a substring of any column.</span>
-</span><span id="DataBased.find-342"><a href="#DataBased.find-342"><span class="linenos">342</span></a>
-</span><span id="DataBased.find-343"><a href="#DataBased.find-343"><span class="linenos">343</span></a><span class="sd">        #### :params:</span>
-</span><span id="DataBased.find-344"><a href="#DataBased.find-344"><span class="linenos">344</span></a>
-</span><span id="DataBased.find-345"><a href="#DataBased.find-345"><span class="linenos">345</span></a><span class="sd">        `table`: The table to search.</span>
-</span><span id="DataBased.find-346"><a href="#DataBased.find-346"><span class="linenos">346</span></a>
-</span><span id="DataBased.find-347"><a href="#DataBased.find-347"><span class="linenos">347</span></a><span class="sd">        `query_string`: The substring to search for in all columns.</span>
-</span><span id="DataBased.find-348"><a href="#DataBased.find-348"><span class="linenos">348</span></a>
-</span><span id="DataBased.find-349"><a href="#DataBased.find-349"><span class="linenos">349</span></a><span class="sd">        `columns`: A list of columns to search for query_string.</span>
-</span><span id="DataBased.find-350"><a href="#DataBased.find-350"><span class="linenos">350</span></a><span class="sd">        If None, all columns in the table will be searched.</span>
-</span><span id="DataBased.find-351"><a href="#DataBased.find-351"><span class="linenos">351</span></a><span class="sd">        &quot;&quot;&quot;</span>
-</span><span id="DataBased.find-352"><a href="#DataBased.find-352"><span class="linenos">352</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
-</span><span id="DataBased.find-353"><a href="#DataBased.find-353"><span class="linenos">353</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns</span><span class="p">]</span>
-</span><span id="DataBased.find-354"><a href="#DataBased.find-354"><span class="linenos">354</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
-</span><span id="DataBased.find-355"><a href="#DataBased.find-355"><span class="linenos">355</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">columns</span><span class="p">:</span>
-</span><span id="DataBased.find-356"><a href="#DataBased.find-356"><span class="linenos">356</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
-</span><span id="DataBased.find-357"><a href="#DataBased.find-357"><span class="linenos">357</span></a>        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
-</span><span id="DataBased.find-358"><a href="#DataBased.find-358"><span class="linenos">358</span></a>            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
-</span><span id="DataBased.find-359"><a href="#DataBased.find-359"><span class="linenos">359</span></a>                <span class="p">[</span>
-</span><span id="DataBased.find-360"><a href="#DataBased.find-360"><span class="linenos">360</span></a>                    <span class="n">row</span>
-</span><span id="DataBased.find-361"><a href="#DataBased.find-361"><span class="linenos">361</span></a>                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
-</span><span id="DataBased.find-362"><a href="#DataBased.find-362"><span class="linenos">362</span></a>                        <span class="n">table</span><span class="p">,</span> <span class="p">[(</span><span class="n">column</span><span class="p">,</span> <span class="n">query_string</span><span class="p">)],</span> <span class="n">exact_match</span><span class="o">=</span><span class="kc">False</span>
-</span><span id="DataBased.find-363"><a href="#DataBased.find-363"><span class="linenos">363</span></a>                    <span class="p">)</span>
-</span><span id="DataBased.find-364"><a href="#DataBased.find-364"><span class="linenos">364</span></a>                    <span class="k">if</span> <span class="n">row</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">results</span>
-</span><span id="DataBased.find-365"><a href="#DataBased.find-365"><span class="linenos">365</span></a>                <span class="p">]</span>
-</span><span id="DataBased.find-366"><a href="#DataBased.find-366"><span class="linenos">366</span></a>            <span class="p">)</span>
-</span><span id="DataBased.find-367"><a href="#DataBased.find-367"><span class="linenos">367</span></a>        <span class="k">return</span> <span class="n">results</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.find-367"><a href="#DataBased.find-367"><span class="linenos">367</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased.find-368"><a href="#DataBased.find-368"><span class="linenos">368</span></a>    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span>
+</span><span id="DataBased.find-369"><a href="#DataBased.find-369"><span class="linenos">369</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">query_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="DataBased.find-370"><a href="#DataBased.find-370"><span class="linenos">370</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
+</span><span id="DataBased.find-371"><a href="#DataBased.find-371"><span class="linenos">371</span></a>        <span class="sd">&quot;&quot;&quot;Search for rows that contain `query_string` as a substring of any column.</span>
+</span><span id="DataBased.find-372"><a href="#DataBased.find-372"><span class="linenos">372</span></a>
+</span><span id="DataBased.find-373"><a href="#DataBased.find-373"><span class="linenos">373</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased.find-374"><a href="#DataBased.find-374"><span class="linenos">374</span></a>
+</span><span id="DataBased.find-375"><a href="#DataBased.find-375"><span class="linenos">375</span></a><span class="sd">        `table`: The table to search.</span>
+</span><span id="DataBased.find-376"><a href="#DataBased.find-376"><span class="linenos">376</span></a>
+</span><span id="DataBased.find-377"><a href="#DataBased.find-377"><span class="linenos">377</span></a><span class="sd">        `query_string`: The substring to search for in all columns.</span>
+</span><span id="DataBased.find-378"><a href="#DataBased.find-378"><span class="linenos">378</span></a>
+</span><span id="DataBased.find-379"><a href="#DataBased.find-379"><span class="linenos">379</span></a><span class="sd">        `columns`: A list of columns to search for query_string.</span>
+</span><span id="DataBased.find-380"><a href="#DataBased.find-380"><span class="linenos">380</span></a><span class="sd">        If None, all columns in the table will be searched.</span>
+</span><span id="DataBased.find-381"><a href="#DataBased.find-381"><span class="linenos">381</span></a><span class="sd">        &quot;&quot;&quot;</span>
+</span><span id="DataBased.find-382"><a href="#DataBased.find-382"><span class="linenos">382</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
+</span><span id="DataBased.find-383"><a href="#DataBased.find-383"><span class="linenos">383</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns</span><span class="p">]</span>
+</span><span id="DataBased.find-384"><a href="#DataBased.find-384"><span class="linenos">384</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
+</span><span id="DataBased.find-385"><a href="#DataBased.find-385"><span class="linenos">385</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">columns</span><span class="p">:</span>
+</span><span id="DataBased.find-386"><a href="#DataBased.find-386"><span class="linenos">386</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
+</span><span id="DataBased.find-387"><a href="#DataBased.find-387"><span class="linenos">387</span></a>        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
+</span><span id="DataBased.find-388"><a href="#DataBased.find-388"><span class="linenos">388</span></a>            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
+</span><span id="DataBased.find-389"><a href="#DataBased.find-389"><span class="linenos">389</span></a>                <span class="p">[</span>
+</span><span id="DataBased.find-390"><a href="#DataBased.find-390"><span class="linenos">390</span></a>                    <span class="n">row</span>
+</span><span id="DataBased.find-391"><a href="#DataBased.find-391"><span class="linenos">391</span></a>                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
+</span><span id="DataBased.find-392"><a href="#DataBased.find-392"><span class="linenos">392</span></a>                        <span class="n">table</span><span class="p">,</span> <span class="p">[(</span><span class="n">column</span><span class="p">,</span> <span class="n">query_string</span><span class="p">)],</span> <span class="n">exact_match</span><span class="o">=</span><span class="kc">False</span>
+</span><span id="DataBased.find-393"><a href="#DataBased.find-393"><span class="linenos">393</span></a>                    <span class="p">)</span>
+</span><span id="DataBased.find-394"><a href="#DataBased.find-394"><span class="linenos">394</span></a>                    <span class="k">if</span> <span class="n">row</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">results</span>
+</span><span id="DataBased.find-395"><a href="#DataBased.find-395"><span class="linenos">395</span></a>                <span class="p">]</span>
+</span><span id="DataBased.find-396"><a href="#DataBased.find-396"><span class="linenos">396</span></a>            <span class="p">)</span>
+</span><span id="DataBased.find-397"><a href="#DataBased.find-397"><span class="linenos">397</span></a>        <span class="k">return</span> <span class="n">results</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Search for rows that contain <code>query_string</code> as a substring of any column.</p>
 
 <h4 id="params">:params:</h4>
 
@@ -1737,40 +1864,42 @@
         <span class="def">def</span>
         <span class="name">delete</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">table</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span>,</span><span class="param">	<span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>
 
                 <label class="view-source-button" for="DataBased.delete-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#DataBased.delete"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.delete-369"><a href="#DataBased.delete-369"><span class="linenos">369</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased.delete-370"><a href="#DataBased.delete-370"><span class="linenos">370</span></a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
-</span><span id="DataBased.delete-371"><a href="#DataBased.delete-371"><span class="linenos">371</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
-</span><span id="DataBased.delete-372"><a href="#DataBased.delete-372"><span class="linenos">372</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
-</span><span id="DataBased.delete-373"><a href="#DataBased.delete-373"><span class="linenos">373</span></a>        <span class="sd">&quot;&quot;&quot;Delete records from `table`.</span>
-</span><span id="DataBased.delete-374"><a href="#DataBased.delete-374"><span class="linenos">374</span></a>
-</span><span id="DataBased.delete-375"><a href="#DataBased.delete-375"><span class="linenos">375</span></a><span class="sd">        Returns the number of deleted records.</span>
-</span><span id="DataBased.delete-376"><a href="#DataBased.delete-376"><span class="linenos">376</span></a>
-</span><span id="DataBased.delete-377"><a href="#DataBased.delete-377"><span class="linenos">377</span></a><span class="sd">        #### :params:</span>
-</span><span id="DataBased.delete-378"><a href="#DataBased.delete-378"><span class="linenos">378</span></a>
-</span><span id="DataBased.delete-379"><a href="#DataBased.delete-379"><span class="linenos">379</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(column_name, value)`</span>
-</span><span id="DataBased.delete-380"><a href="#DataBased.delete-380"><span class="linenos">380</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
-</span><span id="DataBased.delete-381"><a href="#DataBased.delete-381"><span class="linenos">381</span></a>
-</span><span id="DataBased.delete-382"><a href="#DataBased.delete-382"><span class="linenos">382</span></a><span class="sd">        `exact_match`: If `False`, the value for a given column will be matched as a substring.</span>
-</span><span id="DataBased.delete-383"><a href="#DataBased.delete-383"><span class="linenos">383</span></a><span class="sd">        &quot;&quot;&quot;</span>
-</span><span id="DataBased.delete-384"><a href="#DataBased.delete-384"><span class="linenos">384</span></a>        <span class="n">num_matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
-</span><span id="DataBased.delete-385"><a href="#DataBased.delete-385"><span class="linenos">385</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
-</span><span id="DataBased.delete-386"><a href="#DataBased.delete-386"><span class="linenos">386</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DataBased.delete-387"><a href="#DataBased.delete-387"><span class="linenos">387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;delete from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
-</span><span id="DataBased.delete-388"><a href="#DataBased.delete-388"><span class="linenos">388</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
-</span><span id="DataBased.delete-389"><a href="#DataBased.delete-389"><span class="linenos">389</span></a>                <span class="sa">f</span><span class="s1">&#39;Deleted </span><span class="si">{</span><span class="n">num_matches</span><span class="si">}</span><span class="s1"> from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;.&#39;</span>
-</span><span id="DataBased.delete-390"><a href="#DataBased.delete-390"><span class="linenos">390</span></a>            <span class="p">)</span>
-</span><span id="DataBased.delete-391"><a href="#DataBased.delete-391"><span class="linenos">391</span></a>            <span class="k">return</span> <span class="n">num_matches</span>
-</span><span id="DataBased.delete-392"><a href="#DataBased.delete-392"><span class="linenos">392</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DataBased.delete-393"><a href="#DataBased.delete-393"><span class="linenos">393</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error deleting from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">.</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
-</span><span id="DataBased.delete-394"><a href="#DataBased.delete-394"><span class="linenos">394</span></a>            <span class="k">return</span> <span class="mi">0</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.delete-399"><a href="#DataBased.delete-399"><span class="linenos">399</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased.delete-400"><a href="#DataBased.delete-400"><span class="linenos">400</span></a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
+</span><span id="DataBased.delete-401"><a href="#DataBased.delete-401"><span class="linenos">401</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
+</span><span id="DataBased.delete-402"><a href="#DataBased.delete-402"><span class="linenos">402</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
+</span><span id="DataBased.delete-403"><a href="#DataBased.delete-403"><span class="linenos">403</span></a>        <span class="sd">&quot;&quot;&quot;Delete records from `table`.</span>
+</span><span id="DataBased.delete-404"><a href="#DataBased.delete-404"><span class="linenos">404</span></a>
+</span><span id="DataBased.delete-405"><a href="#DataBased.delete-405"><span class="linenos">405</span></a><span class="sd">        Returns the number of deleted records.</span>
+</span><span id="DataBased.delete-406"><a href="#DataBased.delete-406"><span class="linenos">406</span></a>
+</span><span id="DataBased.delete-407"><a href="#DataBased.delete-407"><span class="linenos">407</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased.delete-408"><a href="#DataBased.delete-408"><span class="linenos">408</span></a>
+</span><span id="DataBased.delete-409"><a href="#DataBased.delete-409"><span class="linenos">409</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(column_name, value)`</span>
+</span><span id="DataBased.delete-410"><a href="#DataBased.delete-410"><span class="linenos">410</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
+</span><span id="DataBased.delete-411"><a href="#DataBased.delete-411"><span class="linenos">411</span></a>
+</span><span id="DataBased.delete-412"><a href="#DataBased.delete-412"><span class="linenos">412</span></a><span class="sd">        `exact_match`: If `False`, the value for a given column will be matched as a substring.</span>
+</span><span id="DataBased.delete-413"><a href="#DataBased.delete-413"><span class="linenos">413</span></a><span class="sd">        &quot;&quot;&quot;</span>
+</span><span id="DataBased.delete-414"><a href="#DataBased.delete-414"><span class="linenos">414</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
+</span><span id="DataBased.delete-415"><a href="#DataBased.delete-415"><span class="linenos">415</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DataBased.delete-416"><a href="#DataBased.delete-416"><span class="linenos">416</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;delete from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
+</span><span id="DataBased.delete-417"><a href="#DataBased.delete-417"><span class="linenos">417</span></a>            <span class="n">num_deletions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span>
+</span><span id="DataBased.delete-418"><a href="#DataBased.delete-418"><span class="linenos">418</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
+</span><span id="DataBased.delete-419"><a href="#DataBased.delete-419"><span class="linenos">419</span></a>                <span class="sa">f</span><span class="s1">&#39;Deleted </span><span class="si">{</span><span class="n">num_deletions</span><span class="si">}</span><span class="s1"> rows from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;.&#39;</span>
+</span><span id="DataBased.delete-420"><a href="#DataBased.delete-420"><span class="linenos">420</span></a>            <span class="p">)</span>
+</span><span id="DataBased.delete-421"><a href="#DataBased.delete-421"><span class="linenos">421</span></a>            <span class="k">return</span> <span class="n">num_deletions</span>
+</span><span id="DataBased.delete-422"><a href="#DataBased.delete-422"><span class="linenos">422</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DataBased.delete-423"><a href="#DataBased.delete-423"><span class="linenos">423</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
+</span><span id="DataBased.delete-424"><a href="#DataBased.delete-424"><span class="linenos">424</span></a>                <span class="sa">f</span><span class="s1">&#39;Error deleting rows from &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">.</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span>
+</span><span id="DataBased.delete-425"><a href="#DataBased.delete-425"><span class="linenos">425</span></a>            <span class="p">)</span>
+</span><span id="DataBased.delete-426"><a href="#DataBased.delete-426"><span class="linenos">426</span></a>            <span class="k">return</span> <span class="mi">0</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Delete records from <code>table</code>.</p>
 
 <p>Returns the number of deleted records.</p>
 
@@ -1785,70 +1914,69 @@
 
                             </div>
                             <div id="DataBased.update" class="classattr">
                                         <input id="DataBased.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
-        <span class="name">update</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">table</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">column_to_update</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">new_value</span><span class="p">:</span> <span class="n">Any</span>,</span><span class="param">	<span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>
+        <span class="name">update</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">table</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">column_to_update</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">new_value</span><span class="p">:</span> <span class="n">Any</span>,</span><span class="param">	<span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>
 
                 <label class="view-source-button" for="DataBased.update-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#DataBased.update"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.update-396"><a href="#DataBased.update-396"><span class="linenos">396</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased.update-397"><a href="#DataBased.update-397"><span class="linenos">397</span></a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
-</span><span id="DataBased.update-398"><a href="#DataBased.update-398"><span class="linenos">398</span></a>        <span class="bp">self</span><span class="p">,</span>
-</span><span id="DataBased.update-399"><a href="#DataBased.update-399"><span class="linenos">399</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
-</span><span id="DataBased.update-400"><a href="#DataBased.update-400"><span class="linenos">400</span></a>        <span class="n">column_to_update</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
-</span><span id="DataBased.update-401"><a href="#DataBased.update-401"><span class="linenos">401</span></a>        <span class="n">new_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
-</span><span id="DataBased.update-402"><a href="#DataBased.update-402"><span class="linenos">402</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
-</span><span id="DataBased.update-403"><a href="#DataBased.update-403"><span class="linenos">403</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
-</span><span id="DataBased.update-404"><a href="#DataBased.update-404"><span class="linenos">404</span></a>        <span class="sd">&quot;&quot;&quot;Update the value in `column_to_update` to `new_value` for rows matched with `match_criteria`.</span>
-</span><span id="DataBased.update-405"><a href="#DataBased.update-405"><span class="linenos">405</span></a>
-</span><span id="DataBased.update-406"><a href="#DataBased.update-406"><span class="linenos">406</span></a><span class="sd">        #### :params:</span>
-</span><span id="DataBased.update-407"><a href="#DataBased.update-407"><span class="linenos">407</span></a>
-</span><span id="DataBased.update-408"><a href="#DataBased.update-408"><span class="linenos">408</span></a><span class="sd">        `table`: The table to update rows in.</span>
-</span><span id="DataBased.update-409"><a href="#DataBased.update-409"><span class="linenos">409</span></a>
-</span><span id="DataBased.update-410"><a href="#DataBased.update-410"><span class="linenos">410</span></a><span class="sd">        `column_to_update`: The column to be updated in the matched rows.</span>
-</span><span id="DataBased.update-411"><a href="#DataBased.update-411"><span class="linenos">411</span></a>
-</span><span id="DataBased.update-412"><a href="#DataBased.update-412"><span class="linenos">412</span></a><span class="sd">        `new_value`: The new value to insert.</span>
-</span><span id="DataBased.update-413"><a href="#DataBased.update-413"><span class="linenos">413</span></a>
-</span><span id="DataBased.update-414"><a href="#DataBased.update-414"><span class="linenos">414</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(columnName, rowValue)`</span>
-</span><span id="DataBased.update-415"><a href="#DataBased.update-415"><span class="linenos">415</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
-</span><span id="DataBased.update-416"><a href="#DataBased.update-416"><span class="linenos">416</span></a><span class="sd">        If `None`, every row in `table` will be updated.</span>
-</span><span id="DataBased.update-417"><a href="#DataBased.update-417"><span class="linenos">417</span></a>
-</span><span id="DataBased.update-418"><a href="#DataBased.update-418"><span class="linenos">418</span></a><span class="sd">        Returns `True` if successful, `False` if not.&quot;&quot;&quot;</span>
-</span><span id="DataBased.update-419"><a href="#DataBased.update-419"><span class="linenos">419</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;update </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> set </span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s2"> = ?&quot;</span>
-</span><span id="DataBased.update-420"><a href="#DataBased.update-420"><span class="linenos">420</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
-</span><span id="DataBased.update-421"><a href="#DataBased.update-421"><span class="linenos">421</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
-</span><span id="DataBased.update-422"><a href="#DataBased.update-422"><span class="linenos">422</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">match_criteria</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
-</span><span id="DataBased.update-423"><a href="#DataBased.update-423"><span class="linenos">423</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
-</span><span id="DataBased.update-424"><a href="#DataBased.update-424"><span class="linenos">424</span></a>                    <span class="sa">f</span><span class="s2">&quot;Couldn&#39;t find matching records in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table to update to &#39;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
-</span><span id="DataBased.update-425"><a href="#DataBased.update-425"><span class="linenos">425</span></a>                <span class="p">)</span>
-</span><span id="DataBased.update-426"><a href="#DataBased.update-426"><span class="linenos">426</span></a>                <span class="k">return</span> <span class="kc">False</span>
-</span><span id="DataBased.update-427"><a href="#DataBased.update-427"><span class="linenos">427</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">)</span>
-</span><span id="DataBased.update-428"><a href="#DataBased.update-428"><span class="linenos">428</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="DataBased.update-429"><a href="#DataBased.update-429"><span class="linenos">429</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DataBased.update-430"><a href="#DataBased.update-430"><span class="linenos">430</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="DataBased.update-431"><a href="#DataBased.update-431"><span class="linenos">431</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
-</span><span id="DataBased.update-432"><a href="#DataBased.update-432"><span class="linenos">432</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DataBased.update-433"><a href="#DataBased.update-433"><span class="linenos">433</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="DataBased.update-434"><a href="#DataBased.update-434"><span class="linenos">434</span></a>                <span class="n">query</span><span class="p">,</span>
-</span><span id="DataBased.update-435"><a href="#DataBased.update-435"><span class="linenos">435</span></a>                <span class="p">(</span><span class="n">new_value</span><span class="p">,),</span>
-</span><span id="DataBased.update-436"><a href="#DataBased.update-436"><span class="linenos">436</span></a>            <span class="p">)</span>
-</span><span id="DataBased.update-437"><a href="#DataBased.update-437"><span class="linenos">437</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
-</span><span id="DataBased.update-438"><a href="#DataBased.update-438"><span class="linenos">438</span></a>                <span class="sa">f</span><span class="s1">&#39;Updated &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&#39;</span>
-</span><span id="DataBased.update-439"><a href="#DataBased.update-439"><span class="linenos">439</span></a>            <span class="p">)</span>
-</span><span id="DataBased.update-440"><a href="#DataBased.update-440"><span class="linenos">440</span></a>            <span class="k">return</span> <span class="kc">True</span>
-</span><span id="DataBased.update-441"><a href="#DataBased.update-441"><span class="linenos">441</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DataBased.update-442"><a href="#DataBased.update-442"><span class="linenos">442</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
-</span><span id="DataBased.update-443"><a href="#DataBased.update-443"><span class="linenos">443</span></a>                <span class="sa">f</span><span class="s1">&#39;Failed to update &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span>
-</span><span id="DataBased.update-444"><a href="#DataBased.update-444"><span class="linenos">444</span></a>            <span class="p">)</span>
-</span><span id="DataBased.update-445"><a href="#DataBased.update-445"><span class="linenos">445</span></a>            <span class="k">return</span> <span class="kc">False</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.update-428"><a href="#DataBased.update-428"><span class="linenos">428</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased.update-429"><a href="#DataBased.update-429"><span class="linenos">429</span></a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
+</span><span id="DataBased.update-430"><a href="#DataBased.update-430"><span class="linenos">430</span></a>        <span class="bp">self</span><span class="p">,</span>
+</span><span id="DataBased.update-431"><a href="#DataBased.update-431"><span class="linenos">431</span></a>        <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
+</span><span id="DataBased.update-432"><a href="#DataBased.update-432"><span class="linenos">432</span></a>        <span class="n">column_to_update</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
+</span><span id="DataBased.update-433"><a href="#DataBased.update-433"><span class="linenos">433</span></a>        <span class="n">new_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
+</span><span id="DataBased.update-434"><a href="#DataBased.update-434"><span class="linenos">434</span></a>        <span class="n">match_criteria</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
+</span><span id="DataBased.update-435"><a href="#DataBased.update-435"><span class="linenos">435</span></a>        <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
+</span><span id="DataBased.update-436"><a href="#DataBased.update-436"><span class="linenos">436</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
+</span><span id="DataBased.update-437"><a href="#DataBased.update-437"><span class="linenos">437</span></a>        <span class="sd">&quot;&quot;&quot;Update the value in `column_to_update` to `new_value` for rows matched with `match_criteria`.</span>
+</span><span id="DataBased.update-438"><a href="#DataBased.update-438"><span class="linenos">438</span></a>
+</span><span id="DataBased.update-439"><a href="#DataBased.update-439"><span class="linenos">439</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased.update-440"><a href="#DataBased.update-440"><span class="linenos">440</span></a>
+</span><span id="DataBased.update-441"><a href="#DataBased.update-441"><span class="linenos">441</span></a><span class="sd">        `table`: The table to update rows in.</span>
+</span><span id="DataBased.update-442"><a href="#DataBased.update-442"><span class="linenos">442</span></a>
+</span><span id="DataBased.update-443"><a href="#DataBased.update-443"><span class="linenos">443</span></a><span class="sd">        `column_to_update`: The column to be updated in the matched rows.</span>
+</span><span id="DataBased.update-444"><a href="#DataBased.update-444"><span class="linenos">444</span></a>
+</span><span id="DataBased.update-445"><a href="#DataBased.update-445"><span class="linenos">445</span></a><span class="sd">        `new_value`: The new value to insert.</span>
+</span><span id="DataBased.update-446"><a href="#DataBased.update-446"><span class="linenos">446</span></a>
+</span><span id="DataBased.update-447"><a href="#DataBased.update-447"><span class="linenos">447</span></a><span class="sd">        `match_criteria`: Can be a list of 2-tuples where each tuple is `(columnName, rowValue)`</span>
+</span><span id="DataBased.update-448"><a href="#DataBased.update-448"><span class="linenos">448</span></a><span class="sd">        or a dictionary where keys are column names and values are corresponding values.</span>
+</span><span id="DataBased.update-449"><a href="#DataBased.update-449"><span class="linenos">449</span></a><span class="sd">        If `None`, every row in `table` will be updated.</span>
+</span><span id="DataBased.update-450"><a href="#DataBased.update-450"><span class="linenos">450</span></a>
+</span><span id="DataBased.update-451"><a href="#DataBased.update-451"><span class="linenos">451</span></a><span class="sd">        `exact_match`: If `False`, `match_criteria` values will be treated as substrings.</span>
+</span><span id="DataBased.update-452"><a href="#DataBased.update-452"><span class="linenos">452</span></a>
+</span><span id="DataBased.update-453"><a href="#DataBased.update-453"><span class="linenos">453</span></a><span class="sd">        Returns the number of updated rows.&quot;&quot;&quot;</span>
+</span><span id="DataBased.update-454"><a href="#DataBased.update-454"><span class="linenos">454</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;update </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> set </span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s2"> = ?&quot;</span>
+</span><span id="DataBased.update-455"><a href="#DataBased.update-455"><span class="linenos">455</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
+</span><span id="DataBased.update-456"><a href="#DataBased.update-456"><span class="linenos">456</span></a>        <span class="k">if</span> <span class="n">match_criteria</span><span class="p">:</span>
+</span><span id="DataBased.update-457"><a href="#DataBased.update-457"><span class="linenos">457</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conditions</span><span class="p">(</span><span class="n">match_criteria</span><span class="p">,</span> <span class="n">exact_match</span><span class="p">)</span>
+</span><span id="DataBased.update-458"><a href="#DataBased.update-458"><span class="linenos">458</span></a>            <span class="n">query</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="DataBased.update-459"><a href="#DataBased.update-459"><span class="linenos">459</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased.update-460"><a href="#DataBased.update-460"><span class="linenos">460</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="DataBased.update-461"><a href="#DataBased.update-461"><span class="linenos">461</span></a>        <span class="n">query</span> <span class="o">+=</span> <span class="s2">&quot;;&quot;</span>
+</span><span id="DataBased.update-462"><a href="#DataBased.update-462"><span class="linenos">462</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DataBased.update-463"><a href="#DataBased.update-463"><span class="linenos">463</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="DataBased.update-464"><a href="#DataBased.update-464"><span class="linenos">464</span></a>                <span class="n">query</span><span class="p">,</span>
+</span><span id="DataBased.update-465"><a href="#DataBased.update-465"><span class="linenos">465</span></a>                <span class="p">(</span><span class="n">new_value</span><span class="p">,),</span>
+</span><span id="DataBased.update-466"><a href="#DataBased.update-466"><span class="linenos">466</span></a>            <span class="p">)</span>
+</span><span id="DataBased.update-467"><a href="#DataBased.update-467"><span class="linenos">467</span></a>            <span class="n">num_updates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span>
+</span><span id="DataBased.update-468"><a href="#DataBased.update-468"><span class="linenos">468</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
+</span><span id="DataBased.update-469"><a href="#DataBased.update-469"><span class="linenos">469</span></a>                <span class="sa">f</span><span class="s1">&#39;In </span><span class="si">{</span><span class="n">num_updates</span><span class="si">}</span><span class="s1"> rows, updated &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&#39;</span>
+</span><span id="DataBased.update-470"><a href="#DataBased.update-470"><span class="linenos">470</span></a>            <span class="p">)</span>
+</span><span id="DataBased.update-471"><a href="#DataBased.update-471"><span class="linenos">471</span></a>            <span class="k">return</span> <span class="n">num_updates</span>
+</span><span id="DataBased.update-472"><a href="#DataBased.update-472"><span class="linenos">472</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DataBased.update-473"><a href="#DataBased.update-473"><span class="linenos">473</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
+</span><span id="DataBased.update-474"><a href="#DataBased.update-474"><span class="linenos">474</span></a>                <span class="sa">f</span><span class="s1">&#39;Failed to update &quot;</span><span class="si">{</span><span class="n">column_to_update</span><span class="si">}</span><span class="s1">&quot; in &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table to &quot;</span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s1">&quot; where </span><span class="si">{</span><span class="n">conditions</span><span class="si">}</span><span class="s1">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span>
+</span><span id="DataBased.update-475"><a href="#DataBased.update-475"><span class="linenos">475</span></a>            <span class="p">)</span>
+</span><span id="DataBased.update-476"><a href="#DataBased.update-476"><span class="linenos">476</span></a>            <span class="k">return</span> <span class="mi">0</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Update the value in <code>column_to_update</code> to <code>new_value</code> for rows matched with <code>match_criteria</code>.</p>
 
 <h4 id="params">:params:</h4>
 
@@ -1858,15 +1986,17 @@
 
 <p><code>new_value</code>: The new value to insert.</p>
 
 <p><code>match_criteria</code>: Can be a list of 2-tuples where each tuple is <code>(columnName, rowValue)</code>
 or a dictionary where keys are column names and values are corresponding values.
 If <code>None</code>, every row in <code>table</code> will be updated.</p>
 
-<p>Returns <code>True</code> if successful, <code>False</code> if not.</p>
+<p><code>exact_match</code>: If <code>False</code>, <code>match_criteria</code> values will be treated as substrings.</p>
+
+<p>Returns the number of updated rows.</p>
 </div>
 
 
                             </div>
                             <div id="DataBased.drop_table" class="classattr">
                                         <input id="DataBased.drop_table-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
@@ -1874,27 +2004,27 @@
         <span class="def">def</span>
         <span class="name">drop_table</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">table</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>
 
                 <label class="view-source-button" for="DataBased.drop_table-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#DataBased.drop_table"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.drop_table-447"><a href="#DataBased.drop_table-447"><span class="linenos">447</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased.drop_table-448"><a href="#DataBased.drop_table-448"><span class="linenos">448</span></a>    <span class="k">def</span> <span class="nf">drop_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
-</span><span id="DataBased.drop_table-449"><a href="#DataBased.drop_table-449"><span class="linenos">449</span></a>        <span class="sd">&quot;&quot;&quot;Drop `table` from the database.</span>
-</span><span id="DataBased.drop_table-450"><a href="#DataBased.drop_table-450"><span class="linenos">450</span></a>
-</span><span id="DataBased.drop_table-451"><a href="#DataBased.drop_table-451"><span class="linenos">451</span></a><span class="sd">        Returns `True` if successful, `False` if not.&quot;&quot;&quot;</span>
-</span><span id="DataBased.drop_table-452"><a href="#DataBased.drop_table-452"><span class="linenos">452</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DataBased.drop_table-453"><a href="#DataBased.drop_table-453"><span class="linenos">453</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;drop Table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
-</span><span id="DataBased.drop_table-454"><a href="#DataBased.drop_table-454"><span class="linenos">454</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Dropped table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
-</span><span id="DataBased.drop_table-455"><a href="#DataBased.drop_table-455"><span class="linenos">455</span></a>            <span class="k">return</span> <span class="kc">True</span>
-</span><span id="DataBased.drop_table-456"><a href="#DataBased.drop_table-456"><span class="linenos">456</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DataBased.drop_table-457"><a href="#DataBased.drop_table-457"><span class="linenos">457</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
-</span><span id="DataBased.drop_table-458"><a href="#DataBased.drop_table-458"><span class="linenos">458</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to drop table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
-</span><span id="DataBased.drop_table-459"><a href="#DataBased.drop_table-459"><span class="linenos">459</span></a>            <span class="k">return</span> <span class="kc">False</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.drop_table-478"><a href="#DataBased.drop_table-478"><span class="linenos">478</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased.drop_table-479"><a href="#DataBased.drop_table-479"><span class="linenos">479</span></a>    <span class="k">def</span> <span class="nf">drop_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
+</span><span id="DataBased.drop_table-480"><a href="#DataBased.drop_table-480"><span class="linenos">480</span></a>        <span class="sd">&quot;&quot;&quot;Drop `table` from the database.</span>
+</span><span id="DataBased.drop_table-481"><a href="#DataBased.drop_table-481"><span class="linenos">481</span></a>
+</span><span id="DataBased.drop_table-482"><a href="#DataBased.drop_table-482"><span class="linenos">482</span></a><span class="sd">        Returns `True` if successful, `False` if not.&quot;&quot;&quot;</span>
+</span><span id="DataBased.drop_table-483"><a href="#DataBased.drop_table-483"><span class="linenos">483</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DataBased.drop_table-484"><a href="#DataBased.drop_table-484"><span class="linenos">484</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;drop Table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
+</span><span id="DataBased.drop_table-485"><a href="#DataBased.drop_table-485"><span class="linenos">485</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Dropped table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
+</span><span id="DataBased.drop_table-486"><a href="#DataBased.drop_table-486"><span class="linenos">486</span></a>            <span class="k">return</span> <span class="kc">True</span>
+</span><span id="DataBased.drop_table-487"><a href="#DataBased.drop_table-487"><span class="linenos">487</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DataBased.drop_table-488"><a href="#DataBased.drop_table-488"><span class="linenos">488</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
+</span><span id="DataBased.drop_table-489"><a href="#DataBased.drop_table-489"><span class="linenos">489</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to drop table &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
+</span><span id="DataBased.drop_table-490"><a href="#DataBased.drop_table-490"><span class="linenos">490</span></a>            <span class="k">return</span> <span class="kc">False</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Drop <code>table</code> from the database.</p>
 
 <p>Returns <code>True</code> if successful, <code>False</code> if not.</p>
 </div>
@@ -1908,38 +2038,38 @@
         <span class="def">def</span>
         <span class="name">add_column</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">table</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">column</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">_type</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">default_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">):</span></span>
 
                 <label class="view-source-button" for="DataBased.add_column-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#DataBased.add_column"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.add_column-461"><a href="#DataBased.add_column-461"><span class="linenos">461</span></a>    <span class="nd">@_connect</span>
-</span><span id="DataBased.add_column-462"><a href="#DataBased.add_column-462"><span class="linenos">462</span></a>    <span class="k">def</span> <span class="nf">add_column</span><span class="p">(</span>
-</span><span id="DataBased.add_column-463"><a href="#DataBased.add_column-463"><span class="linenos">463</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="DataBased.add_column-464"><a href="#DataBased.add_column-464"><span class="linenos">464</span></a>    <span class="p">):</span>
-</span><span id="DataBased.add_column-465"><a href="#DataBased.add_column-465"><span class="linenos">465</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to `table`.</span>
-</span><span id="DataBased.add_column-466"><a href="#DataBased.add_column-466"><span class="linenos">466</span></a>
-</span><span id="DataBased.add_column-467"><a href="#DataBased.add_column-467"><span class="linenos">467</span></a><span class="sd">        #### :params:</span>
-</span><span id="DataBased.add_column-468"><a href="#DataBased.add_column-468"><span class="linenos">468</span></a>
-</span><span id="DataBased.add_column-469"><a href="#DataBased.add_column-469"><span class="linenos">469</span></a><span class="sd">        `column`: Name of the column to add.</span>
-</span><span id="DataBased.add_column-470"><a href="#DataBased.add_column-470"><span class="linenos">470</span></a>
-</span><span id="DataBased.add_column-471"><a href="#DataBased.add_column-471"><span class="linenos">471</span></a><span class="sd">        `_type`: The data type of the new column.</span>
-</span><span id="DataBased.add_column-472"><a href="#DataBased.add_column-472"><span class="linenos">472</span></a>
-</span><span id="DataBased.add_column-473"><a href="#DataBased.add_column-473"><span class="linenos">473</span></a><span class="sd">        `default_value`: Optional default value for the column.&quot;&quot;&quot;</span>
-</span><span id="DataBased.add_column-474"><a href="#DataBased.add_column-474"><span class="linenos">474</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DataBased.add_column-475"><a href="#DataBased.add_column-475"><span class="linenos">475</span></a>            <span class="k">if</span> <span class="n">default_value</span><span class="p">:</span>
-</span><span id="DataBased.add_column-476"><a href="#DataBased.add_column-476"><span class="linenos">476</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
-</span><span id="DataBased.add_column-477"><a href="#DataBased.add_column-477"><span class="linenos">477</span></a>                    <span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2"> default </span><span class="si">{</span><span class="n">default_value</span><span class="si">}</span><span class="s2">;&quot;</span>
-</span><span id="DataBased.add_column-478"><a href="#DataBased.add_column-478"><span class="linenos">478</span></a>                <span class="p">)</span>
-</span><span id="DataBased.add_column-479"><a href="#DataBased.add_column-479"><span class="linenos">479</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span>
-</span><span id="DataBased.add_column-480"><a href="#DataBased.add_column-480"><span class="linenos">480</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="DataBased.add_column-481"><a href="#DataBased.add_column-481"><span class="linenos">481</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
-</span><span id="DataBased.add_column-482"><a href="#DataBased.add_column-482"><span class="linenos">482</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
-</span><span id="DataBased.add_column-483"><a href="#DataBased.add_column-483"><span class="linenos">483</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DataBased.add_column-484"><a href="#DataBased.add_column-484"><span class="linenos">484</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to add column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.add_column-492"><a href="#DataBased.add_column-492"><span class="linenos">492</span></a>    <span class="nd">@_connect</span>
+</span><span id="DataBased.add_column-493"><a href="#DataBased.add_column-493"><span class="linenos">493</span></a>    <span class="k">def</span> <span class="nf">add_column</span><span class="p">(</span>
+</span><span id="DataBased.add_column-494"><a href="#DataBased.add_column-494"><span class="linenos">494</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="DataBased.add_column-495"><a href="#DataBased.add_column-495"><span class="linenos">495</span></a>    <span class="p">):</span>
+</span><span id="DataBased.add_column-496"><a href="#DataBased.add_column-496"><span class="linenos">496</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to `table`.</span>
+</span><span id="DataBased.add_column-497"><a href="#DataBased.add_column-497"><span class="linenos">497</span></a>
+</span><span id="DataBased.add_column-498"><a href="#DataBased.add_column-498"><span class="linenos">498</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased.add_column-499"><a href="#DataBased.add_column-499"><span class="linenos">499</span></a>
+</span><span id="DataBased.add_column-500"><a href="#DataBased.add_column-500"><span class="linenos">500</span></a><span class="sd">        `column`: Name of the column to add.</span>
+</span><span id="DataBased.add_column-501"><a href="#DataBased.add_column-501"><span class="linenos">501</span></a>
+</span><span id="DataBased.add_column-502"><a href="#DataBased.add_column-502"><span class="linenos">502</span></a><span class="sd">        `_type`: The data type of the new column.</span>
+</span><span id="DataBased.add_column-503"><a href="#DataBased.add_column-503"><span class="linenos">503</span></a>
+</span><span id="DataBased.add_column-504"><a href="#DataBased.add_column-504"><span class="linenos">504</span></a><span class="sd">        `default_value`: Optional default value for the column.&quot;&quot;&quot;</span>
+</span><span id="DataBased.add_column-505"><a href="#DataBased.add_column-505"><span class="linenos">505</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DataBased.add_column-506"><a href="#DataBased.add_column-506"><span class="linenos">506</span></a>            <span class="k">if</span> <span class="n">default_value</span><span class="p">:</span>
+</span><span id="DataBased.add_column-507"><a href="#DataBased.add_column-507"><span class="linenos">507</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
+</span><span id="DataBased.add_column-508"><a href="#DataBased.add_column-508"><span class="linenos">508</span></a>                    <span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2"> default </span><span class="si">{</span><span class="n">default_value</span><span class="si">}</span><span class="s2">;&quot;</span>
+</span><span id="DataBased.add_column-509"><a href="#DataBased.add_column-509"><span class="linenos">509</span></a>                <span class="p">)</span>
+</span><span id="DataBased.add_column-510"><a href="#DataBased.add_column-510"><span class="linenos">510</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span>
+</span><span id="DataBased.add_column-511"><a href="#DataBased.add_column-511"><span class="linenos">511</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DataBased.add_column-512"><a href="#DataBased.add_column-512"><span class="linenos">512</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;alter table </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> add column </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">_type</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
+</span><span id="DataBased.add_column-513"><a href="#DataBased.add_column-513"><span class="linenos">513</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Added column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
+</span><span id="DataBased.add_column-514"><a href="#DataBased.add_column-514"><span class="linenos">514</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DataBased.add_column-515"><a href="#DataBased.add_column-515"><span class="linenos">515</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Failed to add column &quot;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">&quot; to &quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot; table.&#39;</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Add a new column to <code>table</code>.</p>
 
 <h4 id="params">:params:</h4>
 
@@ -1960,30 +2090,30 @@
         <span class="def">def</span>
         <span class="name">data_to_string</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span>,</span><span class="param">	<span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>
 
                 <label class="view-source-button" for="DataBased.data_to_string-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#DataBased.data_to_string"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.data_to_string-486"><a href="#DataBased.data_to_string-486"><span class="linenos">486</span></a>    <span class="nd">@staticmethod</span>
-</span><span id="DataBased.data_to_string-487"><a href="#DataBased.data_to_string-487"><span class="linenos">487</span></a>    <span class="k">def</span> <span class="nf">data_to_string</span><span class="p">(</span>
-</span><span id="DataBased.data_to_string-488"><a href="#DataBased.data_to_string-488"><span class="linenos">488</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
-</span><span id="DataBased.data_to_string-489"><a href="#DataBased.data_to_string-489"><span class="linenos">489</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
-</span><span id="DataBased.data_to_string-490"><a href="#DataBased.data_to_string-490"><span class="linenos">490</span></a>        <span class="sd">&quot;&quot;&quot;Uses tabulate to produce pretty string output from a list of dictionaries.</span>
-</span><span id="DataBased.data_to_string-491"><a href="#DataBased.data_to_string-491"><span class="linenos">491</span></a>
-</span><span id="DataBased.data_to_string-492"><a href="#DataBased.data_to_string-492"><span class="linenos">492</span></a><span class="sd">        #### :params:</span>
-</span><span id="DataBased.data_to_string-493"><a href="#DataBased.data_to_string-493"><span class="linenos">493</span></a>
-</span><span id="DataBased.data_to_string-494"><a href="#DataBased.data_to_string-494"><span class="linenos">494</span></a><span class="sd">        `data`: The list of dictionaries to create a grid from.</span>
-</span><span id="DataBased.data_to_string-495"><a href="#DataBased.data_to_string-495"><span class="linenos">495</span></a><span class="sd">        Assumes all dictionaries in list have the same set of keys.</span>
-</span><span id="DataBased.data_to_string-496"><a href="#DataBased.data_to_string-496"><span class="linenos">496</span></a>
-</span><span id="DataBased.data_to_string-497"><a href="#DataBased.data_to_string-497"><span class="linenos">497</span></a><span class="sd">        `sort_key`: Optional dictionary key to sort data with.</span>
-</span><span id="DataBased.data_to_string-498"><a href="#DataBased.data_to_string-498"><span class="linenos">498</span></a>
-</span><span id="DataBased.data_to_string-499"><a href="#DataBased.data_to_string-499"><span class="linenos">499</span></a><span class="sd">        `wrap_to_terminal`: If `True`, the table width will be wrapped to fit within the current terminal window.</span>
-</span><span id="DataBased.data_to_string-500"><a href="#DataBased.data_to_string-500"><span class="linenos">500</span></a><span class="sd">        Pass as `False` if the output is going into something like a `.txt` file.&quot;&quot;&quot;</span>
-</span><span id="DataBased.data_to_string-501"><a href="#DataBased.data_to_string-501"><span class="linenos">501</span></a>        <span class="k">return</span> <span class="n">data_to_string</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">sort_key</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">)</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DataBased.data_to_string-517"><a href="#DataBased.data_to_string-517"><span class="linenos">517</span></a>    <span class="nd">@staticmethod</span>
+</span><span id="DataBased.data_to_string-518"><a href="#DataBased.data_to_string-518"><span class="linenos">518</span></a>    <span class="k">def</span> <span class="nf">data_to_string</span><span class="p">(</span>
+</span><span id="DataBased.data_to_string-519"><a href="#DataBased.data_to_string-519"><span class="linenos">519</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
+</span><span id="DataBased.data_to_string-520"><a href="#DataBased.data_to_string-520"><span class="linenos">520</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
+</span><span id="DataBased.data_to_string-521"><a href="#DataBased.data_to_string-521"><span class="linenos">521</span></a>        <span class="sd">&quot;&quot;&quot;Uses tabulate to produce pretty string output from a list of dictionaries.</span>
+</span><span id="DataBased.data_to_string-522"><a href="#DataBased.data_to_string-522"><span class="linenos">522</span></a>
+</span><span id="DataBased.data_to_string-523"><a href="#DataBased.data_to_string-523"><span class="linenos">523</span></a><span class="sd">        #### :params:</span>
+</span><span id="DataBased.data_to_string-524"><a href="#DataBased.data_to_string-524"><span class="linenos">524</span></a>
+</span><span id="DataBased.data_to_string-525"><a href="#DataBased.data_to_string-525"><span class="linenos">525</span></a><span class="sd">        `data`: The list of dictionaries to create a grid from.</span>
+</span><span id="DataBased.data_to_string-526"><a href="#DataBased.data_to_string-526"><span class="linenos">526</span></a><span class="sd">        Assumes all dictionaries in list have the same set of keys.</span>
+</span><span id="DataBased.data_to_string-527"><a href="#DataBased.data_to_string-527"><span class="linenos">527</span></a>
+</span><span id="DataBased.data_to_string-528"><a href="#DataBased.data_to_string-528"><span class="linenos">528</span></a><span class="sd">        `sort_key`: Optional dictionary key to sort data with.</span>
+</span><span id="DataBased.data_to_string-529"><a href="#DataBased.data_to_string-529"><span class="linenos">529</span></a>
+</span><span id="DataBased.data_to_string-530"><a href="#DataBased.data_to_string-530"><span class="linenos">530</span></a><span class="sd">        `wrap_to_terminal`: If `True`, the table width will be wrapped to fit within the current terminal window.</span>
+</span><span id="DataBased.data_to_string-531"><a href="#DataBased.data_to_string-531"><span class="linenos">531</span></a><span class="sd">        Pass as `False` if the output is going into something like a `.txt` file.&quot;&quot;&quot;</span>
+</span><span id="DataBased.data_to_string-532"><a href="#DataBased.data_to_string-532"><span class="linenos">532</span></a>        <span class="k">return</span> <span class="n">data_to_string</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">sort_key</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Uses tabulate to produce pretty string output from a list of dictionaries.</p>
 
 <h4 id="params">:params:</h4>
 
@@ -2006,80 +2136,80 @@
         <span class="def">def</span>
         <span class="name">data_to_string</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span>,</span><span class="param">	<span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>
 
                 <label class="view-source-button" for="data_to_string-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#data_to_string"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="data_to_string-504"><a href="#data_to_string-504"><span class="linenos">504</span></a><span class="k">def</span> <span class="nf">data_to_string</span><span class="p">(</span>
-</span><span id="data_to_string-505"><a href="#data_to_string-505"><span class="linenos">505</span></a>    <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
-</span><span id="data_to_string-506"><a href="#data_to_string-506"><span class="linenos">506</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
-</span><span id="data_to_string-507"><a href="#data_to_string-507"><span class="linenos">507</span></a>    <span class="sd">&quot;&quot;&quot;Uses tabulate to produce pretty string output from a list of dictionaries.</span>
-</span><span id="data_to_string-508"><a href="#data_to_string-508"><span class="linenos">508</span></a>
-</span><span id="data_to_string-509"><a href="#data_to_string-509"><span class="linenos">509</span></a><span class="sd">    #### :params:</span>
-</span><span id="data_to_string-510"><a href="#data_to_string-510"><span class="linenos">510</span></a>
-</span><span id="data_to_string-511"><a href="#data_to_string-511"><span class="linenos">511</span></a><span class="sd">    `data`: The list of dictionaries to create a grid from.</span>
-</span><span id="data_to_string-512"><a href="#data_to_string-512"><span class="linenos">512</span></a><span class="sd">    Assumes all dictionaries in list have the same set of keys.</span>
-</span><span id="data_to_string-513"><a href="#data_to_string-513"><span class="linenos">513</span></a>
-</span><span id="data_to_string-514"><a href="#data_to_string-514"><span class="linenos">514</span></a><span class="sd">    `sort_key`: Optional dictionary key to sort data with.</span>
-</span><span id="data_to_string-515"><a href="#data_to_string-515"><span class="linenos">515</span></a>
-</span><span id="data_to_string-516"><a href="#data_to_string-516"><span class="linenos">516</span></a><span class="sd">    `wrap_to_terminal`: If `True`, the table width will be wrapped to fit within the current terminal window.</span>
-</span><span id="data_to_string-517"><a href="#data_to_string-517"><span class="linenos">517</span></a><span class="sd">    Pass as `False` if the output is going into something like a `.txt` file.&quot;&quot;&quot;</span>
-</span><span id="data_to_string-518"><a href="#data_to_string-518"><span class="linenos">518</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
-</span><span id="data_to_string-519"><a href="#data_to_string-519"><span class="linenos">519</span></a>        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
-</span><span id="data_to_string-520"><a href="#data_to_string-520"><span class="linenos">520</span></a>    <span class="k">if</span> <span class="n">sort_key</span><span class="p">:</span>
-</span><span id="data_to_string-521"><a href="#data_to_string-521"><span class="linenos">521</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="n">sort_key</span><span class="p">])</span>
-</span><span id="data_to_string-522"><a href="#data_to_string-522"><span class="linenos">522</span></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
-</span><span id="data_to_string-523"><a href="#data_to_string-523"><span class="linenos">523</span></a>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
-</span><span id="data_to_string-524"><a href="#data_to_string-524"><span class="linenos">524</span></a>            <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">])</span>
-</span><span id="data_to_string-525"><a href="#data_to_string-525"><span class="linenos">525</span></a>
-</span><span id="data_to_string-526"><a href="#data_to_string-526"><span class="linenos">526</span></a>    <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">True</span>
-</span><span id="data_to_string-527"><a href="#data_to_string-527"><span class="linenos">527</span></a>    <span class="n">terminal_width</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">get_terminal_size</span><span class="p">()</span><span class="o">.</span><span class="n">columns</span>
-</span><span id="data_to_string-528"><a href="#data_to_string-528"><span class="linenos">528</span></a>    <span class="n">max_col_widths</span> <span class="o">=</span> <span class="n">terminal_width</span>
-</span><span id="data_to_string-529"><a href="#data_to_string-529"><span class="linenos">529</span></a>    <span class="c1"># Make an output with effectively unrestricted column widths</span>
-</span><span id="data_to_string-530"><a href="#data_to_string-530"><span class="linenos">530</span></a>    <span class="c1"># to see if shrinking is necessary</span>
-</span><span id="data_to_string-531"><a href="#data_to_string-531"><span class="linenos">531</span></a>    <span class="n">output</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span>
-</span><span id="data_to_string-532"><a href="#data_to_string-532"><span class="linenos">532</span></a>        <span class="n">data</span><span class="p">,</span>
-</span><span id="data_to_string-533"><a href="#data_to_string-533"><span class="linenos">533</span></a>        <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span>
-</span><span id="data_to_string-534"><a href="#data_to_string-534"><span class="linenos">534</span></a>        <span class="n">disable_numparse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
-</span><span id="data_to_string-535"><a href="#data_to_string-535"><span class="linenos">535</span></a>        <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
-</span><span id="data_to_string-536"><a href="#data_to_string-536"><span class="linenos">536</span></a>        <span class="n">maxcolwidths</span><span class="o">=</span><span class="n">max_col_widths</span><span class="p">,</span>
-</span><span id="data_to_string-537"><a href="#data_to_string-537"><span class="linenos">537</span></a>    <span class="p">)</span>
-</span><span id="data_to_string-538"><a href="#data_to_string-538"><span class="linenos">538</span></a>    <span class="n">current_width</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="data_to_string-539"><a href="#data_to_string-539"><span class="linenos">539</span></a>    <span class="k">if</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
-</span><span id="data_to_string-540"><a href="#data_to_string-540"><span class="linenos">540</span></a>        <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">False</span>
-</span><span id="data_to_string-541"><a href="#data_to_string-541"><span class="linenos">541</span></a>    <span class="k">if</span> <span class="n">wrap_to_terminal</span> <span class="ow">and</span> <span class="n">too_wide</span><span class="p">:</span>
-</span><span id="data_to_string-542"><a href="#data_to_string-542"><span class="linenos">542</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Resizing grid to fit within the terminal...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="data_to_string-543"><a href="#data_to_string-543"><span class="linenos">543</span></a>        <span class="n">previous_col_widths</span> <span class="o">=</span> <span class="n">max_col_widths</span>
-</span><span id="data_to_string-544"><a href="#data_to_string-544"><span class="linenos">544</span></a>        <span class="n">acceptable_width</span> <span class="o">=</span> <span class="n">terminal_width</span> <span class="o">-</span> <span class="mi">10</span>
-</span><span id="data_to_string-545"><a href="#data_to_string-545"><span class="linenos">545</span></a>        <span class="k">while</span> <span class="n">too_wide</span> <span class="ow">and</span> <span class="n">max_col_widths</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
-</span><span id="data_to_string-546"><a href="#data_to_string-546"><span class="linenos">546</span></a>            <span class="k">if</span> <span class="n">current_width</span> <span class="o">&gt;=</span> <span class="n">terminal_width</span><span class="p">:</span>
-</span><span id="data_to_string-547"><a href="#data_to_string-547"><span class="linenos">547</span></a>                <span class="n">previous_col_widths</span> <span class="o">=</span> <span class="n">max_col_widths</span>
-</span><span id="data_to_string-548"><a href="#data_to_string-548"><span class="linenos">548</span></a>                <span class="n">max_col_widths</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_col_widths</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>
-</span><span id="data_to_string-549"><a href="#data_to_string-549"><span class="linenos">549</span></a>            <span class="k">elif</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
-</span><span id="data_to_string-550"><a href="#data_to_string-550"><span class="linenos">550</span></a>                <span class="c1"># Without lowering acceptable_width, this condition will cause infinite loop</span>
-</span><span id="data_to_string-551"><a href="#data_to_string-551"><span class="linenos">551</span></a>                <span class="k">if</span> <span class="n">max_col_widths</span> <span class="o">==</span> <span class="n">previous_col_widths</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
-</span><span id="data_to_string-552"><a href="#data_to_string-552"><span class="linenos">552</span></a>                    <span class="n">acceptable_width</span> <span class="o">-=</span> <span class="mi">10</span>
-</span><span id="data_to_string-553"><a href="#data_to_string-553"><span class="linenos">553</span></a>                <span class="n">max_col_widths</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
-</span><span id="data_to_string-554"><a href="#data_to_string-554"><span class="linenos">554</span></a>                    <span class="n">max_col_widths</span> <span class="o">+</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">previous_col_widths</span> <span class="o">-</span> <span class="n">max_col_widths</span><span class="p">))</span>
-</span><span id="data_to_string-555"><a href="#data_to_string-555"><span class="linenos">555</span></a>                <span class="p">)</span>
-</span><span id="data_to_string-556"><a href="#data_to_string-556"><span class="linenos">556</span></a>            <span class="n">output</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span>
-</span><span id="data_to_string-557"><a href="#data_to_string-557"><span class="linenos">557</span></a>                <span class="n">data</span><span class="p">,</span>
-</span><span id="data_to_string-558"><a href="#data_to_string-558"><span class="linenos">558</span></a>                <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span>
-</span><span id="data_to_string-559"><a href="#data_to_string-559"><span class="linenos">559</span></a>                <span class="n">disable_numparse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
-</span><span id="data_to_string-560"><a href="#data_to_string-560"><span class="linenos">560</span></a>                <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
-</span><span id="data_to_string-561"><a href="#data_to_string-561"><span class="linenos">561</span></a>                <span class="n">maxcolwidths</span><span class="o">=</span><span class="n">max_col_widths</span><span class="p">,</span>
-</span><span id="data_to_string-562"><a href="#data_to_string-562"><span class="linenos">562</span></a>            <span class="p">)</span>
-</span><span id="data_to_string-563"><a href="#data_to_string-563"><span class="linenos">563</span></a>            <span class="n">current_width</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="data_to_string-564"><a href="#data_to_string-564"><span class="linenos">564</span></a>            <span class="k">if</span> <span class="n">acceptable_width</span> <span class="o">&lt;</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
-</span><span id="data_to_string-565"><a href="#data_to_string-565"><span class="linenos">565</span></a>                <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">False</span>
-</span><span id="data_to_string-566"><a href="#data_to_string-566"><span class="linenos">566</span></a>        <span class="k">if</span> <span class="n">too_wide</span><span class="p">:</span>
-</span><span id="data_to_string-567"><a href="#data_to_string-567"><span class="linenos">567</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t resize grid to fit within the terminal.&quot;</span><span class="p">)</span>
-</span><span id="data_to_string-568"><a href="#data_to_string-568"><span class="linenos">568</span></a>            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
-</span><span id="data_to_string-569"><a href="#data_to_string-569"><span class="linenos">569</span></a>    <span class="k">return</span> <span class="n">output</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="data_to_string-535"><a href="#data_to_string-535"><span class="linenos">535</span></a><span class="k">def</span> <span class="nf">data_to_string</span><span class="p">(</span>
+</span><span id="data_to_string-536"><a href="#data_to_string-536"><span class="linenos">536</span></a>    <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">sort_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wrap_to_terminal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
+</span><span id="data_to_string-537"><a href="#data_to_string-537"><span class="linenos">537</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
+</span><span id="data_to_string-538"><a href="#data_to_string-538"><span class="linenos">538</span></a>    <span class="sd">&quot;&quot;&quot;Uses tabulate to produce pretty string output from a list of dictionaries.</span>
+</span><span id="data_to_string-539"><a href="#data_to_string-539"><span class="linenos">539</span></a>
+</span><span id="data_to_string-540"><a href="#data_to_string-540"><span class="linenos">540</span></a><span class="sd">    #### :params:</span>
+</span><span id="data_to_string-541"><a href="#data_to_string-541"><span class="linenos">541</span></a>
+</span><span id="data_to_string-542"><a href="#data_to_string-542"><span class="linenos">542</span></a><span class="sd">    `data`: The list of dictionaries to create a grid from.</span>
+</span><span id="data_to_string-543"><a href="#data_to_string-543"><span class="linenos">543</span></a><span class="sd">    Assumes all dictionaries in list have the same set of keys.</span>
+</span><span id="data_to_string-544"><a href="#data_to_string-544"><span class="linenos">544</span></a>
+</span><span id="data_to_string-545"><a href="#data_to_string-545"><span class="linenos">545</span></a><span class="sd">    `sort_key`: Optional dictionary key to sort data with.</span>
+</span><span id="data_to_string-546"><a href="#data_to_string-546"><span class="linenos">546</span></a>
+</span><span id="data_to_string-547"><a href="#data_to_string-547"><span class="linenos">547</span></a><span class="sd">    `wrap_to_terminal`: If `True`, the table width will be wrapped to fit within the current terminal window.</span>
+</span><span id="data_to_string-548"><a href="#data_to_string-548"><span class="linenos">548</span></a><span class="sd">    Pass as `False` if the output is going into something like a `.txt` file.&quot;&quot;&quot;</span>
+</span><span id="data_to_string-549"><a href="#data_to_string-549"><span class="linenos">549</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
+</span><span id="data_to_string-550"><a href="#data_to_string-550"><span class="linenos">550</span></a>        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
+</span><span id="data_to_string-551"><a href="#data_to_string-551"><span class="linenos">551</span></a>    <span class="k">if</span> <span class="n">sort_key</span><span class="p">:</span>
+</span><span id="data_to_string-552"><a href="#data_to_string-552"><span class="linenos">552</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="n">sort_key</span><span class="p">])</span>
+</span><span id="data_to_string-553"><a href="#data_to_string-553"><span class="linenos">553</span></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
+</span><span id="data_to_string-554"><a href="#data_to_string-554"><span class="linenos">554</span></a>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
+</span><span id="data_to_string-555"><a href="#data_to_string-555"><span class="linenos">555</span></a>            <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">])</span>
+</span><span id="data_to_string-556"><a href="#data_to_string-556"><span class="linenos">556</span></a>
+</span><span id="data_to_string-557"><a href="#data_to_string-557"><span class="linenos">557</span></a>    <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">True</span>
+</span><span id="data_to_string-558"><a href="#data_to_string-558"><span class="linenos">558</span></a>    <span class="n">terminal_width</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">get_terminal_size</span><span class="p">()</span><span class="o">.</span><span class="n">columns</span>
+</span><span id="data_to_string-559"><a href="#data_to_string-559"><span class="linenos">559</span></a>    <span class="n">max_col_widths</span> <span class="o">=</span> <span class="n">terminal_width</span>
+</span><span id="data_to_string-560"><a href="#data_to_string-560"><span class="linenos">560</span></a>    <span class="c1"># Make an output with effectively unrestricted column widths</span>
+</span><span id="data_to_string-561"><a href="#data_to_string-561"><span class="linenos">561</span></a>    <span class="c1"># to see if shrinking is necessary</span>
+</span><span id="data_to_string-562"><a href="#data_to_string-562"><span class="linenos">562</span></a>    <span class="n">output</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span>
+</span><span id="data_to_string-563"><a href="#data_to_string-563"><span class="linenos">563</span></a>        <span class="n">data</span><span class="p">,</span>
+</span><span id="data_to_string-564"><a href="#data_to_string-564"><span class="linenos">564</span></a>        <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span>
+</span><span id="data_to_string-565"><a href="#data_to_string-565"><span class="linenos">565</span></a>        <span class="n">disable_numparse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
+</span><span id="data_to_string-566"><a href="#data_to_string-566"><span class="linenos">566</span></a>        <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
+</span><span id="data_to_string-567"><a href="#data_to_string-567"><span class="linenos">567</span></a>        <span class="n">maxcolwidths</span><span class="o">=</span><span class="n">max_col_widths</span><span class="p">,</span>
+</span><span id="data_to_string-568"><a href="#data_to_string-568"><span class="linenos">568</span></a>    <span class="p">)</span>
+</span><span id="data_to_string-569"><a href="#data_to_string-569"><span class="linenos">569</span></a>    <span class="n">current_width</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="data_to_string-570"><a href="#data_to_string-570"><span class="linenos">570</span></a>    <span class="k">if</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
+</span><span id="data_to_string-571"><a href="#data_to_string-571"><span class="linenos">571</span></a>        <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">False</span>
+</span><span id="data_to_string-572"><a href="#data_to_string-572"><span class="linenos">572</span></a>    <span class="k">if</span> <span class="n">wrap_to_terminal</span> <span class="ow">and</span> <span class="n">too_wide</span><span class="p">:</span>
+</span><span id="data_to_string-573"><a href="#data_to_string-573"><span class="linenos">573</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Resizing grid to fit within the terminal...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="data_to_string-574"><a href="#data_to_string-574"><span class="linenos">574</span></a>        <span class="n">previous_col_widths</span> <span class="o">=</span> <span class="n">max_col_widths</span>
+</span><span id="data_to_string-575"><a href="#data_to_string-575"><span class="linenos">575</span></a>        <span class="n">acceptable_width</span> <span class="o">=</span> <span class="n">terminal_width</span> <span class="o">-</span> <span class="mi">10</span>
+</span><span id="data_to_string-576"><a href="#data_to_string-576"><span class="linenos">576</span></a>        <span class="k">while</span> <span class="n">too_wide</span> <span class="ow">and</span> <span class="n">max_col_widths</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
+</span><span id="data_to_string-577"><a href="#data_to_string-577"><span class="linenos">577</span></a>            <span class="k">if</span> <span class="n">current_width</span> <span class="o">&gt;=</span> <span class="n">terminal_width</span><span class="p">:</span>
+</span><span id="data_to_string-578"><a href="#data_to_string-578"><span class="linenos">578</span></a>                <span class="n">previous_col_widths</span> <span class="o">=</span> <span class="n">max_col_widths</span>
+</span><span id="data_to_string-579"><a href="#data_to_string-579"><span class="linenos">579</span></a>                <span class="n">max_col_widths</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_col_widths</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>
+</span><span id="data_to_string-580"><a href="#data_to_string-580"><span class="linenos">580</span></a>            <span class="k">elif</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
+</span><span id="data_to_string-581"><a href="#data_to_string-581"><span class="linenos">581</span></a>                <span class="c1"># Without lowering acceptable_width, this condition will cause infinite loop</span>
+</span><span id="data_to_string-582"><a href="#data_to_string-582"><span class="linenos">582</span></a>                <span class="k">if</span> <span class="n">max_col_widths</span> <span class="o">==</span> <span class="n">previous_col_widths</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
+</span><span id="data_to_string-583"><a href="#data_to_string-583"><span class="linenos">583</span></a>                    <span class="n">acceptable_width</span> <span class="o">-=</span> <span class="mi">10</span>
+</span><span id="data_to_string-584"><a href="#data_to_string-584"><span class="linenos">584</span></a>                <span class="n">max_col_widths</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
+</span><span id="data_to_string-585"><a href="#data_to_string-585"><span class="linenos">585</span></a>                    <span class="n">max_col_widths</span> <span class="o">+</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">previous_col_widths</span> <span class="o">-</span> <span class="n">max_col_widths</span><span class="p">))</span>
+</span><span id="data_to_string-586"><a href="#data_to_string-586"><span class="linenos">586</span></a>                <span class="p">)</span>
+</span><span id="data_to_string-587"><a href="#data_to_string-587"><span class="linenos">587</span></a>            <span class="n">output</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span>
+</span><span id="data_to_string-588"><a href="#data_to_string-588"><span class="linenos">588</span></a>                <span class="n">data</span><span class="p">,</span>
+</span><span id="data_to_string-589"><a href="#data_to_string-589"><span class="linenos">589</span></a>                <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span>
+</span><span id="data_to_string-590"><a href="#data_to_string-590"><span class="linenos">590</span></a>                <span class="n">disable_numparse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
+</span><span id="data_to_string-591"><a href="#data_to_string-591"><span class="linenos">591</span></a>                <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
+</span><span id="data_to_string-592"><a href="#data_to_string-592"><span class="linenos">592</span></a>                <span class="n">maxcolwidths</span><span class="o">=</span><span class="n">max_col_widths</span><span class="p">,</span>
+</span><span id="data_to_string-593"><a href="#data_to_string-593"><span class="linenos">593</span></a>            <span class="p">)</span>
+</span><span id="data_to_string-594"><a href="#data_to_string-594"><span class="linenos">594</span></a>            <span class="n">current_width</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="data_to_string-595"><a href="#data_to_string-595"><span class="linenos">595</span></a>            <span class="k">if</span> <span class="n">acceptable_width</span> <span class="o">&lt;</span> <span class="n">current_width</span> <span class="o">&lt;</span> <span class="n">terminal_width</span><span class="p">:</span>
+</span><span id="data_to_string-596"><a href="#data_to_string-596"><span class="linenos">596</span></a>                <span class="n">too_wide</span> <span class="o">=</span> <span class="kc">False</span>
+</span><span id="data_to_string-597"><a href="#data_to_string-597"><span class="linenos">597</span></a>        <span class="k">if</span> <span class="n">too_wide</span><span class="p">:</span>
+</span><span id="data_to_string-598"><a href="#data_to_string-598"><span class="linenos">598</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t resize grid to fit within the terminal.&quot;</span><span class="p">)</span>
+</span><span id="data_to_string-599"><a href="#data_to_string-599"><span class="linenos">599</span></a>            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
+</span><span id="data_to_string-600"><a href="#data_to_string-600"><span class="linenos">600</span></a>    <span class="k">return</span> <span class="n">output</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Uses tabulate to produce pretty string output from a list of dictionaries.</p>
 
 <h4 id="params">:params:</h4>
```

#### html2text {}

```diff
@@ -10,14 +10,15 @@
           o query
           o create_tables
           o create_table
           o get_table_names
           o get_column_names
           o count
           o add_row
+          o add_rows
           o get_rows
           o find
           o delete
           o update
           o drop_table
           o add_column
           o data_to_string
@@ -273,384 +274,420 @@
 231        except:
 232            return 0
 233
 234    @_connect
 235    def add_row(
 236        self, table: str, values: tuple[Any], columns: tuple[str] | None =
 None
-237    ):
+237    ) -> bool:
 238        """Add a row of values to a table.
 239
-240        #### :params:
+240        Returns whether the addition was successful or not.
 241
-242        `table`: The table to insert values into.
+242        #### :params:
 243
-244        `values`: A tuple of values to be inserted into the table.
+244        `table`: The table to insert values into.
 245
-246        `columns`: If `None`, `values` is expected to supply a value for
+246        `values`: A tuple of values to be inserted into the table.
+247
+248        `columns`: If `None`, `values` is expected to supply a value for
 every column in the table.
-247        If `columns` is provided, it should contain the same number of
+249        If `columns` is provided, it should contain the same number of
 elements as `values`."""
-248        parameterizer = ", ".join("?" for _ in values)
-249        logger_values = ", ".join(str(value) for value in values)
-250        try:
-251            if columns:
-252                columns_query = ", ".join(column for column in columns)
-253                self.cursor.execute(
-254                    f"insert into {table} ({columns_query}) values(
+250        parameterizer = ", ".join("?" for _ in values)
+251        logger_values = ", ".join(str(value) for value in values)
+252        try:
+253            if columns:
+254                columns_query = ", ".join(column for column in columns)
+255                self.cursor.execute(
+256                    f"insert into {table} ({columns_query}) values(
 {parameterizer});",
-255                    values,
-256                )
-257            else:
-258                self.cursor.execute(
-259                    f"insert into {table} values({parameterizer});", values
-260                )
-261            self.logger.info(f'Added "{logger_values}" to {table} table.')
-262        except Exception as e:
-263            if "constraint" not in str(e).lower():
-264                self.logger.exception(
-265                    f'Error adding "{logger_values}" to {table} table.'
-266                )
-267            else:
-268                self.logger.debug(str(e))
-269
-270    @_connect
-271    def get_rows(
-272        self,
-273        table: str,
-274        match_criteria: list[tuple] | dict | None = None,
-275        exact_match: bool = True,
-276        sort_by_column: str | None = None,
-277        columns_to_return: list[str] | None = None,
-278        return_as_dataframe: bool = False,
-279        values_only: bool = False,
-280        order_by: str | None = None,
-281        limit: str | int | None = None,
-282    ) -> list[dict] | list[tuple] | pandas.DataFrame:
-283        """Return matching rows from `table`.
-284
-285        By default, rows will be returned as a list of dictionaries of the
+257                    values,
+258                )
+259            else:
+260                self.cursor.execute(
+261                    f"insert into {table} values({parameterizer});", values
+262                )
+263            self.logger.info(f'Added "{logger_values}" to {table} table.')
+264            return True
+265        except Exception as e:
+266            if "constraint" not in str(e).lower():
+267                self.logger.exception(
+268                    f'Error adding "{logger_values}" to {table} table.'
+269                )
+270            else:
+271                self.logger.debug(str(e))
+272            return False
+273
+274    @_connect
+275    def add_rows(
+276        self, table: str, values: list[tuple[Any]], columns: tuple[str] |
+None = None
+277    ) -> tuple[int, int]:
+278        """Add multiple rows of values to a table.
+279
+280        Returns a tuple containing the number of successful additions and
+the number of failed additions.
+281
+282        #### :params:
+283
+284        `table`: The table to insert values into.
+285
+286        `values`: A list of tuples of values to be inserted into the table.
+287        Each tuple constitutes a single row to be inserted
+288
+289        `columns`: If `None`, `values` is expected to supply a value for
+every column in the table.
+290        If `columns` is provided, it should contain the same number of
+elements as `values`."""
+291        successes = 0
+292        failures = 0
+293        for row in values:
+294            if self.add_row(table, row, columns):
+295                successes += 1
+296            else:
+297                failures += 1
+298        return (successes, failures)
+299
+300    @_connect
+301    def get_rows(
+302        self,
+303        table: str,
+304        match_criteria: list[tuple] | dict | None = None,
+305        exact_match: bool = True,
+306        sort_by_column: str | None = None,
+307        columns_to_return: list[str] | None = None,
+308        return_as_dataframe: bool = False,
+309        values_only: bool = False,
+310        order_by: str | None = None,
+311        limit: str | int | None = None,
+312    ) -> list[dict] | list[tuple] | pandas.DataFrame:
+313        """Return matching rows from `table`.
+314
+315        By default, rows will be returned as a list of dictionaries of the
 form `[{"column_name": value, ...}, ...]`
-286
-287
-288        #### :params:
-289
-290        `match_criteria`: Can be a list of 2-tuples where each
-291        tuple is `(columnName, rowValue)` or a dictionary where
-292        keys are column names and values are row values.
-293
-294        `exact_match`: If `False`, the row value for a given column will be
+316
+317
+318        #### :params:
+319
+320        `match_criteria`: Can be a list of 2-tuples where each
+321        tuple is `(columnName, rowValue)` or a dictionary where
+322        keys are column names and values are row values.
+323
+324        `exact_match`: If `False`, the row value for a given column will be
 matched as a substring.
-295
-296        `sort_by_column`: A column name to sort the results by.
-297        This will sort results in Python after retrieving them from the db.
-298        Use the 'order_by' param to use SQLite engine for ordering.
-299
-300        `columns_to_return`: Optional list of column names.
-301        If provided, the elements returned by this function will only
+325
+326        `sort_by_column`: A column name to sort the results by.
+327        This will sort results in Python after retrieving them from the db.
+328        Use the 'order_by' param to use SQLite engine for ordering.
+329
+330        `columns_to_return`: Optional list of column names.
+331        If provided, the elements returned by this function will only
 contain the provided columns.
-302        Otherwise every column in the row is returned.
-303
-304        `return_as_dataframe`: Return the results as a `pandas.DataFrame`
+332        Otherwise every column in the row is returned.
+333
+334        `return_as_dataframe`: Return the results as a `pandas.DataFrame`
 object.
-305
-306        `values_only`: Return the results as a list of tuples.
-307
-308        `order_by`: If given, a `order by {order_by}` clause will be added
+335
+336        `values_only`: Return the results as a list of tuples.
+337
+338        `order_by`: If given, a `order by {order_by}` clause will be added
 to the select query.
-309
-310        `limit`: If given, a `limit {limit}` clause will be added to the
+339
+340        `limit`: If given, a `limit {limit}` clause will be added to the
 select query.
-311        """
-312
-313        if type(columns_to_return) is str:
-314            columns_to_return = [columns_to_return]
-315        query = f"select * from {table}"
-316        matches = []
-317        if match_criteria:
-318            query += f" where {self._get_conditions(match_criteria,
+341        """
+342
+343        if type(columns_to_return) is str:
+344            columns_to_return = [columns_to_return]
+345        query = f"select * from {table}"
+346        matches = []
+347        if match_criteria:
+348            query += f" where {self._get_conditions(match_criteria,
 exact_match)}"
-319        if order_by:
-320            query += f" order by {order_by}"
-321        if limit:
-322            query += f" limit {limit}"
-323        query += ";"
-324        self.cursor.execute(query)
-325        matches = self.cursor.fetchall()
-326        results = [self._get_dict(table, match, columns_to_return) for match
+349        if order_by:
+350            query += f" order by {order_by}"
+351        if limit:
+352            query += f" limit {limit}"
+353        query += ";"
+354        self.cursor.execute(query)
+355        matches = self.cursor.fetchall()
+356        results = [self._get_dict(table, match, columns_to_return) for match
 in matches]
-327        if sort_by_column:
-328            results = sorted(results, key=lambda x: x[sort_by_column])
-329        if return_as_dataframe:
-330            return pandas.DataFrame(results)
-331        if values_only:
-332            return [tuple(row.values()) for row in results]
-333        else:
-334            return results
-335
-336    @_connect
-337    def find(
-338        self, table: str, query_string: str, columns: list[str] | None =
+357        if sort_by_column:
+358            results = sorted(results, key=lambda x: x[sort_by_column])
+359        if return_as_dataframe:
+360            return pandas.DataFrame(results)
+361        if values_only:
+362            return [tuple(row.values()) for row in results]
+363        else:
+364            return results
+365
+366    @_connect
+367    def find(
+368        self, table: str, query_string: str, columns: list[str] | None =
 None
-339    ) -> list[dict]:
-340        """Search for rows that contain `query_string` as a substring of any
+369    ) -> list[dict]:
+370        """Search for rows that contain `query_string` as a substring of any
 column.
-341
-342        #### :params:
-343
-344        `table`: The table to search.
-345
-346        `query_string`: The substring to search for in all columns.
-347
-348        `columns`: A list of columns to search for query_string.
-349        If None, all columns in the table will be searched.
-350        """
-351        if type(columns) is str:
-352            columns = [columns]
-353        results = []
-354        if not columns:
-355            columns = self.get_column_names(table)
-356        for column in columns:
-357            results.extend(
-358                [
-359                    row
-360                    for row in self.get_rows(
-361                        table, [(column, query_string)], exact_match=False
-362                    )
-363                    if row not in results
-364                ]
-365            )
-366        return results
-367
-368    @_connect
-369    def delete(
-370        self, table: str, match_criteria: list[tuple] | dict, exact_match:
-bool = True
-371    ) -> int:
-372        """Delete records from `table`.
+371
+372        #### :params:
 373
-374        Returns the number of deleted records.
+374        `table`: The table to search.
 375
-376        #### :params:
+376        `query_string`: The substring to search for in all columns.
 377
-378        `match_criteria`: Can be a list of 2-tuples where each tuple is `
+378        `columns`: A list of columns to search for query_string.
+379        If None, all columns in the table will be searched.
+380        """
+381        if type(columns) is str:
+382            columns = [columns]
+383        results = []
+384        if not columns:
+385            columns = self.get_column_names(table)
+386        for column in columns:
+387            results.extend(
+388                [
+389                    row
+390                    for row in self.get_rows(
+391                        table, [(column, query_string)], exact_match=False
+392                    )
+393                    if row not in results
+394                ]
+395            )
+396        return results
+397
+398    @_connect
+399    def delete(
+400        self, table: str, match_criteria: list[tuple] | dict, exact_match:
+bool = True
+401    ) -> int:
+402        """Delete records from `table`.
+403
+404        Returns the number of deleted records.
+405
+406        #### :params:
+407
+408        `match_criteria`: Can be a list of 2-tuples where each tuple is `
 (column_name, value)`
-379        or a dictionary where keys are column names and values are
+409        or a dictionary where keys are column names and values are
 corresponding values.
-380
-381        `exact_match`: If `False`, the value for a given column will be
+410
+411        `exact_match`: If `False`, the value for a given column will be
 matched as a substring.
-382        """
-383        num_matches = self.count(table, match_criteria, exact_match)
-384        conditions = self._get_conditions(match_criteria, exact_match)
-385        try:
-386            self.cursor.execute(f"delete from {table} where {conditions};")
-387            self.logger.info(
-388                f'Deleted {num_matches} from "{table}" where {conditions}".'
-389            )
-390            return num_matches
-391        except Exception as e:
-392            self.logger.debug(f'Error deleting from "{table}" where
-{conditions}.\n{e}')
-393            return 0
-394
-395    @_connect
-396    def update(
-397        self,
-398        table: str,
-399        column_to_update: str,
-400        new_value: Any,
-401        match_criteria: list[tuple] | dict | None = None,
-402    ) -> bool:
-403        """Update the value in `column_to_update` to `new_value` for rows
+412        """
+413        conditions = self._get_conditions(match_criteria, exact_match)
+414        try:
+415            self.cursor.execute(f"delete from {table} where {conditions};")
+416            num_deletions = self.cursor.rowcount
+417            self.logger.info(
+418                f'Deleted {num_deletions} rows from "{table}" where
+{conditions}".'
+419            )
+420            return num_deletions
+421        except Exception as e:
+422            self.logger.debug(
+423                f'Error deleting rows from "{table}" where {conditions}.\n
+{e}'
+424            )
+425            return 0
+426
+427    @_connect
+428    def update(
+429        self,
+430        table: str,
+431        column_to_update: str,
+432        new_value: Any,
+433        match_criteria: list[tuple] | dict | None = None,
+434        exact_match: bool = True,
+435    ) -> int:
+436        """Update the value in `column_to_update` to `new_value` for rows
 matched with `match_criteria`.
-404
-405        #### :params:
-406
-407        `table`: The table to update rows in.
-408
-409        `column_to_update`: The column to be updated in the matched rows.
-410
-411        `new_value`: The new value to insert.
-412
-413        `match_criteria`: Can be a list of 2-tuples where each tuple is `
+437
+438        #### :params:
+439
+440        `table`: The table to update rows in.
+441
+442        `column_to_update`: The column to be updated in the matched rows.
+443
+444        `new_value`: The new value to insert.
+445
+446        `match_criteria`: Can be a list of 2-tuples where each tuple is `
 (columnName, rowValue)`
-414        or a dictionary where keys are column names and values are
+447        or a dictionary where keys are column names and values are
 corresponding values.
-415        If `None`, every row in `table` will be updated.
-416
-417        Returns `True` if successful, `False` if not."""
-418        query = f"update {table} set {column_to_update} = ?"
-419        conditions = ""
-420        if match_criteria:
-421            if self.count(table, match_criteria) == 0:
-422                self.logger.info(
-423                    f"Couldn't find matching records in {table} table to
-update to '{new_value}'"
-424                )
-425                return False
-426            conditions = self._get_conditions(match_criteria)
-427            query += f" where {conditions}"
-428        else:
-429            conditions = None
-430        query += ";"
-431        try:
-432            self.cursor.execute(
-433                query,
-434                (new_value,),
-435            )
-436            self.logger.info(
-437                f'Updated "{column_to_update}" in "{table}" table to "
-{new_value}" where {conditions}'
-438            )
-439            return True
-440        except Exception as e:
-441            self.logger.error(
-442                f'Failed to update "{column_to_update}" in "{table}" table
-to "{new_value}" where {conditions}"\n{e}'
-443            )
-444            return False
-445
-446    @_connect
-447    def drop_table(self, table: str) -> bool:
-448        """Drop `table` from the database.
+448        If `None`, every row in `table` will be updated.
 449
-450        Returns `True` if successful, `False` if not."""
-451        try:
-452            self.cursor.execute(f"drop Table {table};")
-453            self.logger.info(f'Dropped table "{table}"')
-454            return True
-455        except Exception as e:
-456            print(e)
-457            self.logger.error(f'Failed to drop table "{table}"')
-458            return False
-459
-460    @_connect
-461    def add_column(
-462        self, table: str, column: str, _type: str, default_value: str | None
+450        `exact_match`: If `False`, `match_criteria` values will be treated
+as substrings.
+451
+452        Returns the number of updated rows."""
+453        query = f"update {table} set {column_to_update} = ?"
+454        conditions = ""
+455        if match_criteria:
+456            conditions = self._get_conditions(match_criteria, exact_match)
+457            query += f" where {conditions}"
+458        else:
+459            conditions = None
+460        query += ";"
+461        try:
+462            self.cursor.execute(
+463                query,
+464                (new_value,),
+465            )
+466            num_updates = self.cursor.rowcount
+467            self.logger.info(
+468                f'In {num_updates} rows, updated "{column_to_update}" in "
+{table}" table to "{new_value}" where {conditions}'
+469            )
+470            return num_updates
+471        except Exception as e:
+472            self.logger.error(
+473                f'Failed to update "{column_to_update}" in "{table}" table
+to "{new_value}" where {conditions}"\n{e}'
+474            )
+475            return 0
+476
+477    @_connect
+478    def drop_table(self, table: str) -> bool:
+479        """Drop `table` from the database.
+480
+481        Returns `True` if successful, `False` if not."""
+482        try:
+483            self.cursor.execute(f"drop Table {table};")
+484            self.logger.info(f'Dropped table "{table}"')
+485            return True
+486        except Exception as e:
+487            print(e)
+488            self.logger.error(f'Failed to drop table "{table}"')
+489            return False
+490
+491    @_connect
+492    def add_column(
+493        self, table: str, column: str, _type: str, default_value: str | None
 = None
-463    ):
-464        """Add a new column to `table`.
-465
-466        #### :params:
-467
-468        `column`: Name of the column to add.
-469
-470        `_type`: The data type of the new column.
-471
-472        `default_value`: Optional default value for the column."""
-473        try:
-474            if default_value:
-475                self.cursor.execute(
-476                    f"alter table {table} add column {column} {_type}
+494    ):
+495        """Add a new column to `table`.
+496
+497        #### :params:
+498
+499        `column`: Name of the column to add.
+500
+501        `_type`: The data type of the new column.
+502
+503        `default_value`: Optional default value for the column."""
+504        try:
+505            if default_value:
+506                self.cursor.execute(
+507                    f"alter table {table} add column {column} {_type}
 default {default_value};"
-477                )
-478                self.update(table, column, default_value)
-479            else:
-480                self.cursor.execute(f"alter table {table} add column
+508                )
+509                self.update(table, column, default_value)
+510            else:
+511                self.cursor.execute(f"alter table {table} add column
 {column} {_type};")
-481            self.logger.info(f'Added column "{column}" to "{table}" table.')
-482        except Exception as e:
-483            self.logger.error(f'Failed to add column "{column}" to "{table}"
+512            self.logger.info(f'Added column "{column}" to "{table}" table.')
+513        except Exception as e:
+514            self.logger.error(f'Failed to add column "{column}" to "{table}"
 table.')
-484
-485    @staticmethod
-486    def data_to_string(
-487        data: list[dict], sort_key: str | None = None, wrap_to_terminal:
+515
+516    @staticmethod
+517    def data_to_string(
+518        data: list[dict], sort_key: str | None = None, wrap_to_terminal:
 bool = True
-488    ) -> str:
-489        """Uses tabulate to produce pretty string output from a list of
+519    ) -> str:
+520        """Uses tabulate to produce pretty string output from a list of
 dictionaries.
-490
-491        #### :params:
-492
-493        `data`: The list of dictionaries to create a grid from.
-494        Assumes all dictionaries in list have the same set of keys.
-495
-496        `sort_key`: Optional dictionary key to sort data with.
-497
-498        `wrap_to_terminal`: If `True`, the table width will be wrapped to
+521
+522        #### :params:
+523
+524        `data`: The list of dictionaries to create a grid from.
+525        Assumes all dictionaries in list have the same set of keys.
+526
+527        `sort_key`: Optional dictionary key to sort data with.
+528
+529        `wrap_to_terminal`: If `True`, the table width will be wrapped to
 fit within the current terminal window.
-499        Pass as `False` if the output is going into something like a `.txt`
+530        Pass as `False` if the output is going into something like a `.txt`
 file."""
-500        return data_to_string(data, sort_key, wrap_to_terminal)
-501
-502
-503def data_to_string(
-504    data: list[dict], sort_key: str | None = None, wrap_to_terminal: bool =
+531        return data_to_string(data, sort_key, wrap_to_terminal)
+532
+533
+534def data_to_string(
+535    data: list[dict], sort_key: str | None = None, wrap_to_terminal: bool =
 True
-505) -> str:
-506    """Uses tabulate to produce pretty string output from a list of
+536) -> str:
+537    """Uses tabulate to produce pretty string output from a list of
 dictionaries.
-507
-508    #### :params:
-509
-510    `data`: The list of dictionaries to create a grid from.
-511    Assumes all dictionaries in list have the same set of keys.
-512
-513    `sort_key`: Optional dictionary key to sort data with.
-514
-515    `wrap_to_terminal`: If `True`, the table width will be wrapped to fit
+538
+539    #### :params:
+540
+541    `data`: The list of dictionaries to create a grid from.
+542    Assumes all dictionaries in list have the same set of keys.
+543
+544    `sort_key`: Optional dictionary key to sort data with.
+545
+546    `wrap_to_terminal`: If `True`, the table width will be wrapped to fit
 within the current terminal window.
-516    Pass as `False` if the output is going into something like a `.txt`
+547    Pass as `False` if the output is going into something like a `.txt`
 file."""
-517    if len(data) == 0:
-518        return ""
-519    if sort_key:
-520        data = sorted(data, key=lambda d: d[sort_key])
-521    for i, d in enumerate(data):
-522        for k in d:
-523            data[i][k] = str(data[i][k])
-524
-525    too_wide = True
-526    terminal_width = os.get_terminal_size().columns
-527    max_col_widths = terminal_width
-528    # Make an output with effectively unrestricted column widths
-529    # to see if shrinking is necessary
-530    output = tabulate(
-531        data,
-532        headers="keys",
-533        disable_numparse=True,
-534        tablefmt="grid",
-535        maxcolwidths=max_col_widths,
-536    )
-537    current_width = output.index("\n")
-538    if current_width < terminal_width:
-539        too_wide = False
-540    if wrap_to_terminal and too_wide:
-541        print("Resizing grid to fit within the terminal...\n")
-542        previous_col_widths = max_col_widths
-543        acceptable_width = terminal_width - 10
-544        while too_wide and max_col_widths > 1:
-545            if current_width >= terminal_width:
-546                previous_col_widths = max_col_widths
-547                max_col_widths = int(max_col_widths * 0.5)
-548            elif current_width < terminal_width:
-549                # Without lowering acceptable_width, this condition will
+548    if len(data) == 0:
+549        return ""
+550    if sort_key:
+551        data = sorted(data, key=lambda d: d[sort_key])
+552    for i, d in enumerate(data):
+553        for k in d:
+554            data[i][k] = str(data[i][k])
+555
+556    too_wide = True
+557    terminal_width = os.get_terminal_size().columns
+558    max_col_widths = terminal_width
+559    # Make an output with effectively unrestricted column widths
+560    # to see if shrinking is necessary
+561    output = tabulate(
+562        data,
+563        headers="keys",
+564        disable_numparse=True,
+565        tablefmt="grid",
+566        maxcolwidths=max_col_widths,
+567    )
+568    current_width = output.index("\n")
+569    if current_width < terminal_width:
+570        too_wide = False
+571    if wrap_to_terminal and too_wide:
+572        print("Resizing grid to fit within the terminal...\n")
+573        previous_col_widths = max_col_widths
+574        acceptable_width = terminal_width - 10
+575        while too_wide and max_col_widths > 1:
+576            if current_width >= terminal_width:
+577                previous_col_widths = max_col_widths
+578                max_col_widths = int(max_col_widths * 0.5)
+579            elif current_width < terminal_width:
+580                # Without lowering acceptable_width, this condition will
 cause infinite loop
-550                if max_col_widths == previous_col_widths - 1:
-551                    acceptable_width -= 10
-552                max_col_widths = int(
-553                    max_col_widths + (0.5 * (previous_col_widths -
+581                if max_col_widths == previous_col_widths - 1:
+582                    acceptable_width -= 10
+583                max_col_widths = int(
+584                    max_col_widths + (0.5 * (previous_col_widths -
 max_col_widths))
-554                )
-555            output = tabulate(
-556                data,
-557                headers="keys",
-558                disable_numparse=True,
-559                tablefmt="grid",
-560                maxcolwidths=max_col_widths,
-561            )
-562            current_width = output.index("\n")
-563            if acceptable_width < current_width < terminal_width:
-564                too_wide = False
-565        if too_wide:
-566            print("Couldn't resize grid to fit within the terminal.")
-567            return str(data)
-568    return output
+585                )
+586            output = tabulate(
+587                data,
+588                headers="keys",
+589                disable_numparse=True,
+590                tablefmt="grid",
+591                maxcolwidths=max_col_widths,
+592            )
+593            current_width = output.index("\n")
+594            if acceptable_width < current_width < terminal_width:
+595                too_wide = False
+596        if too_wide:
+597            print("Couldn't resize grid to fit within the terminal.")
+598            return str(data)
+599    return output
   ⁰
 class DataBased: View Source
 _27class DataBased:
 _28    """Sqli wrapper so queries don't need to be written except table
 definitions.
 _29
 _30    Supports saving and reading dates as datetime objects.
@@ -871,310 +908,346 @@
 232        except:
 233            return 0
 234
 235    @_connect
 236    def add_row(
 237        self, table: str, values: tuple[Any], columns: tuple[str] | None =
 None
-238    ):
+238    ) -> bool:
 239        """Add a row of values to a table.
 240
-241        #### :params:
+241        Returns whether the addition was successful or not.
 242
-243        `table`: The table to insert values into.
+243        #### :params:
 244
-245        `values`: A tuple of values to be inserted into the table.
+245        `table`: The table to insert values into.
 246
-247        `columns`: If `None`, `values` is expected to supply a value for
+247        `values`: A tuple of values to be inserted into the table.
+248
+249        `columns`: If `None`, `values` is expected to supply a value for
 every column in the table.
-248        If `columns` is provided, it should contain the same number of
+250        If `columns` is provided, it should contain the same number of
 elements as `values`."""
-249        parameterizer = ", ".join("?" for _ in values)
-250        logger_values = ", ".join(str(value) for value in values)
-251        try:
-252            if columns:
-253                columns_query = ", ".join(column for column in columns)
-254                self.cursor.execute(
-255                    f"insert into {table} ({columns_query}) values(
+251        parameterizer = ", ".join("?" for _ in values)
+252        logger_values = ", ".join(str(value) for value in values)
+253        try:
+254            if columns:
+255                columns_query = ", ".join(column for column in columns)
+256                self.cursor.execute(
+257                    f"insert into {table} ({columns_query}) values(
 {parameterizer});",
-256                    values,
-257                )
-258            else:
-259                self.cursor.execute(
-260                    f"insert into {table} values({parameterizer});", values
-261                )
-262            self.logger.info(f'Added "{logger_values}" to {table} table.')
-263        except Exception as e:
-264            if "constraint" not in str(e).lower():
-265                self.logger.exception(
-266                    f'Error adding "{logger_values}" to {table} table.'
-267                )
-268            else:
-269                self.logger.debug(str(e))
-270
-271    @_connect
-272    def get_rows(
-273        self,
-274        table: str,
-275        match_criteria: list[tuple] | dict | None = None,
-276        exact_match: bool = True,
-277        sort_by_column: str | None = None,
-278        columns_to_return: list[str] | None = None,
-279        return_as_dataframe: bool = False,
-280        values_only: bool = False,
-281        order_by: str | None = None,
-282        limit: str | int | None = None,
-283    ) -> list[dict] | list[tuple] | pandas.DataFrame:
-284        """Return matching rows from `table`.
-285
-286        By default, rows will be returned as a list of dictionaries of the
+258                    values,
+259                )
+260            else:
+261                self.cursor.execute(
+262                    f"insert into {table} values({parameterizer});", values
+263                )
+264            self.logger.info(f'Added "{logger_values}" to {table} table.')
+265            return True
+266        except Exception as e:
+267            if "constraint" not in str(e).lower():
+268                self.logger.exception(
+269                    f'Error adding "{logger_values}" to {table} table.'
+270                )
+271            else:
+272                self.logger.debug(str(e))
+273            return False
+274
+275    @_connect
+276    def add_rows(
+277        self, table: str, values: list[tuple[Any]], columns: tuple[str] |
+None = None
+278    ) -> tuple[int, int]:
+279        """Add multiple rows of values to a table.
+280
+281        Returns a tuple containing the number of successful additions and
+the number of failed additions.
+282
+283        #### :params:
+284
+285        `table`: The table to insert values into.
+286
+287        `values`: A list of tuples of values to be inserted into the table.
+288        Each tuple constitutes a single row to be inserted
+289
+290        `columns`: If `None`, `values` is expected to supply a value for
+every column in the table.
+291        If `columns` is provided, it should contain the same number of
+elements as `values`."""
+292        successes = 0
+293        failures = 0
+294        for row in values:
+295            if self.add_row(table, row, columns):
+296                successes += 1
+297            else:
+298                failures += 1
+299        return (successes, failures)
+300
+301    @_connect
+302    def get_rows(
+303        self,
+304        table: str,
+305        match_criteria: list[tuple] | dict | None = None,
+306        exact_match: bool = True,
+307        sort_by_column: str | None = None,
+308        columns_to_return: list[str] | None = None,
+309        return_as_dataframe: bool = False,
+310        values_only: bool = False,
+311        order_by: str | None = None,
+312        limit: str | int | None = None,
+313    ) -> list[dict] | list[tuple] | pandas.DataFrame:
+314        """Return matching rows from `table`.
+315
+316        By default, rows will be returned as a list of dictionaries of the
 form `[{"column_name": value, ...}, ...]`
-287
-288
-289        #### :params:
-290
-291        `match_criteria`: Can be a list of 2-tuples where each
-292        tuple is `(columnName, rowValue)` or a dictionary where
-293        keys are column names and values are row values.
-294
-295        `exact_match`: If `False`, the row value for a given column will be
+317
+318
+319        #### :params:
+320
+321        `match_criteria`: Can be a list of 2-tuples where each
+322        tuple is `(columnName, rowValue)` or a dictionary where
+323        keys are column names and values are row values.
+324
+325        `exact_match`: If `False`, the row value for a given column will be
 matched as a substring.
-296
-297        `sort_by_column`: A column name to sort the results by.
-298        This will sort results in Python after retrieving them from the db.
-299        Use the 'order_by' param to use SQLite engine for ordering.
-300
-301        `columns_to_return`: Optional list of column names.
-302        If provided, the elements returned by this function will only
+326
+327        `sort_by_column`: A column name to sort the results by.
+328        This will sort results in Python after retrieving them from the db.
+329        Use the 'order_by' param to use SQLite engine for ordering.
+330
+331        `columns_to_return`: Optional list of column names.
+332        If provided, the elements returned by this function will only
 contain the provided columns.
-303        Otherwise every column in the row is returned.
-304
-305        `return_as_dataframe`: Return the results as a `pandas.DataFrame`
+333        Otherwise every column in the row is returned.
+334
+335        `return_as_dataframe`: Return the results as a `pandas.DataFrame`
 object.
-306
-307        `values_only`: Return the results as a list of tuples.
-308
-309        `order_by`: If given, a `order by {order_by}` clause will be added
+336
+337        `values_only`: Return the results as a list of tuples.
+338
+339        `order_by`: If given, a `order by {order_by}` clause will be added
 to the select query.
-310
-311        `limit`: If given, a `limit {limit}` clause will be added to the
+340
+341        `limit`: If given, a `limit {limit}` clause will be added to the
 select query.
-312        """
-313
-314        if type(columns_to_return) is str:
-315            columns_to_return = [columns_to_return]
-316        query = f"select * from {table}"
-317        matches = []
-318        if match_criteria:
-319            query += f" where {self._get_conditions(match_criteria,
+342        """
+343
+344        if type(columns_to_return) is str:
+345            columns_to_return = [columns_to_return]
+346        query = f"select * from {table}"
+347        matches = []
+348        if match_criteria:
+349            query += f" where {self._get_conditions(match_criteria,
 exact_match)}"
-320        if order_by:
-321            query += f" order by {order_by}"
-322        if limit:
-323            query += f" limit {limit}"
-324        query += ";"
-325        self.cursor.execute(query)
-326        matches = self.cursor.fetchall()
-327        results = [self._get_dict(table, match, columns_to_return) for match
+350        if order_by:
+351            query += f" order by {order_by}"
+352        if limit:
+353            query += f" limit {limit}"
+354        query += ";"
+355        self.cursor.execute(query)
+356        matches = self.cursor.fetchall()
+357        results = [self._get_dict(table, match, columns_to_return) for match
 in matches]
-328        if sort_by_column:
-329            results = sorted(results, key=lambda x: x[sort_by_column])
-330        if return_as_dataframe:
-331            return pandas.DataFrame(results)
-332        if values_only:
-333            return [tuple(row.values()) for row in results]
-334        else:
-335            return results
-336
-337    @_connect
-338    def find(
-339        self, table: str, query_string: str, columns: list[str] | None =
+358        if sort_by_column:
+359            results = sorted(results, key=lambda x: x[sort_by_column])
+360        if return_as_dataframe:
+361            return pandas.DataFrame(results)
+362        if values_only:
+363            return [tuple(row.values()) for row in results]
+364        else:
+365            return results
+366
+367    @_connect
+368    def find(
+369        self, table: str, query_string: str, columns: list[str] | None =
 None
-340    ) -> list[dict]:
-341        """Search for rows that contain `query_string` as a substring of any
+370    ) -> list[dict]:
+371        """Search for rows that contain `query_string` as a substring of any
 column.
-342
-343        #### :params:
-344
-345        `table`: The table to search.
-346
-347        `query_string`: The substring to search for in all columns.
-348
-349        `columns`: A list of columns to search for query_string.
-350        If None, all columns in the table will be searched.
-351        """
-352        if type(columns) is str:
-353            columns = [columns]
-354        results = []
-355        if not columns:
-356            columns = self.get_column_names(table)
-357        for column in columns:
-358            results.extend(
-359                [
-360                    row
-361                    for row in self.get_rows(
-362                        table, [(column, query_string)], exact_match=False
-363                    )
-364                    if row not in results
-365                ]
-366            )
-367        return results
-368
-369    @_connect
-370    def delete(
-371        self, table: str, match_criteria: list[tuple] | dict, exact_match:
-bool = True
-372    ) -> int:
-373        """Delete records from `table`.
+372
+373        #### :params:
 374
-375        Returns the number of deleted records.
+375        `table`: The table to search.
 376
-377        #### :params:
+377        `query_string`: The substring to search for in all columns.
 378
-379        `match_criteria`: Can be a list of 2-tuples where each tuple is `
+379        `columns`: A list of columns to search for query_string.
+380        If None, all columns in the table will be searched.
+381        """
+382        if type(columns) is str:
+383            columns = [columns]
+384        results = []
+385        if not columns:
+386            columns = self.get_column_names(table)
+387        for column in columns:
+388            results.extend(
+389                [
+390                    row
+391                    for row in self.get_rows(
+392                        table, [(column, query_string)], exact_match=False
+393                    )
+394                    if row not in results
+395                ]
+396            )
+397        return results
+398
+399    @_connect
+400    def delete(
+401        self, table: str, match_criteria: list[tuple] | dict, exact_match:
+bool = True
+402    ) -> int:
+403        """Delete records from `table`.
+404
+405        Returns the number of deleted records.
+406
+407        #### :params:
+408
+409        `match_criteria`: Can be a list of 2-tuples where each tuple is `
 (column_name, value)`
-380        or a dictionary where keys are column names and values are
+410        or a dictionary where keys are column names and values are
 corresponding values.
-381
-382        `exact_match`: If `False`, the value for a given column will be
+411
+412        `exact_match`: If `False`, the value for a given column will be
 matched as a substring.
-383        """
-384        num_matches = self.count(table, match_criteria, exact_match)
-385        conditions = self._get_conditions(match_criteria, exact_match)
-386        try:
-387            self.cursor.execute(f"delete from {table} where {conditions};")
-388            self.logger.info(
-389                f'Deleted {num_matches} from "{table}" where {conditions}".'
-390            )
-391            return num_matches
-392        except Exception as e:
-393            self.logger.debug(f'Error deleting from "{table}" where
-{conditions}.\n{e}')
-394            return 0
-395
-396    @_connect
-397    def update(
-398        self,
-399        table: str,
-400        column_to_update: str,
-401        new_value: Any,
-402        match_criteria: list[tuple] | dict | None = None,
-403    ) -> bool:
-404        """Update the value in `column_to_update` to `new_value` for rows
+413        """
+414        conditions = self._get_conditions(match_criteria, exact_match)
+415        try:
+416            self.cursor.execute(f"delete from {table} where {conditions};")
+417            num_deletions = self.cursor.rowcount
+418            self.logger.info(
+419                f'Deleted {num_deletions} rows from "{table}" where
+{conditions}".'
+420            )
+421            return num_deletions
+422        except Exception as e:
+423            self.logger.debug(
+424                f'Error deleting rows from "{table}" where {conditions}.\n
+{e}'
+425            )
+426            return 0
+427
+428    @_connect
+429    def update(
+430        self,
+431        table: str,
+432        column_to_update: str,
+433        new_value: Any,
+434        match_criteria: list[tuple] | dict | None = None,
+435        exact_match: bool = True,
+436    ) -> int:
+437        """Update the value in `column_to_update` to `new_value` for rows
 matched with `match_criteria`.
-405
-406        #### :params:
-407
-408        `table`: The table to update rows in.
-409
-410        `column_to_update`: The column to be updated in the matched rows.
-411
-412        `new_value`: The new value to insert.
-413
-414        `match_criteria`: Can be a list of 2-tuples where each tuple is `
+438
+439        #### :params:
+440
+441        `table`: The table to update rows in.
+442
+443        `column_to_update`: The column to be updated in the matched rows.
+444
+445        `new_value`: The new value to insert.
+446
+447        `match_criteria`: Can be a list of 2-tuples where each tuple is `
 (columnName, rowValue)`
-415        or a dictionary where keys are column names and values are
+448        or a dictionary where keys are column names and values are
 corresponding values.
-416        If `None`, every row in `table` will be updated.
-417
-418        Returns `True` if successful, `False` if not."""
-419        query = f"update {table} set {column_to_update} = ?"
-420        conditions = ""
-421        if match_criteria:
-422            if self.count(table, match_criteria) == 0:
-423                self.logger.info(
-424                    f"Couldn't find matching records in {table} table to
-update to '{new_value}'"
-425                )
-426                return False
-427            conditions = self._get_conditions(match_criteria)
-428            query += f" where {conditions}"
-429        else:
-430            conditions = None
-431        query += ";"
-432        try:
-433            self.cursor.execute(
-434                query,
-435                (new_value,),
-436            )
-437            self.logger.info(
-438                f'Updated "{column_to_update}" in "{table}" table to "
-{new_value}" where {conditions}'
-439            )
-440            return True
-441        except Exception as e:
-442            self.logger.error(
-443                f'Failed to update "{column_to_update}" in "{table}" table
-to "{new_value}" where {conditions}"\n{e}'
-444            )
-445            return False
-446
-447    @_connect
-448    def drop_table(self, table: str) -> bool:
-449        """Drop `table` from the database.
+449        If `None`, every row in `table` will be updated.
 450
-451        Returns `True` if successful, `False` if not."""
-452        try:
-453            self.cursor.execute(f"drop Table {table};")
-454            self.logger.info(f'Dropped table "{table}"')
-455            return True
-456        except Exception as e:
-457            print(e)
-458            self.logger.error(f'Failed to drop table "{table}"')
-459            return False
-460
-461    @_connect
-462    def add_column(
-463        self, table: str, column: str, _type: str, default_value: str | None
+451        `exact_match`: If `False`, `match_criteria` values will be treated
+as substrings.
+452
+453        Returns the number of updated rows."""
+454        query = f"update {table} set {column_to_update} = ?"
+455        conditions = ""
+456        if match_criteria:
+457            conditions = self._get_conditions(match_criteria, exact_match)
+458            query += f" where {conditions}"
+459        else:
+460            conditions = None
+461        query += ";"
+462        try:
+463            self.cursor.execute(
+464                query,
+465                (new_value,),
+466            )
+467            num_updates = self.cursor.rowcount
+468            self.logger.info(
+469                f'In {num_updates} rows, updated "{column_to_update}" in "
+{table}" table to "{new_value}" where {conditions}'
+470            )
+471            return num_updates
+472        except Exception as e:
+473            self.logger.error(
+474                f'Failed to update "{column_to_update}" in "{table}" table
+to "{new_value}" where {conditions}"\n{e}'
+475            )
+476            return 0
+477
+478    @_connect
+479    def drop_table(self, table: str) -> bool:
+480        """Drop `table` from the database.
+481
+482        Returns `True` if successful, `False` if not."""
+483        try:
+484            self.cursor.execute(f"drop Table {table};")
+485            self.logger.info(f'Dropped table "{table}"')
+486            return True
+487        except Exception as e:
+488            print(e)
+489            self.logger.error(f'Failed to drop table "{table}"')
+490            return False
+491
+492    @_connect
+493    def add_column(
+494        self, table: str, column: str, _type: str, default_value: str | None
 = None
-464    ):
-465        """Add a new column to `table`.
-466
-467        #### :params:
-468
-469        `column`: Name of the column to add.
-470
-471        `_type`: The data type of the new column.
-472
-473        `default_value`: Optional default value for the column."""
-474        try:
-475            if default_value:
-476                self.cursor.execute(
-477                    f"alter table {table} add column {column} {_type}
+495    ):
+496        """Add a new column to `table`.
+497
+498        #### :params:
+499
+500        `column`: Name of the column to add.
+501
+502        `_type`: The data type of the new column.
+503
+504        `default_value`: Optional default value for the column."""
+505        try:
+506            if default_value:
+507                self.cursor.execute(
+508                    f"alter table {table} add column {column} {_type}
 default {default_value};"
-478                )
-479                self.update(table, column, default_value)
-480            else:
-481                self.cursor.execute(f"alter table {table} add column
+509                )
+510                self.update(table, column, default_value)
+511            else:
+512                self.cursor.execute(f"alter table {table} add column
 {column} {_type};")
-482            self.logger.info(f'Added column "{column}" to "{table}" table.')
-483        except Exception as e:
-484            self.logger.error(f'Failed to add column "{column}" to "{table}"
+513            self.logger.info(f'Added column "{column}" to "{table}" table.')
+514        except Exception as e:
+515            self.logger.error(f'Failed to add column "{column}" to "{table}"
 table.')
-485
-486    @staticmethod
-487    def data_to_string(
-488        data: list[dict], sort_key: str | None = None, wrap_to_terminal:
+516
+517    @staticmethod
+518    def data_to_string(
+519        data: list[dict], sort_key: str | None = None, wrap_to_terminal:
 bool = True
-489    ) -> str:
-490        """Uses tabulate to produce pretty string output from a list of
+520    ) -> str:
+521        """Uses tabulate to produce pretty string output from a list of
 dictionaries.
-491
-492        #### :params:
-493
-494        `data`: The list of dictionaries to create a grid from.
-495        Assumes all dictionaries in list have the same set of keys.
-496
-497        `sort_key`: Optional dictionary key to sort data with.
-498
-499        `wrap_to_terminal`: If `True`, the table width will be wrapped to
+522
+523        #### :params:
+524
+525        `data`: The list of dictionaries to create a grid from.
+526        Assumes all dictionaries in list have the same set of keys.
+527
+528        `sort_key`: Optional dictionary key to sort data with.
+529
+530        `wrap_to_terminal`: If `True`, the table width will be wrapped to
 fit within the current terminal window.
-500        Pass as `False` if the output is going into something like a `.txt`
+531        Pass as `False` if the output is going into something like a `.txt`
 file."""
-501        return data_to_string(data, sort_key, wrap_to_terminal)
+532        return data_to_string(data, sort_key, wrap_to_terminal)
 Sqli wrapper so queries don't need to be written except table definitions.
 Supports saving and reading dates as datetime objects.
 Supports using a context manager.
 ⁰
 DataBased(
 dbpath: str | pathier.pathier.Pathier,
 logger_encoding: str = 'utf-8',
@@ -1348,147 +1421,197 @@
 exact_match: If False, the row value for a given column in match_criteria will
 be matched as a substring. Has no effect if match_criteria is None.
 ⁰
 def add_row(
 self,
 table: str,
 values: tuple[typing.Any],
-columns: tuple[str] | None = None): View Source
+columns: tuple[str] | None = None) -> bool: View Source
 235    @_connect
 236    def add_row(
 237        self, table: str, values: tuple[Any], columns: tuple[str] | None =
 None
-238    ):
+238    ) -> bool:
 239        """Add a row of values to a table.
 240
-241        #### :params:
+241        Returns whether the addition was successful or not.
 242
-243        `table`: The table to insert values into.
+243        #### :params:
 244
-245        `values`: A tuple of values to be inserted into the table.
+245        `table`: The table to insert values into.
 246
-247        `columns`: If `None`, `values` is expected to supply a value for
+247        `values`: A tuple of values to be inserted into the table.
+248
+249        `columns`: If `None`, `values` is expected to supply a value for
 every column in the table.
-248        If `columns` is provided, it should contain the same number of
+250        If `columns` is provided, it should contain the same number of
 elements as `values`."""
-249        parameterizer = ", ".join("?" for _ in values)
-250        logger_values = ", ".join(str(value) for value in values)
-251        try:
-252            if columns:
-253                columns_query = ", ".join(column for column in columns)
-254                self.cursor.execute(
-255                    f"insert into {table} ({columns_query}) values(
+251        parameterizer = ", ".join("?" for _ in values)
+252        logger_values = ", ".join(str(value) for value in values)
+253        try:
+254            if columns:
+255                columns_query = ", ".join(column for column in columns)
+256                self.cursor.execute(
+257                    f"insert into {table} ({columns_query}) values(
 {parameterizer});",
-256                    values,
-257                )
-258            else:
-259                self.cursor.execute(
-260                    f"insert into {table} values({parameterizer});", values
-261                )
-262            self.logger.info(f'Added "{logger_values}" to {table} table.')
-263        except Exception as e:
-264            if "constraint" not in str(e).lower():
-265                self.logger.exception(
-266                    f'Error adding "{logger_values}" to {table} table.'
-267                )
-268            else:
-269                self.logger.debug(str(e))
+258                    values,
+259                )
+260            else:
+261                self.cursor.execute(
+262                    f"insert into {table} values({parameterizer});", values
+263                )
+264            self.logger.info(f'Added "{logger_values}" to {table} table.')
+265            return True
+266        except Exception as e:
+267            if "constraint" not in str(e).lower():
+268                self.logger.exception(
+269                    f'Error adding "{logger_values}" to {table} table.'
+270                )
+271            else:
+272                self.logger.debug(str(e))
+273            return False
 Add a row of values to a table.
+Returns whether the addition was successful or not.
 *** :params: ***
 table: The table to insert values into.
 values: A tuple of values to be inserted into the table.
 columns: If None, values is expected to supply a value for every column in the
 table. If columns is provided, it should contain the same number of elements as
 values.
 ⁰
+def add_rows(
+self,
+table: str,
+values: list[tuple[typing.Any]],
+columns: tuple[str] | None = None) -> tuple[int, int]: View Source
+275    @_connect
+276    def add_rows(
+277        self, table: str, values: list[tuple[Any]], columns: tuple[str] |
+None = None
+278    ) -> tuple[int, int]:
+279        """Add multiple rows of values to a table.
+280
+281        Returns a tuple containing the number of successful additions and
+the number of failed additions.
+282
+283        #### :params:
+284
+285        `table`: The table to insert values into.
+286
+287        `values`: A list of tuples of values to be inserted into the table.
+288        Each tuple constitutes a single row to be inserted
+289
+290        `columns`: If `None`, `values` is expected to supply a value for
+every column in the table.
+291        If `columns` is provided, it should contain the same number of
+elements as `values`."""
+292        successes = 0
+293        failures = 0
+294        for row in values:
+295            if self.add_row(table, row, columns):
+296                successes += 1
+297            else:
+298                failures += 1
+299        return (successes, failures)
+Add multiple rows of values to a table.
+Returns a tuple containing the number of successful additions and the number of
+failed additions.
+*** :params: ***
+table: The table to insert values into.
+values: A list of tuples of values to be inserted into the table. Each tuple
+constitutes a single row to be inserted
+columns: If None, values is expected to supply a value for every column in the
+table. If columns is provided, it should contain the same number of elements as
+values.
+⁰
 def get_rows(
 self,
 table: str,
 match_criteria: list[tuple] | dict | None = None,
 exact_match: bool = True,
 sort_by_column: str | None = None,
 columns_to_return: list[str] | None = None,
 return_as_dataframe: bool = False,
 values_only: bool = False,
 order_by: str | None = None,
 limit: str | int | None = None) -> list[dict] | list[tuple] |
 pandas.core.frame.DataFrame: View Source
-271    @_connect
-272    def get_rows(
-273        self,
-274        table: str,
-275        match_criteria: list[tuple] | dict | None = None,
-276        exact_match: bool = True,
-277        sort_by_column: str | None = None,
-278        columns_to_return: list[str] | None = None,
-279        return_as_dataframe: bool = False,
-280        values_only: bool = False,
-281        order_by: str | None = None,
-282        limit: str | int | None = None,
-283    ) -> list[dict] | list[tuple] | pandas.DataFrame:
-284        """Return matching rows from `table`.
-285
-286        By default, rows will be returned as a list of dictionaries of the
+301    @_connect
+302    def get_rows(
+303        self,
+304        table: str,
+305        match_criteria: list[tuple] | dict | None = None,
+306        exact_match: bool = True,
+307        sort_by_column: str | None = None,
+308        columns_to_return: list[str] | None = None,
+309        return_as_dataframe: bool = False,
+310        values_only: bool = False,
+311        order_by: str | None = None,
+312        limit: str | int | None = None,
+313    ) -> list[dict] | list[tuple] | pandas.DataFrame:
+314        """Return matching rows from `table`.
+315
+316        By default, rows will be returned as a list of dictionaries of the
 form `[{"column_name": value, ...}, ...]`
-287
-288
-289        #### :params:
-290
-291        `match_criteria`: Can be a list of 2-tuples where each
-292        tuple is `(columnName, rowValue)` or a dictionary where
-293        keys are column names and values are row values.
-294
-295        `exact_match`: If `False`, the row value for a given column will be
+317
+318
+319        #### :params:
+320
+321        `match_criteria`: Can be a list of 2-tuples where each
+322        tuple is `(columnName, rowValue)` or a dictionary where
+323        keys are column names and values are row values.
+324
+325        `exact_match`: If `False`, the row value for a given column will be
 matched as a substring.
-296
-297        `sort_by_column`: A column name to sort the results by.
-298        This will sort results in Python after retrieving them from the db.
-299        Use the 'order_by' param to use SQLite engine for ordering.
-300
-301        `columns_to_return`: Optional list of column names.
-302        If provided, the elements returned by this function will only
+326
+327        `sort_by_column`: A column name to sort the results by.
+328        This will sort results in Python after retrieving them from the db.
+329        Use the 'order_by' param to use SQLite engine for ordering.
+330
+331        `columns_to_return`: Optional list of column names.
+332        If provided, the elements returned by this function will only
 contain the provided columns.
-303        Otherwise every column in the row is returned.
-304
-305        `return_as_dataframe`: Return the results as a `pandas.DataFrame`
+333        Otherwise every column in the row is returned.
+334
+335        `return_as_dataframe`: Return the results as a `pandas.DataFrame`
 object.
-306
-307        `values_only`: Return the results as a list of tuples.
-308
-309        `order_by`: If given, a `order by {order_by}` clause will be added
+336
+337        `values_only`: Return the results as a list of tuples.
+338
+339        `order_by`: If given, a `order by {order_by}` clause will be added
 to the select query.
-310
-311        `limit`: If given, a `limit {limit}` clause will be added to the
+340
+341        `limit`: If given, a `limit {limit}` clause will be added to the
 select query.
-312        """
-313
-314        if type(columns_to_return) is str:
-315            columns_to_return = [columns_to_return]
-316        query = f"select * from {table}"
-317        matches = []
-318        if match_criteria:
-319            query += f" where {self._get_conditions(match_criteria,
+342        """
+343
+344        if type(columns_to_return) is str:
+345            columns_to_return = [columns_to_return]
+346        query = f"select * from {table}"
+347        matches = []
+348        if match_criteria:
+349            query += f" where {self._get_conditions(match_criteria,
 exact_match)}"
-320        if order_by:
-321            query += f" order by {order_by}"
-322        if limit:
-323            query += f" limit {limit}"
-324        query += ";"
-325        self.cursor.execute(query)
-326        matches = self.cursor.fetchall()
-327        results = [self._get_dict(table, match, columns_to_return) for match
+350        if order_by:
+351            query += f" order by {order_by}"
+352        if limit:
+353            query += f" limit {limit}"
+354        query += ";"
+355        self.cursor.execute(query)
+356        matches = self.cursor.fetchall()
+357        results = [self._get_dict(table, match, columns_to_return) for match
 in matches]
-328        if sort_by_column:
-329            results = sorted(results, key=lambda x: x[sort_by_column])
-330        if return_as_dataframe:
-331            return pandas.DataFrame(results)
-332        if values_only:
-333            return [tuple(row.values()) for row in results]
-334        else:
-335            return results
+358        if sort_by_column:
+359            results = sorted(results, key=lambda x: x[sort_by_column])
+360        if return_as_dataframe:
+361            return pandas.DataFrame(results)
+362        if values_only:
+363            return [tuple(row.values()) for row in results]
+364        else:
+365            return results
 Return matching rows from table.
 By default, rows will be returned as a list of dictionaries of the form [
 {"column_name": value, ...}, ...]
 *** :params: ***
 match_criteria: Can be a list of 2-tuples where each tuple is (columnName,
 rowValue) or a dictionary where keys are column names and values are row
 values.
@@ -1507,339 +1630,343 @@
 limit: If given, a limit {limit} clause will be added to the select query.
 ⁰
 def find(
 self,
 table: str,
 query_string: str,
 columns: list[str] | None = None) -> list[dict]: View Source
-337    @_connect
-338    def find(
-339        self, table: str, query_string: str, columns: list[str] | None =
+367    @_connect
+368    def find(
+369        self, table: str, query_string: str, columns: list[str] | None =
 None
-340    ) -> list[dict]:
-341        """Search for rows that contain `query_string` as a substring of any
+370    ) -> list[dict]:
+371        """Search for rows that contain `query_string` as a substring of any
 column.
-342
-343        #### :params:
-344
-345        `table`: The table to search.
-346
-347        `query_string`: The substring to search for in all columns.
-348
-349        `columns`: A list of columns to search for query_string.
-350        If None, all columns in the table will be searched.
-351        """
-352        if type(columns) is str:
-353            columns = [columns]
-354        results = []
-355        if not columns:
-356            columns = self.get_column_names(table)
-357        for column in columns:
-358            results.extend(
-359                [
-360                    row
-361                    for row in self.get_rows(
-362                        table, [(column, query_string)], exact_match=False
-363                    )
-364                    if row not in results
-365                ]
-366            )
-367        return results
+372
+373        #### :params:
+374
+375        `table`: The table to search.
+376
+377        `query_string`: The substring to search for in all columns.
+378
+379        `columns`: A list of columns to search for query_string.
+380        If None, all columns in the table will be searched.
+381        """
+382        if type(columns) is str:
+383            columns = [columns]
+384        results = []
+385        if not columns:
+386            columns = self.get_column_names(table)
+387        for column in columns:
+388            results.extend(
+389                [
+390                    row
+391                    for row in self.get_rows(
+392                        table, [(column, query_string)], exact_match=False
+393                    )
+394                    if row not in results
+395                ]
+396            )
+397        return results
 Search for rows that contain query_string as a substring of any column.
 *** :params: ***
 table: The table to search.
 query_string: The substring to search for in all columns.
 columns: A list of columns to search for query_string. If None, all columns in
 the table will be searched.
 ⁰
 def delete(
 self,
 table: str,
 match_criteria: list[tuple] | dict,
 exact_match: bool = True) -> int: View Source
-369    @_connect
-370    def delete(
-371        self, table: str, match_criteria: list[tuple] | dict, exact_match:
+399    @_connect
+400    def delete(
+401        self, table: str, match_criteria: list[tuple] | dict, exact_match:
 bool = True
-372    ) -> int:
-373        """Delete records from `table`.
-374
-375        Returns the number of deleted records.
-376
-377        #### :params:
-378
-379        `match_criteria`: Can be a list of 2-tuples where each tuple is `
+402    ) -> int:
+403        """Delete records from `table`.
+404
+405        Returns the number of deleted records.
+406
+407        #### :params:
+408
+409        `match_criteria`: Can be a list of 2-tuples where each tuple is `
 (column_name, value)`
-380        or a dictionary where keys are column names and values are
+410        or a dictionary where keys are column names and values are
 corresponding values.
-381
-382        `exact_match`: If `False`, the value for a given column will be
+411
+412        `exact_match`: If `False`, the value for a given column will be
 matched as a substring.
-383        """
-384        num_matches = self.count(table, match_criteria, exact_match)
-385        conditions = self._get_conditions(match_criteria, exact_match)
-386        try:
-387            self.cursor.execute(f"delete from {table} where {conditions};")
-388            self.logger.info(
-389                f'Deleted {num_matches} from "{table}" where {conditions}".'
-390            )
-391            return num_matches
-392        except Exception as e:
-393            self.logger.debug(f'Error deleting from "{table}" where
-{conditions}.\n{e}')
-394            return 0
+413        """
+414        conditions = self._get_conditions(match_criteria, exact_match)
+415        try:
+416            self.cursor.execute(f"delete from {table} where {conditions};")
+417            num_deletions = self.cursor.rowcount
+418            self.logger.info(
+419                f'Deleted {num_deletions} rows from "{table}" where
+{conditions}".'
+420            )
+421            return num_deletions
+422        except Exception as e:
+423            self.logger.debug(
+424                f'Error deleting rows from "{table}" where {conditions}.\n
+{e}'
+425            )
+426            return 0
 Delete records from table.
 Returns the number of deleted records.
 *** :params: ***
 match_criteria: Can be a list of 2-tuples where each tuple is (column_name,
 value) or a dictionary where keys are column names and values are corresponding
 values.
 exact_match: If False, the value for a given column will be matched as a
 substring.
 ⁰
 def update(
 self,
 table: str,
 column_to_update: str,
 new_value: Any,
-match_criteria: list[tuple] | dict | None = None) -> bool: View Source
-396    @_connect
-397    def update(
-398        self,
-399        table: str,
-400        column_to_update: str,
-401        new_value: Any,
-402        match_criteria: list[tuple] | dict | None = None,
-403    ) -> bool:
-404        """Update the value in `column_to_update` to `new_value` for rows
+match_criteria: list[tuple] | dict | None = None,
+exact_match: bool = True) -> int: View Source
+428    @_connect
+429    def update(
+430        self,
+431        table: str,
+432        column_to_update: str,
+433        new_value: Any,
+434        match_criteria: list[tuple] | dict | None = None,
+435        exact_match: bool = True,
+436    ) -> int:
+437        """Update the value in `column_to_update` to `new_value` for rows
 matched with `match_criteria`.
-405
-406        #### :params:
-407
-408        `table`: The table to update rows in.
-409
-410        `column_to_update`: The column to be updated in the matched rows.
-411
-412        `new_value`: The new value to insert.
-413
-414        `match_criteria`: Can be a list of 2-tuples where each tuple is `
+438
+439        #### :params:
+440
+441        `table`: The table to update rows in.
+442
+443        `column_to_update`: The column to be updated in the matched rows.
+444
+445        `new_value`: The new value to insert.
+446
+447        `match_criteria`: Can be a list of 2-tuples where each tuple is `
 (columnName, rowValue)`
-415        or a dictionary where keys are column names and values are
+448        or a dictionary where keys are column names and values are
 corresponding values.
-416        If `None`, every row in `table` will be updated.
-417
-418        Returns `True` if successful, `False` if not."""
-419        query = f"update {table} set {column_to_update} = ?"
-420        conditions = ""
-421        if match_criteria:
-422            if self.count(table, match_criteria) == 0:
-423                self.logger.info(
-424                    f"Couldn't find matching records in {table} table to
-update to '{new_value}'"
-425                )
-426                return False
-427            conditions = self._get_conditions(match_criteria)
-428            query += f" where {conditions}"
-429        else:
-430            conditions = None
-431        query += ";"
-432        try:
-433            self.cursor.execute(
-434                query,
-435                (new_value,),
-436            )
-437            self.logger.info(
-438                f'Updated "{column_to_update}" in "{table}" table to "
-{new_value}" where {conditions}'
-439            )
-440            return True
-441        except Exception as e:
-442            self.logger.error(
-443                f'Failed to update "{column_to_update}" in "{table}" table
+449        If `None`, every row in `table` will be updated.
+450
+451        `exact_match`: If `False`, `match_criteria` values will be treated
+as substrings.
+452
+453        Returns the number of updated rows."""
+454        query = f"update {table} set {column_to_update} = ?"
+455        conditions = ""
+456        if match_criteria:
+457            conditions = self._get_conditions(match_criteria, exact_match)
+458            query += f" where {conditions}"
+459        else:
+460            conditions = None
+461        query += ";"
+462        try:
+463            self.cursor.execute(
+464                query,
+465                (new_value,),
+466            )
+467            num_updates = self.cursor.rowcount
+468            self.logger.info(
+469                f'In {num_updates} rows, updated "{column_to_update}" in "
+{table}" table to "{new_value}" where {conditions}'
+470            )
+471            return num_updates
+472        except Exception as e:
+473            self.logger.error(
+474                f'Failed to update "{column_to_update}" in "{table}" table
 to "{new_value}" where {conditions}"\n{e}'
-444            )
-445            return False
+475            )
+476            return 0
 Update the value in column_to_update to new_value for rows matched with
 match_criteria.
 *** :params: ***
 table: The table to update rows in.
 column_to_update: The column to be updated in the matched rows.
 new_value: The new value to insert.
 match_criteria: Can be a list of 2-tuples where each tuple is (columnName,
 rowValue) or a dictionary where keys are column names and values are
 corresponding values. If None, every row in table will be updated.
-Returns True if successful, False if not.
+exact_match: If False, match_criteria values will be treated as substrings.
+Returns the number of updated rows.
 ⁰
 def drop_table(self, table: str) -> bool: View Source
-447    @_connect
-448    def drop_table(self, table: str) -> bool:
-449        """Drop `table` from the database.
-450
-451        Returns `True` if successful, `False` if not."""
-452        try:
-453            self.cursor.execute(f"drop Table {table};")
-454            self.logger.info(f'Dropped table "{table}"')
-455            return True
-456        except Exception as e:
-457            print(e)
-458            self.logger.error(f'Failed to drop table "{table}"')
-459            return False
+478    @_connect
+479    def drop_table(self, table: str) -> bool:
+480        """Drop `table` from the database.
+481
+482        Returns `True` if successful, `False` if not."""
+483        try:
+484            self.cursor.execute(f"drop Table {table};")
+485            self.logger.info(f'Dropped table "{table}"')
+486            return True
+487        except Exception as e:
+488            print(e)
+489            self.logger.error(f'Failed to drop table "{table}"')
+490            return False
 Drop table from the database.
 Returns True if successful, False if not.
 ⁰
 def add_column(
 self,
 table: str,
 column: str,
 _type: str,
 default_value: str | None = None): View Source
-461    @_connect
-462    def add_column(
-463        self, table: str, column: str, _type: str, default_value: str | None
+492    @_connect
+493    def add_column(
+494        self, table: str, column: str, _type: str, default_value: str | None
 = None
-464    ):
-465        """Add a new column to `table`.
-466
-467        #### :params:
-468
-469        `column`: Name of the column to add.
-470
-471        `_type`: The data type of the new column.
-472
-473        `default_value`: Optional default value for the column."""
-474        try:
-475            if default_value:
-476                self.cursor.execute(
-477                    f"alter table {table} add column {column} {_type}
+495    ):
+496        """Add a new column to `table`.
+497
+498        #### :params:
+499
+500        `column`: Name of the column to add.
+501
+502        `_type`: The data type of the new column.
+503
+504        `default_value`: Optional default value for the column."""
+505        try:
+506            if default_value:
+507                self.cursor.execute(
+508                    f"alter table {table} add column {column} {_type}
 default {default_value};"
-478                )
-479                self.update(table, column, default_value)
-480            else:
-481                self.cursor.execute(f"alter table {table} add column
+509                )
+510                self.update(table, column, default_value)
+511            else:
+512                self.cursor.execute(f"alter table {table} add column
 {column} {_type};")
-482            self.logger.info(f'Added column "{column}" to "{table}" table.')
-483        except Exception as e:
-484            self.logger.error(f'Failed to add column "{column}" to "{table}"
+513            self.logger.info(f'Added column "{column}" to "{table}" table.')
+514        except Exception as e:
+515            self.logger.error(f'Failed to add column "{column}" to "{table}"
 table.')
 Add a new column to table.
 *** :params: ***
 column: Name of the column to add.
 _type: The data type of the new column.
 default_value: Optional default value for the column.
 ⁰
 @staticmethod
 def data_to_string(
 data: list[dict],
 sort_key: str | None = None,
 wrap_to_terminal: bool = True) -> str: View Source
-486    @staticmethod
-487    def data_to_string(
-488        data: list[dict], sort_key: str | None = None, wrap_to_terminal:
+517    @staticmethod
+518    def data_to_string(
+519        data: list[dict], sort_key: str | None = None, wrap_to_terminal:
 bool = True
-489    ) -> str:
-490        """Uses tabulate to produce pretty string output from a list of
+520    ) -> str:
+521        """Uses tabulate to produce pretty string output from a list of
 dictionaries.
-491
-492        #### :params:
-493
-494        `data`: The list of dictionaries to create a grid from.
-495        Assumes all dictionaries in list have the same set of keys.
-496
-497        `sort_key`: Optional dictionary key to sort data with.
-498
-499        `wrap_to_terminal`: If `True`, the table width will be wrapped to
+522
+523        #### :params:
+524
+525        `data`: The list of dictionaries to create a grid from.
+526        Assumes all dictionaries in list have the same set of keys.
+527
+528        `sort_key`: Optional dictionary key to sort data with.
+529
+530        `wrap_to_terminal`: If `True`, the table width will be wrapped to
 fit within the current terminal window.
-500        Pass as `False` if the output is going into something like a `.txt`
+531        Pass as `False` if the output is going into something like a `.txt`
 file."""
-501        return data_to_string(data, sort_key, wrap_to_terminal)
+532        return data_to_string(data, sort_key, wrap_to_terminal)
 Uses tabulate to produce pretty string output from a list of dictionaries.
 *** :params: ***
 data: The list of dictionaries to create a grid from. Assumes all dictionaries
 in list have the same set of keys.
 sort_key: Optional dictionary key to sort data with.
 wrap_to_terminal: If True, the table width will be wrapped to fit within the
 current terminal window. Pass as False if the output is going into something
 like a .txt file.
   ⁰
 def data_to_string(
 data: list[dict],
 sort_key: str | None = None,
 wrap_to_terminal: bool = True) -> str: View Source
-504def data_to_string(
-505    data: list[dict], sort_key: str | None = None, wrap_to_terminal: bool =
+535def data_to_string(
+536    data: list[dict], sort_key: str | None = None, wrap_to_terminal: bool =
 True
-506) -> str:
-507    """Uses tabulate to produce pretty string output from a list of
+537) -> str:
+538    """Uses tabulate to produce pretty string output from a list of
 dictionaries.
-508
-509    #### :params:
-510
-511    `data`: The list of dictionaries to create a grid from.
-512    Assumes all dictionaries in list have the same set of keys.
-513
-514    `sort_key`: Optional dictionary key to sort data with.
-515
-516    `wrap_to_terminal`: If `True`, the table width will be wrapped to fit
+539
+540    #### :params:
+541
+542    `data`: The list of dictionaries to create a grid from.
+543    Assumes all dictionaries in list have the same set of keys.
+544
+545    `sort_key`: Optional dictionary key to sort data with.
+546
+547    `wrap_to_terminal`: If `True`, the table width will be wrapped to fit
 within the current terminal window.
-517    Pass as `False` if the output is going into something like a `.txt`
+548    Pass as `False` if the output is going into something like a `.txt`
 file."""
-518    if len(data) == 0:
-519        return ""
-520    if sort_key:
-521        data = sorted(data, key=lambda d: d[sort_key])
-522    for i, d in enumerate(data):
-523        for k in d:
-524            data[i][k] = str(data[i][k])
-525
-526    too_wide = True
-527    terminal_width = os.get_terminal_size().columns
-528    max_col_widths = terminal_width
-529    # Make an output with effectively unrestricted column widths
-530    # to see if shrinking is necessary
-531    output = tabulate(
-532        data,
-533        headers="keys",
-534        disable_numparse=True,
-535        tablefmt="grid",
-536        maxcolwidths=max_col_widths,
-537    )
-538    current_width = output.index("\n")
-539    if current_width < terminal_width:
-540        too_wide = False
-541    if wrap_to_terminal and too_wide:
-542        print("Resizing grid to fit within the terminal...\n")
-543        previous_col_widths = max_col_widths
-544        acceptable_width = terminal_width - 10
-545        while too_wide and max_col_widths > 1:
-546            if current_width >= terminal_width:
-547                previous_col_widths = max_col_widths
-548                max_col_widths = int(max_col_widths * 0.5)
-549            elif current_width < terminal_width:
-550                # Without lowering acceptable_width, this condition will
+549    if len(data) == 0:
+550        return ""
+551    if sort_key:
+552        data = sorted(data, key=lambda d: d[sort_key])
+553    for i, d in enumerate(data):
+554        for k in d:
+555            data[i][k] = str(data[i][k])
+556
+557    too_wide = True
+558    terminal_width = os.get_terminal_size().columns
+559    max_col_widths = terminal_width
+560    # Make an output with effectively unrestricted column widths
+561    # to see if shrinking is necessary
+562    output = tabulate(
+563        data,
+564        headers="keys",
+565        disable_numparse=True,
+566        tablefmt="grid",
+567        maxcolwidths=max_col_widths,
+568    )
+569    current_width = output.index("\n")
+570    if current_width < terminal_width:
+571        too_wide = False
+572    if wrap_to_terminal and too_wide:
+573        print("Resizing grid to fit within the terminal...\n")
+574        previous_col_widths = max_col_widths
+575        acceptable_width = terminal_width - 10
+576        while too_wide and max_col_widths > 1:
+577            if current_width >= terminal_width:
+578                previous_col_widths = max_col_widths
+579                max_col_widths = int(max_col_widths * 0.5)
+580            elif current_width < terminal_width:
+581                # Without lowering acceptable_width, this condition will
 cause infinite loop
-551                if max_col_widths == previous_col_widths - 1:
-552                    acceptable_width -= 10
-553                max_col_widths = int(
-554                    max_col_widths + (0.5 * (previous_col_widths -
+582                if max_col_widths == previous_col_widths - 1:
+583                    acceptable_width -= 10
+584                max_col_widths = int(
+585                    max_col_widths + (0.5 * (previous_col_widths -
 max_col_widths))
-555                )
-556            output = tabulate(
-557                data,
-558                headers="keys",
-559                disable_numparse=True,
-560                tablefmt="grid",
-561                maxcolwidths=max_col_widths,
-562            )
-563            current_width = output.index("\n")
-564            if acceptable_width < current_width < terminal_width:
-565                too_wide = False
-566        if too_wide:
-567            print("Couldn't resize grid to fit within the terminal.")
-568            return str(data)
-569    return output
+586                )
+587            output = tabulate(
+588                data,
+589                headers="keys",
+590                disable_numparse=True,
+591                tablefmt="grid",
+592                maxcolwidths=max_col_widths,
+593            )
+594            current_width = output.index("\n")
+595            if acceptable_width < current_width < terminal_width:
+596                too_wide = False
+597        if too_wide:
+598            print("Couldn't resize grid to fit within the terminal.")
+599            return str(data)
+600    return output
 Uses tabulate to produce pretty string output from a list of dictionaries.
 *** :params: ***
 data: The list of dictionaries to create a grid from. Assumes all dictionaries
 in list have the same set of keys.
 sort_key: Optional dictionary key to sort data with.
 wrap_to_terminal: If True, the table width will be wrapped to fit within the
 current terminal window. Pass as False if the output is going into something
```

### Comparing `databased-1.6.0/docs/databased/dbmanager.html` & `databased-2.0.0/docs/databased/dbshell.html`

 * *Files 9% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 <!doctype html>
 <html lang="en">
 <head>
     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">
     <meta name="generator" content="pdoc 12.3.1"/>
-    <title>databased.dbmanager API documentation</title>
+    <title>databased.dbshell API documentation</title>
 
     <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
     <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
     <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
     <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
     <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
     <style>/*! custom.css */</style></head>
@@ -27,72 +27,72 @@
                    pattern=".+" required>
 
 
 
         <h2>API Documentation</h2>
             <ul class="memberlist">
             <li>
-                    <a class="class" href="#DBManager">DBManager</a>
+                    <a class="class" href="#DBShell">DBShell</a>
                             <ul class="memberlist">
                         <li>
-                                <a class="function" href="#DBManager.do_use_db">do_use_db</a>
+                                <a class="function" href="#DBShell.do_use_db">do_use_db</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_dbpath">do_dbpath</a>
+                                <a class="function" href="#DBShell.do_dbpath">do_dbpath</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_backup">do_backup</a>
+                                <a class="function" href="#DBShell.do_backup">do_backup</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_size">do_size</a>
+                                <a class="function" href="#DBShell.do_size">do_size</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_add_table">do_add_table</a>
+                                <a class="function" href="#DBShell.do_add_table">do_add_table</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_drop_table">do_drop_table</a>
+                                <a class="function" href="#DBShell.do_drop_table">do_drop_table</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_add_row">do_add_row</a>
+                                <a class="function" href="#DBShell.do_add_row">do_add_row</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_info">do_info</a>
+                                <a class="function" href="#DBShell.do_info">do_info</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_show">do_show</a>
+                                <a class="function" href="#DBShell.do_show">do_show</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_search">do_search</a>
+                                <a class="function" href="#DBShell.do_search">do_search</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_count">do_count</a>
+                                <a class="function" href="#DBShell.do_count">do_count</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_query">do_query</a>
+                                <a class="function" href="#DBShell.do_query">do_query</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_update">do_update</a>
+                                <a class="function" href="#DBShell.do_update">do_update</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_delete">do_delete</a>
+                                <a class="function" href="#DBShell.do_delete">do_delete</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_add_column">do_add_column</a>
+                                <a class="function" href="#DBShell.do_add_column">do_add_column</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_flush_log">do_flush_log</a>
+                                <a class="function" href="#DBShell.do_flush_log">do_flush_log</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_scan_dbs">do_scan_dbs</a>
+                                <a class="function" href="#DBShell.do_scan_dbs">do_scan_dbs</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.do_customize">do_customize</a>
+                                <a class="function" href="#DBShell.do_customize">do_customize</a>
                         </li>
                         <li>
-                                <a class="function" href="#DBManager.preloop">preloop</a>
+                                <a class="function" href="#DBShell.preloop">preloop</a>
                         </li>
                 </ul>
 
             </li>
             <li>
                     <a class="function" href="#main">main</a>
             </li>
@@ -106,29 +106,29 @@
                 src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
         </a>
 </div>
     </nav>
     <main class="pdoc">
             <section class="module-info">
                     <h1 class="modulename">
-<a href="./../databased.html">databased</a><wbr>.dbmanager    </h1>
+<a href="./../databased.html">databased</a><wbr>.dbshell    </h1>
 
                 
-                        <input id="mod-dbmanager-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                        <input id="mod-dbshell-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 
-                        <label class="view-source-button" for="mod-dbmanager-view-source"><span>View Source</span></label>
+                        <label class="view-source-button" for="mod-dbshell-view-source"><span>View Source</span></label>
 
                         <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="kn">import</span> <span class="nn">argshell</span>
 </span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="kn">from</span> <span class="nn">pathier</span> <span class="kn">import</span> <span class="n">Pathier</span>
 </span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a>
 </span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="kn">from</span> <span class="nn">databased</span> <span class="kn">import</span> <span class="n">DataBased</span><span class="p">,</span> <span class="n">dbparsers</span>
 </span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a>
 </span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a>
-</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="k">class</span> <span class="nc">DBManager</span><span class="p">(</span><span class="n">argshell</span><span class="o">.</span><span class="n">ArgShell</span><span class="p">):</span>
-</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a>    <span class="n">intro</span> <span class="o">=</span> <span class="s2">&quot;Starting dbmanager (enter help or ? for arg info)...&quot;</span>
+</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="k">class</span> <span class="nc">DBShell</span><span class="p">(</span><span class="n">argshell</span><span class="o">.</span><span class="n">ArgShell</span><span class="p">):</span>
+</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a>    <span class="n">intro</span> <span class="o">=</span> <span class="s2">&quot;Starting dbshell (enter help or ? for arg info)...&quot;</span>
 </span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;based&gt;&quot;</span>
 </span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>    <span class="n">dbpath</span><span class="p">:</span> <span class="n">Pathier</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
 </span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a>
 </span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>    <span class="k">def</span> <span class="nf">do_use_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
 </span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a>        <span class="sd">&quot;&quot;&quot;Set which database file to use.&quot;&quot;&quot;</span>
 </span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a>        <span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
 </span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">dbpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
@@ -169,991 +169,1015 @@
 </span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>
 </span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span>
 </span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>        <span class="n">dbparsers</span><span class="o">.</span><span class="n">get_add_row_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">verify_matching_length</span><span class="p">]</span>
 </span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>    <span class="p">)</span>
 </span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>    <span class="k">def</span> <span class="nf">do_add_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
 </span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>        <span class="sd">&quot;&quot;&quot;Add a row to a table.&quot;&quot;&quot;</span>
 </span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>            <span class="n">db</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">)</span>
-</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>
-</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>    <span class="k">def</span> <span class="nf">do_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>        <span class="sd">&quot;&quot;&quot;Print out the names of the database tables, their columns, and the number of rows.</span>
-</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="sd">        Pass a space-separated list of table names to only print info for those specific tables,</span>
-</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a><span class="sd">        otherwise all tables will be printed.&quot;&quot;&quot;</span>
-</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Getting database info...&quot;</span><span class="p">)</span>
-</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>            <span class="n">info</span> <span class="o">=</span> <span class="p">[</span>
-</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>                <span class="p">{</span>
-</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>                    <span class="s2">&quot;Table Name&quot;</span><span class="p">:</span> <span class="n">table</span><span class="p">,</span>
-</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>                    <span class="s2">&quot;Columns&quot;</span><span class="p">:</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)),</span>
-</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>                    <span class="s2">&quot;Number of Rows&quot;</span><span class="p">:</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">),</span>
-</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>                <span class="p">}</span>
-</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>                <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span>
-</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>            <span class="p">]</span>
-</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">info</span><span class="p">))</span>
-</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>
-</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>    <span class="k">def</span> <span class="nf">do_show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>        <span class="sd">&quot;&quot;&quot;Find and print rows from the database.</span>
-</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a><span class="sd">        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit the search.</span>
-</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="sd">        Use the -c/--columns flag to limit what columns are printed.</span>
-</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a><span class="sd">        Use the -o/--order_by flag to order the results.</span>
-</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs</span>
-</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
-</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Finding records... &quot;</span><span class="p">)</span>
-</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
-</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>            <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
-</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>                    <span class="n">table</span><span class="p">,</span>
-</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span>
-</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>                    <span class="n">columns_to_return</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
-</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>                    <span class="n">order_by</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">order_by</span><span class="p">,</span>
-</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>                    <span class="n">limit</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">limit</span><span class="p">,</span>
-</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>                    <span class="n">exact_match</span><span class="o">=</span><span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">,</span>
-</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>                <span class="p">)</span>
-</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
-</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table:&quot;</span><span class="p">)</span>
-</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>                <span class="k">try</span><span class="p">:</span>
-</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
-</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t fit data into a grid.&quot;</span><span class="p">)</span>
-</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">results</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>                <span class="nb">print</span><span class="p">()</span>
-</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>
-</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_search_parser</span><span class="p">)</span>
-</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>    <span class="k">def</span> <span class="nf">do_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>        <span class="sd">&quot;&quot;&quot;Search and return any rows containg the searched substring in any of its columns.</span>
-</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a><span class="sd">        Use the -t/--tables flag to limit the search to a specific table(s).</span>
-</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a><span class="sd">        Use the -c/--columns flag to limit the search to a specific column(s).&quot;&quot;&quot;</span>
-</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Searching for </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
-</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>                <span class="n">columns</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
-</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>                <span class="n">matcher</span> <span class="o">=</span> <span class="s2">&quot; OR &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
-</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1"> LIKE &quot;%</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s1">%&quot;&#39;</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span>
-</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>                <span class="p">)</span>
-</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>                <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT * FROM </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> WHERE </span><span class="si">{</span><span class="n">matcher</span><span class="si">}</span><span class="s2">;&quot;</span>
-</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
-</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">db</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
-</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> results in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
-</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>                <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
-</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>
-</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>    <span class="k">def</span> <span class="nf">do_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>        <span class="sd">&quot;&quot;&quot;Print the number of rows in the database.</span>
-</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a><span class="sd">        Use the -t/--tables flag to limit results to a specific table(s).</span>
-</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a><span class="sd">        Use the -m/--match_pairs flag to limit the results to rows matching these criteria.</span>
-</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
-</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
-</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Counting rows...&quot;</span><span class="p">)</span>
-</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
-</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
-</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>
-</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>    <span class="k">def</span> <span class="nf">do_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>        <span class="sd">&quot;&quot;&quot;Execute a query against the current database.&quot;&quot;&quot;</span>
-</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Executing </span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
-</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>            <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
-</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>                <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">result</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;|-|&quot;</span><span class="p">)</span>
-</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>
-</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_update_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>    <span class="k">def</span> <span class="nf">do_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>        <span class="sd">&quot;&quot;&quot;Update a column to a new value.</span>
-</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a><span class="sd">        Two required args: the column (-c/--column) to update and the value (-v/--value) to update to.</span>
-</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a><span class="sd">        Use the -t/--tables flag to limit what tables are updated.</span>
-</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are updated.</span>
-</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a><span class="sd">        &gt;&gt;&gt; based&gt;update -c username -v big_chungus -t users -m username lil_chungus</span>
-</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>
-</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a><span class="sd">        ^will update the username in the users &#39;table&#39; to &#39;big_chungus&#39; where the username is currently &#39;lil_chungus&#39;^&quot;&quot;&quot;</span>
-</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Updating rows...&quot;</span><span class="p">)</span>
-</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>                <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">column</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">new_value</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">):</span>
-</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updating rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table successful.&quot;</span><span class="p">)</span>
-</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>                <span class="k">else</span><span class="p">:</span>
-</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to update rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
-</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>
-</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>    <span class="k">def</span> <span class="nf">do_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>        <span class="sd">&quot;&quot;&quot;Delete rows from the database.</span>
-</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a><span class="sd">        Use the -t/--tables flag to limit what tables rows are deleted from.</span>
-</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are deleted.</span>
-</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
-</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a><span class="sd">        &gt;&gt;&gt; based&gt;delete -t users -m username chungus -p</span>
+</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>            <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">):</span>
+</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Added row to </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="si">}</span><span class="s2"> table successfully.&quot;</span><span class="p">)</span>
+</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to add row to </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>
+</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_info_parser</span><span class="p">)</span>
+</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>    <span class="k">def</span> <span class="nf">do_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>        <span class="sd">&quot;&quot;&quot;Print out the names of the database tables, their columns, and, optionally, the number of rows.&quot;&quot;&quot;</span>
+</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Getting database info...&quot;</span><span class="p">)</span>
+</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>            <span class="n">info</span> <span class="o">=</span> <span class="p">[</span>
+</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>                <span class="p">{</span>
+</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>                    <span class="s2">&quot;Table Name&quot;</span><span class="p">:</span> <span class="n">table</span><span class="p">,</span>
+</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>                    <span class="s2">&quot;Columns&quot;</span><span class="p">:</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)),</span>
+</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>                    <span class="s2">&quot;Number of Rows&quot;</span><span class="p">:</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">)</span> <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">rowcount</span> <span class="k">else</span> <span class="s2">&quot;n/a&quot;</span><span class="p">,</span>
+</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>                <span class="p">}</span>
+</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>                <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span>
+</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>            <span class="p">]</span>
+</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">info</span><span class="p">))</span>
+</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>
+</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>    <span class="k">def</span> <span class="nf">do_show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>        <span class="sd">&quot;&quot;&quot;Find and print rows from the database.</span>
+</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a><span class="sd">        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit the search.</span>
+</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="sd">        Use the -c/--columns flag to limit what columns are printed.</span>
+</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a><span class="sd">        Use the -o/--order_by flag to order the results.</span>
+</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs</span>
+</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
+</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Finding records... &quot;</span><span class="p">)</span>
+</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
+</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>            <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
+</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>                    <span class="n">table</span><span class="p">,</span>
+</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span>
+</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>                    <span class="n">columns_to_return</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
+</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>                    <span class="n">order_by</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">order_by</span><span class="p">,</span>
+</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>                    <span class="n">limit</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">limit</span><span class="p">,</span>
+</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>                    <span class="n">exact_match</span><span class="o">=</span><span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">,</span>
+</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>                <span class="p">)</span>
+</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
+</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table:&quot;</span><span class="p">)</span>
+</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>                <span class="k">try</span><span class="p">:</span>
+</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
+</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t fit data into a grid.&quot;</span><span class="p">)</span>
+</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">results</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>                <span class="nb">print</span><span class="p">()</span>
+</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>
+</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_search_parser</span><span class="p">)</span>
+</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>    <span class="k">def</span> <span class="nf">do_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>        <span class="sd">&quot;&quot;&quot;Search and return any rows containg the searched substring in any of its columns.</span>
+</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a><span class="sd">        Use the -t/--tables flag to limit the search to a specific table(s).</span>
+</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a><span class="sd">        Use the -c/--columns flag to limit the search to a specific column(s).&quot;&quot;&quot;</span>
+</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Searching for </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
+</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>                <span class="n">columns</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
+</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>                <span class="n">matcher</span> <span class="o">=</span> <span class="s2">&quot; OR &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
+</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1"> LIKE &quot;%</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s1">%&quot;&#39;</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span>
+</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>                <span class="p">)</span>
+</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>                <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT * FROM </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> WHERE </span><span class="si">{</span><span class="n">matcher</span><span class="si">}</span><span class="s2">;&quot;</span>
+</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
+</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">db</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
+</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> results in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>                <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
+</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>
+</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>    <span class="k">def</span> <span class="nf">do_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>        <span class="sd">&quot;&quot;&quot;Print the number of rows in the database.</span>
+</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a><span class="sd">        Use the -t/--tables flag to limit results to a specific table(s).</span>
+</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a><span class="sd">        Use the -m/--match_pairs flag to limit the results to rows matching these criteria.</span>
+</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
+</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
+</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Counting rows...&quot;</span><span class="p">)</span>
+</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
+</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>
+</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>    <span class="k">def</span> <span class="nf">do_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>        <span class="sd">&quot;&quot;&quot;Execute a query against the current database.&quot;&quot;&quot;</span>
+</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Executing </span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
+</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>            <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
+</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>                <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">result</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;|-|&quot;</span><span class="p">)</span>
+</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">db</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span><span class="si">}</span><span class="s2"> affected rows&quot;</span><span class="p">)</span>
+</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>
+</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_update_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>    <span class="k">def</span> <span class="nf">do_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>        <span class="sd">&quot;&quot;&quot;Update a column to a new value.</span>
+</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a><span class="sd">        Two required args: the column (-c/--column) to update and the value (-v/--value) to update to.</span>
+</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a><span class="sd">        Use the -t/--tables flag to limit what tables are updated.</span>
+</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are updated.</span>
+</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
+</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a><span class="sd">        &gt;&gt;&gt; based&gt;update -c username -v big_chungus -t users -m username lil_chungus</span>
+</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>
+</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a><span class="sd">        ^will update the username in the users &#39;table&#39; to &#39;big_chungus&#39; where the username is currently &#39;lil_chungus&#39;^&quot;&quot;&quot;</span>
+</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Updating rows...&quot;</span><span class="p">)</span>
+</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>                <span class="n">num_updates</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
+</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>                    <span class="n">table</span><span class="p">,</span>
+</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">column</span><span class="p">,</span>
+</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">new_value</span><span class="p">,</span>
+</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span>
+</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>                    <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">,</span>
+</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>                <span class="p">)</span>
+</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updated </span><span class="si">{</span><span class="n">num_updates</span><span class="si">}</span><span class="s2"> rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
 </span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>
-</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a><span class="sd">        ^will delete all rows in the &#39;users&#39; table whose username contains &#39;chungus&#39;^&quot;&quot;&quot;</span>
-</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deleting records...&quot;</span><span class="p">)</span>
-</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
-</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleted </span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> rows from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>    <span class="k">def</span> <span class="nf">do_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>        <span class="sd">&quot;&quot;&quot;Delete rows from the database.</span>
+</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a><span class="sd">        Use the -t/--tables flag to limit what tables rows are deleted from.</span>
+</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are deleted.</span>
+</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
+</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a><span class="sd">        &gt;&gt;&gt; based&gt;delete -t users -m username chungus -p</span>
 </span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>
-</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_add_column_parser</span><span class="p">)</span>
-</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>    <span class="k">def</span> <span class="nf">do_add_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to the specified tables.&quot;&quot;&quot;</span>
-</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">column_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">default_value</span><span class="p">)</span>
+</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a><span class="sd">        ^will delete all rows in the &#39;users&#39; table whose username contains &#39;chungus&#39;^&quot;&quot;&quot;</span>
+</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deleting records...&quot;</span><span class="p">)</span>
+</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
+</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleted </span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> rows from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
 </span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>
-</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>    <span class="k">def</span> <span class="nf">do_flush_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>        <span class="sd">&quot;&quot;&quot;Clear the log file for this database.&quot;&quot;&quot;</span>
-</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>        <span class="n">log_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">stem</span> <span class="o">+</span> <span class="s2">&quot;db.log&quot;</span><span class="p">)</span>
-</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">log_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
-</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No log file at path </span><span class="si">{</span><span class="n">log_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flushing log...&quot;</span><span class="p">)</span>
-</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>            <span class="n">log_path</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
-</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>
-</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="nf">do_scan_dbs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current working directory for `*.db` files and display them.</span>
-</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>
-</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a><span class="sd">        If the command is entered as `based&gt;scan_dbs r`, the scan will be performed recursively.&quot;&quot;&quot;</span>
-</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
-</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>        <span class="k">if</span> <span class="n">arg</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span><span class="p">:</span>
-</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
-</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
-</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>        <span class="k">for</span> <span class="n">db</span> <span class="ow">in</span> <span class="n">dbs</span><span class="p">:</span>
-</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">stem</span><span class="p">))</span>
-</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>
-</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>    <span class="k">def</span> <span class="nf">do_customize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>        <span class="sd">&quot;&quot;&quot;Generate a template file in the current working directory for creating a custom DBManager class.</span>
-</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a><span class="sd">        Expects one argument: the name of the custom dbmanager.</span>
-</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a><span class="sd">        This will be used to name the generated file as well as several components in the file content.&quot;&quot;&quot;</span>
-</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>        <span class="n">custom_file</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">arg</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">)</span>
-</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>        <span class="k">if</span> <span class="n">custom_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
-</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">custom_file</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> already exists in this location.&quot;</span><span class="p">)</span>
-</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>            <span class="n">variable_name</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
-</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>            <span class="n">class_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
-</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;custom_manager.py&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
-</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;CustomManager&quot;</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
-</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;custommanager&quot;</span><span class="p">,</span> <span class="n">variable_name</span><span class="p">)</span>
-</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>            <span class="n">custom_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
-</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>
-</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>    <span class="k">def</span> <span class="nf">_choose_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Pathier</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Pathier</span><span class="p">:</span>
-</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>        <span class="sd">&quot;&quot;&quot;Prompt the user to select from a list of files.&quot;&quot;&quot;</span>
-</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
-</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>        <span class="n">paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">path</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">stem</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">options</span><span class="p">]</span>
-</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
-</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>            <span class="nb">print</span><span class="p">(</span>
-</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>                <span class="sa">f</span><span class="s2">&quot;DB options:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">) </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>            <span class="p">)</span>
-</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>            <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter the number of the option to use: &quot;</span><span class="p">)</span>
-</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>            <span class="k">try</span><span class="p">:</span>
-</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>                <span class="n">index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
-</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">index</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
-</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Choice out of range.&quot;</span><span class="p">)</span>
-</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>                    <span class="k">continue</span>
-</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>                <span class="k">return</span> <span class="n">options</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
-</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">choice</span><span class="si">}</span><span class="s2"> is not a valid option.&quot;</span><span class="p">)</span>
-</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>
-</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>    <span class="k">def</span> <span class="nf">preloop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
-</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current directory for a .db file to use.</span>
-</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a><span class="sd">        If not found, prompt the user for one or to try again recursively.&quot;&quot;&quot;</span>
-</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">:</span>
-</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span>
-</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Defaulting to database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching for database...&quot;</span><span class="p">)</span>
-</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>            <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
-</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
-</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
-</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
-</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
-</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>            <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
-</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
-</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find a .db file in </span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
-</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>                <span class="n">path</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span>
-</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>                    <span class="s2">&quot;Enter path to .db file to use or press enter to search again recursively: &quot;</span>
-</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>                <span class="p">)</span>
-</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>                <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
-</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
-</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>                <span class="k">elif</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
-</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching recursively...&quot;</span><span class="p">)</span>
-</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>                    <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
-</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
-</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
-</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
-</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>                    <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
-</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
-</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>                    <span class="k">else</span><span class="p">:</span>
-</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not find a .db file.&quot;</span><span class="p">)</span>
-</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter path to a .db file: &quot;</span><span class="p">))</span>
-</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
-</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
-</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
-</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> is not a file.&quot;</span><span class="p">)</span>
-</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>
-</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>
-</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
-</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>    <span class="n">DBManager</span><span class="p">()</span><span class="o">.</span><span class="n">cmdloop</span><span class="p">()</span>
+</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_add_column_parser</span><span class="p">)</span>
+</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>    <span class="k">def</span> <span class="nf">do_add_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to the specified tables.&quot;&quot;&quot;</span>
+</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">column_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">default_value</span><span class="p">)</span>
+</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>
+</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>    <span class="k">def</span> <span class="nf">do_flush_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>        <span class="sd">&quot;&quot;&quot;Clear the log file for this database.&quot;&quot;&quot;</span>
+</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>        <span class="n">log_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">stem</span> <span class="o">+</span> <span class="s2">&quot;db.log&quot;</span><span class="p">)</span>
+</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">log_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
+</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No log file at path </span><span class="si">{</span><span class="n">log_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flushing log...&quot;</span><span class="p">)</span>
+</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>            <span class="n">log_path</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
+</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>
+</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>    <span class="k">def</span> <span class="nf">do_scan_dbs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current working directory for `*.db` files and display them.</span>
+</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>
+</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a><span class="sd">        If the command is entered as `based&gt;scan_dbs r`, the scan will be performed recursively.&quot;&quot;&quot;</span>
+</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
+</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>        <span class="k">if</span> <span class="n">arg</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span><span class="p">:</span>
+</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
+</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
+</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>        <span class="k">for</span> <span class="n">db</span> <span class="ow">in</span> <span class="n">dbs</span><span class="p">:</span>
+</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">stem</span><span class="p">))</span>
+</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>
+</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>    <span class="k">def</span> <span class="nf">do_customize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>        <span class="sd">&quot;&quot;&quot;Generate a template file in the current working directory for creating a custom DBShell class.</span>
+</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a><span class="sd">        Expects one argument: the name of the custom dbshell.</span>
+</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a><span class="sd">        This will be used to name the generated file as well as several components in the file content.&quot;&quot;&quot;</span>
+</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>        <span class="n">custom_file</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">arg</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">)</span>
+</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>        <span class="k">if</span> <span class="n">custom_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
+</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">custom_file</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> already exists in this location.&quot;</span><span class="p">)</span>
+</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>            <span class="n">variable_name</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
+</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>            <span class="n">class_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
+</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;customshell.py&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
+</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;CustomShell&quot;</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
+</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;customshell&quot;</span><span class="p">,</span> <span class="n">variable_name</span><span class="p">)</span>
+</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>            <span class="n">custom_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
+</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>
+</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>    <span class="k">def</span> <span class="nf">_choose_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Pathier</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Pathier</span><span class="p">:</span>
+</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>        <span class="sd">&quot;&quot;&quot;Prompt the user to select from a list of files.&quot;&quot;&quot;</span>
+</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
+</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>        <span class="n">paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">path</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">stem</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">options</span><span class="p">]</span>
+</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
+</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>            <span class="nb">print</span><span class="p">(</span>
+</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>                <span class="sa">f</span><span class="s2">&quot;DB options:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">) </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>            <span class="p">)</span>
+</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>            <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter the number of the option to use: &quot;</span><span class="p">)</span>
+</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>            <span class="k">try</span><span class="p">:</span>
+</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>                <span class="n">index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
+</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">index</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
+</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Choice out of range.&quot;</span><span class="p">)</span>
+</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>                    <span class="k">continue</span>
+</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>                <span class="k">return</span> <span class="n">options</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
+</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">choice</span><span class="si">}</span><span class="s2"> is not a valid option.&quot;</span><span class="p">)</span>
+</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>
+</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>    <span class="k">def</span> <span class="nf">preloop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
+</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current directory for a .db file to use.</span>
+</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a><span class="sd">        If not found, prompt the user for one or to try again recursively.&quot;&quot;&quot;</span>
+</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">:</span>
+</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span>
+</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Defaulting to database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching for database...&quot;</span><span class="p">)</span>
+</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>            <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
+</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
+</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
+</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
+</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
+</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>            <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
+</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
+</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find a .db file in </span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
+</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>                <span class="n">path</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span>
+</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>                    <span class="s2">&quot;Enter path to .db file to use or press enter to search again recursively: &quot;</span>
+</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>                <span class="p">)</span>
+</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>                <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
+</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
+</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>                <span class="k">elif</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
+</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching recursively...&quot;</span><span class="p">)</span>
+</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>                    <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
+</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
+</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
+</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
+</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>                    <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
+</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
+</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>                    <span class="k">else</span><span class="p">:</span>
+</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not find a .db file.&quot;</span><span class="p">)</span>
+</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter path to a .db file: &quot;</span><span class="p">))</span>
+</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
+</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
+</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
+</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> is not a file.&quot;</span><span class="p">)</span>
+</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>
+</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>
+</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
+</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>    <span class="n">DBShell</span><span class="p">()</span><span class="o">.</span><span class="n">cmdloop</span><span class="p">()</span>
 </span></pre></div>
 
 
             </section>
-                <section id="DBManager">
-                            <input id="DBManager-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                <section id="DBShell">
+                            <input id="DBShell-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr class">
             
     <span class="def">class</span>
-    <span class="name">DBManager</span><wbr>(<span class="base">argshell.argshell.ArgShell</span>):
+    <span class="name">DBShell</span><wbr>(<span class="base">argshell.argshell.ArgShell</span>):
 
-                <label class="view-source-button" for="DBManager-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager-8"><a href="#DBManager-8"><span class="linenos">  8</span></a><span class="k">class</span> <span class="nc">DBManager</span><span class="p">(</span><span class="n">argshell</span><span class="o">.</span><span class="n">ArgShell</span><span class="p">):</span>
-</span><span id="DBManager-9"><a href="#DBManager-9"><span class="linenos">  9</span></a>    <span class="n">intro</span> <span class="o">=</span> <span class="s2">&quot;Starting dbmanager (enter help or ? for arg info)...&quot;</span>
-</span><span id="DBManager-10"><a href="#DBManager-10"><span class="linenos"> 10</span></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;based&gt;&quot;</span>
-</span><span id="DBManager-11"><a href="#DBManager-11"><span class="linenos"> 11</span></a>    <span class="n">dbpath</span><span class="p">:</span> <span class="n">Pathier</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
-</span><span id="DBManager-12"><a href="#DBManager-12"><span class="linenos"> 12</span></a>
-</span><span id="DBManager-13"><a href="#DBManager-13"><span class="linenos"> 13</span></a>    <span class="k">def</span> <span class="nf">do_use_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager-14"><a href="#DBManager-14"><span class="linenos"> 14</span></a>        <span class="sd">&quot;&quot;&quot;Set which database file to use.&quot;&quot;&quot;</span>
-</span><span id="DBManager-15"><a href="#DBManager-15"><span class="linenos"> 15</span></a>        <span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
-</span><span id="DBManager-16"><a href="#DBManager-16"><span class="linenos"> 16</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">dbpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
-</span><span id="DBManager-17"><a href="#DBManager-17"><span class="linenos"> 17</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-18"><a href="#DBManager-18"><span class="linenos"> 18</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Still using </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager-19"><a href="#DBManager-19"><span class="linenos"> 19</span></a>        <span class="k">elif</span> <span class="ow">not</span> <span class="n">dbpath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
-</span><span id="DBManager-20"><a href="#DBManager-20"><span class="linenos"> 20</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> is not a file.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-21"><a href="#DBManager-21"><span class="linenos"> 21</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Still using </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager-22"><a href="#DBManager-22"><span class="linenos"> 22</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager-23"><a href="#DBManager-23"><span class="linenos"> 23</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbpath</span>
-</span><span id="DBManager-24"><a href="#DBManager-24"><span class="linenos"> 24</span></a>
-</span><span id="DBManager-25"><a href="#DBManager-25"><span class="linenos"> 25</span></a>    <span class="k">def</span> <span class="nf">do_dbpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager-26"><a href="#DBManager-26"><span class="linenos"> 26</span></a>        <span class="sd">&quot;&quot;&quot;Print the .db file in use.&quot;&quot;&quot;</span>
-</span><span id="DBManager-27"><a href="#DBManager-27"><span class="linenos"> 27</span></a>        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span>
-</span><span id="DBManager-28"><a href="#DBManager-28"><span class="linenos"> 28</span></a>
-</span><span id="DBManager-29"><a href="#DBManager-29"><span class="linenos"> 29</span></a>    <span class="k">def</span> <span class="nf">do_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager-30"><a href="#DBManager-30"><span class="linenos"> 30</span></a>        <span class="sd">&quot;&quot;&quot;Create a backup of the current db file.&quot;&quot;&quot;</span>
-</span><span id="DBManager-31"><a href="#DBManager-31"><span class="linenos"> 31</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating a back up for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
-</span><span id="DBManager-32"><a href="#DBManager-32"><span class="linenos"> 32</span></a>        <span class="n">backup_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">with_stem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s2">_bckup&quot;</span><span class="p">)</span>
-</span><span id="DBManager-33"><a href="#DBManager-33"><span class="linenos"> 33</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">backup_path</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
-</span><span id="DBManager-34"><a href="#DBManager-34"><span class="linenos"> 34</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating backup is complete.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-35"><a href="#DBManager-35"><span class="linenos"> 35</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Backup path: </span><span class="si">{</span><span class="n">backup_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager-36"><a href="#DBManager-36"><span class="linenos"> 36</span></a>
-</span><span id="DBManager-37"><a href="#DBManager-37"><span class="linenos"> 37</span></a>    <span class="k">def</span> <span class="nf">do_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager-38"><a href="#DBManager-38"><span class="linenos"> 38</span></a>        <span class="sd">&quot;&quot;&quot;Display the size of the the current db file.&quot;&quot;&quot;</span>
-</span><span id="DBManager-39"><a href="#DBManager-39"><span class="linenos"> 39</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-40"><a href="#DBManager-40"><span class="linenos"> 40</span></a>
-</span><span id="DBManager-41"><a href="#DBManager-41"><span class="linenos"> 41</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_create_table_parser</span><span class="p">)</span>
-</span><span id="DBManager-42"><a href="#DBManager-42"><span class="linenos"> 42</span></a>    <span class="k">def</span> <span class="nf">do_add_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager-43"><a href="#DBManager-43"><span class="linenos"> 43</span></a>        <span class="sd">&quot;&quot;&quot;Add a new table to the database.&quot;&quot;&quot;</span>
-</span><span id="DBManager-44"><a href="#DBManager-44"><span class="linenos"> 44</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager-45"><a href="#DBManager-45"><span class="linenos"> 45</span></a>            <span class="n">db</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
-</span><span id="DBManager-46"><a href="#DBManager-46"><span class="linenos"> 46</span></a>
-</span><span id="DBManager-47"><a href="#DBManager-47"><span class="linenos"> 47</span></a>    <span class="k">def</span> <span class="nf">do_drop_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager-48"><a href="#DBManager-48"><span class="linenos"> 48</span></a>        <span class="sd">&quot;&quot;&quot;Drop the specified table.&quot;&quot;&quot;</span>
-</span><span id="DBManager-49"><a href="#DBManager-49"><span class="linenos"> 49</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager-50"><a href="#DBManager-50"><span class="linenos"> 50</span></a>            <span class="n">db</span><span class="o">.</span><span class="n">drop_table</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
-</span><span id="DBManager-51"><a href="#DBManager-51"><span class="linenos"> 51</span></a>
-</span><span id="DBManager-52"><a href="#DBManager-52"><span class="linenos"> 52</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span>
-</span><span id="DBManager-53"><a href="#DBManager-53"><span class="linenos"> 53</span></a>        <span class="n">dbparsers</span><span class="o">.</span><span class="n">get_add_row_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">verify_matching_length</span><span class="p">]</span>
-</span><span id="DBManager-54"><a href="#DBManager-54"><span class="linenos"> 54</span></a>    <span class="p">)</span>
-</span><span id="DBManager-55"><a href="#DBManager-55"><span class="linenos"> 55</span></a>    <span class="k">def</span> <span class="nf">do_add_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager-56"><a href="#DBManager-56"><span class="linenos"> 56</span></a>        <span class="sd">&quot;&quot;&quot;Add a row to a table.&quot;&quot;&quot;</span>
-</span><span id="DBManager-57"><a href="#DBManager-57"><span class="linenos"> 57</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager-58"><a href="#DBManager-58"><span class="linenos"> 58</span></a>            <span class="n">db</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">)</span>
-</span><span id="DBManager-59"><a href="#DBManager-59"><span class="linenos"> 59</span></a>
-</span><span id="DBManager-60"><a href="#DBManager-60"><span class="linenos"> 60</span></a>    <span class="k">def</span> <span class="nf">do_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager-61"><a href="#DBManager-61"><span class="linenos"> 61</span></a>        <span class="sd">&quot;&quot;&quot;Print out the names of the database tables, their columns, and the number of rows.</span>
-</span><span id="DBManager-62"><a href="#DBManager-62"><span class="linenos"> 62</span></a><span class="sd">        Pass a space-separated list of table names to only print info for those specific tables,</span>
-</span><span id="DBManager-63"><a href="#DBManager-63"><span class="linenos"> 63</span></a><span class="sd">        otherwise all tables will be printed.&quot;&quot;&quot;</span>
-</span><span id="DBManager-64"><a href="#DBManager-64"><span class="linenos"> 64</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Getting database info...&quot;</span><span class="p">)</span>
-</span><span id="DBManager-65"><a href="#DBManager-65"><span class="linenos"> 65</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager-66"><a href="#DBManager-66"><span class="linenos"> 66</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager-67"><a href="#DBManager-67"><span class="linenos"> 67</span></a>            <span class="n">info</span> <span class="o">=</span> <span class="p">[</span>
-</span><span id="DBManager-68"><a href="#DBManager-68"><span class="linenos"> 68</span></a>                <span class="p">{</span>
-</span><span id="DBManager-69"><a href="#DBManager-69"><span class="linenos"> 69</span></a>                    <span class="s2">&quot;Table Name&quot;</span><span class="p">:</span> <span class="n">table</span><span class="p">,</span>
-</span><span id="DBManager-70"><a href="#DBManager-70"><span class="linenos"> 70</span></a>                    <span class="s2">&quot;Columns&quot;</span><span class="p">:</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)),</span>
-</span><span id="DBManager-71"><a href="#DBManager-71"><span class="linenos"> 71</span></a>                    <span class="s2">&quot;Number of Rows&quot;</span><span class="p">:</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">),</span>
-</span><span id="DBManager-72"><a href="#DBManager-72"><span class="linenos"> 72</span></a>                <span class="p">}</span>
-</span><span id="DBManager-73"><a href="#DBManager-73"><span class="linenos"> 73</span></a>                <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span>
-</span><span id="DBManager-74"><a href="#DBManager-74"><span class="linenos"> 74</span></a>            <span class="p">]</span>
-</span><span id="DBManager-75"><a href="#DBManager-75"><span class="linenos"> 75</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">info</span><span class="p">))</span>
-</span><span id="DBManager-76"><a href="#DBManager-76"><span class="linenos"> 76</span></a>
-</span><span id="DBManager-77"><a href="#DBManager-77"><span class="linenos"> 77</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="DBManager-78"><a href="#DBManager-78"><span class="linenos"> 78</span></a>    <span class="k">def</span> <span class="nf">do_show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager-79"><a href="#DBManager-79"><span class="linenos"> 79</span></a>        <span class="sd">&quot;&quot;&quot;Find and print rows from the database.</span>
-</span><span id="DBManager-80"><a href="#DBManager-80"><span class="linenos"> 80</span></a><span class="sd">        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit the search.</span>
-</span><span id="DBManager-81"><a href="#DBManager-81"><span class="linenos"> 81</span></a><span class="sd">        Use the -c/--columns flag to limit what columns are printed.</span>
-</span><span id="DBManager-82"><a href="#DBManager-82"><span class="linenos"> 82</span></a><span class="sd">        Use the -o/--order_by flag to order the results.</span>
-</span><span id="DBManager-83"><a href="#DBManager-83"><span class="linenos"> 83</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs</span>
-</span><span id="DBManager-84"><a href="#DBManager-84"><span class="linenos"> 84</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
-</span><span id="DBManager-85"><a href="#DBManager-85"><span class="linenos"> 85</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Finding records... &quot;</span><span class="p">)</span>
-</span><span id="DBManager-86"><a href="#DBManager-86"><span class="linenos"> 86</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
-</span><span id="DBManager-87"><a href="#DBManager-87"><span class="linenos"> 87</span></a>            <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="DBManager-88"><a href="#DBManager-88"><span class="linenos"> 88</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager-89"><a href="#DBManager-89"><span class="linenos"> 89</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager-90"><a href="#DBManager-90"><span class="linenos"> 90</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager-91"><a href="#DBManager-91"><span class="linenos"> 91</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
-</span><span id="DBManager-92"><a href="#DBManager-92"><span class="linenos"> 92</span></a>                    <span class="n">table</span><span class="p">,</span>
-</span><span id="DBManager-93"><a href="#DBManager-93"><span class="linenos"> 93</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span>
-</span><span id="DBManager-94"><a href="#DBManager-94"><span class="linenos"> 94</span></a>                    <span class="n">columns_to_return</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
-</span><span id="DBManager-95"><a href="#DBManager-95"><span class="linenos"> 95</span></a>                    <span class="n">order_by</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">order_by</span><span class="p">,</span>
-</span><span id="DBManager-96"><a href="#DBManager-96"><span class="linenos"> 96</span></a>                    <span class="n">limit</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">limit</span><span class="p">,</span>
-</span><span id="DBManager-97"><a href="#DBManager-97"><span class="linenos"> 97</span></a>                    <span class="n">exact_match</span><span class="o">=</span><span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">,</span>
-</span><span id="DBManager-98"><a href="#DBManager-98"><span class="linenos"> 98</span></a>                <span class="p">)</span>
-</span><span id="DBManager-99"><a href="#DBManager-99"><span class="linenos"> 99</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
-</span><span id="DBManager-100"><a href="#DBManager-100"><span class="linenos">100</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table:&quot;</span><span class="p">)</span>
-</span><span id="DBManager-101"><a href="#DBManager-101"><span class="linenos">101</span></a>                <span class="k">try</span><span class="p">:</span>
-</span><span id="DBManager-102"><a href="#DBManager-102"><span class="linenos">102</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
-</span><span id="DBManager-103"><a href="#DBManager-103"><span class="linenos">103</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DBManager-104"><a href="#DBManager-104"><span class="linenos">104</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t fit data into a grid.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-105"><a href="#DBManager-105"><span class="linenos">105</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">results</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager-106"><a href="#DBManager-106"><span class="linenos">106</span></a>                <span class="nb">print</span><span class="p">()</span>
-</span><span id="DBManager-107"><a href="#DBManager-107"><span class="linenos">107</span></a>
-</span><span id="DBManager-108"><a href="#DBManager-108"><span class="linenos">108</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_search_parser</span><span class="p">)</span>
-</span><span id="DBManager-109"><a href="#DBManager-109"><span class="linenos">109</span></a>    <span class="k">def</span> <span class="nf">do_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager-110"><a href="#DBManager-110"><span class="linenos">110</span></a>        <span class="sd">&quot;&quot;&quot;Search and return any rows containg the searched substring in any of its columns.</span>
-</span><span id="DBManager-111"><a href="#DBManager-111"><span class="linenos">111</span></a><span class="sd">        Use the -t/--tables flag to limit the search to a specific table(s).</span>
-</span><span id="DBManager-112"><a href="#DBManager-112"><span class="linenos">112</span></a><span class="sd">        Use the -c/--columns flag to limit the search to a specific column(s).&quot;&quot;&quot;</span>
-</span><span id="DBManager-113"><a href="#DBManager-113"><span class="linenos">113</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Searching for </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
-</span><span id="DBManager-114"><a href="#DBManager-114"><span class="linenos">114</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager-115"><a href="#DBManager-115"><span class="linenos">115</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager-116"><a href="#DBManager-116"><span class="linenos">116</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager-117"><a href="#DBManager-117"><span class="linenos">117</span></a>                <span class="n">columns</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
-</span><span id="DBManager-118"><a href="#DBManager-118"><span class="linenos">118</span></a>                <span class="n">matcher</span> <span class="o">=</span> <span class="s2">&quot; OR &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
-</span><span id="DBManager-119"><a href="#DBManager-119"><span class="linenos">119</span></a>                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1"> LIKE &quot;%</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s1">%&quot;&#39;</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span>
-</span><span id="DBManager-120"><a href="#DBManager-120"><span class="linenos">120</span></a>                <span class="p">)</span>
-</span><span id="DBManager-121"><a href="#DBManager-121"><span class="linenos">121</span></a>                <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT * FROM </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> WHERE </span><span class="si">{</span><span class="n">matcher</span><span class="si">}</span><span class="s2">;&quot;</span>
-</span><span id="DBManager-122"><a href="#DBManager-122"><span class="linenos">122</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
-</span><span id="DBManager-123"><a href="#DBManager-123"><span class="linenos">123</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">db</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
-</span><span id="DBManager-124"><a href="#DBManager-124"><span class="linenos">124</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> results in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-125"><a href="#DBManager-125"><span class="linenos">125</span></a>                <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
-</span><span id="DBManager-126"><a href="#DBManager-126"><span class="linenos">126</span></a>
-</span><span id="DBManager-127"><a href="#DBManager-127"><span class="linenos">127</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="DBManager-128"><a href="#DBManager-128"><span class="linenos">128</span></a>    <span class="k">def</span> <span class="nf">do_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager-129"><a href="#DBManager-129"><span class="linenos">129</span></a>        <span class="sd">&quot;&quot;&quot;Print the number of rows in the database.</span>
-</span><span id="DBManager-130"><a href="#DBManager-130"><span class="linenos">130</span></a><span class="sd">        Use the -t/--tables flag to limit results to a specific table(s).</span>
-</span><span id="DBManager-131"><a href="#DBManager-131"><span class="linenos">131</span></a><span class="sd">        Use the -m/--match_pairs flag to limit the results to rows matching these criteria.</span>
-</span><span id="DBManager-132"><a href="#DBManager-132"><span class="linenos">132</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
-</span><span id="DBManager-133"><a href="#DBManager-133"><span class="linenos">133</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
-</span><span id="DBManager-134"><a href="#DBManager-134"><span class="linenos">134</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Counting rows...&quot;</span><span class="p">)</span>
-</span><span id="DBManager-135"><a href="#DBManager-135"><span class="linenos">135</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager-136"><a href="#DBManager-136"><span class="linenos">136</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager-137"><a href="#DBManager-137"><span class="linenos">137</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager-138"><a href="#DBManager-138"><span class="linenos">138</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
-</span><span id="DBManager-139"><a href="#DBManager-139"><span class="linenos">139</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-140"><a href="#DBManager-140"><span class="linenos">140</span></a>
-</span><span id="DBManager-141"><a href="#DBManager-141"><span class="linenos">141</span></a>    <span class="k">def</span> <span class="nf">do_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager-142"><a href="#DBManager-142"><span class="linenos">142</span></a>        <span class="sd">&quot;&quot;&quot;Execute a query against the current database.&quot;&quot;&quot;</span>
-</span><span id="DBManager-143"><a href="#DBManager-143"><span class="linenos">143</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Executing </span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager-144"><a href="#DBManager-144"><span class="linenos">144</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager-145"><a href="#DBManager-145"><span class="linenos">145</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
-</span><span id="DBManager-146"><a href="#DBManager-146"><span class="linenos">146</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DBManager-147"><a href="#DBManager-147"><span class="linenos">147</span></a>            <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
-</span><span id="DBManager-148"><a href="#DBManager-148"><span class="linenos">148</span></a>                <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">result</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;|-|&quot;</span><span class="p">)</span>
-</span><span id="DBManager-149"><a href="#DBManager-149"><span class="linenos">149</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DBManager-150"><a href="#DBManager-150"><span class="linenos">150</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager-151"><a href="#DBManager-151"><span class="linenos">151</span></a>
-</span><span id="DBManager-152"><a href="#DBManager-152"><span class="linenos">152</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_update_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="DBManager-153"><a href="#DBManager-153"><span class="linenos">153</span></a>    <span class="k">def</span> <span class="nf">do_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager-154"><a href="#DBManager-154"><span class="linenos">154</span></a>        <span class="sd">&quot;&quot;&quot;Update a column to a new value.</span>
-</span><span id="DBManager-155"><a href="#DBManager-155"><span class="linenos">155</span></a><span class="sd">        Two required args: the column (-c/--column) to update and the value (-v/--value) to update to.</span>
-</span><span id="DBManager-156"><a href="#DBManager-156"><span class="linenos">156</span></a><span class="sd">        Use the -t/--tables flag to limit what tables are updated.</span>
-</span><span id="DBManager-157"><a href="#DBManager-157"><span class="linenos">157</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are updated.</span>
-</span><span id="DBManager-158"><a href="#DBManager-158"><span class="linenos">158</span></a><span class="sd">        &gt;&gt;&gt; based&gt;update -c username -v big_chungus -t users -m username lil_chungus</span>
-</span><span id="DBManager-159"><a href="#DBManager-159"><span class="linenos">159</span></a>
-</span><span id="DBManager-160"><a href="#DBManager-160"><span class="linenos">160</span></a><span class="sd">        ^will update the username in the users &#39;table&#39; to &#39;big_chungus&#39; where the username is currently &#39;lil_chungus&#39;^&quot;&quot;&quot;</span>
-</span><span id="DBManager-161"><a href="#DBManager-161"><span class="linenos">161</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Updating rows...&quot;</span><span class="p">)</span>
-</span><span id="DBManager-162"><a href="#DBManager-162"><span class="linenos">162</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager-163"><a href="#DBManager-163"><span class="linenos">163</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager-164"><a href="#DBManager-164"><span class="linenos">164</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager-165"><a href="#DBManager-165"><span class="linenos">165</span></a>                <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">column</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">new_value</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">):</span>
-</span><span id="DBManager-166"><a href="#DBManager-166"><span class="linenos">166</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updating rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table successful.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-167"><a href="#DBManager-167"><span class="linenos">167</span></a>                <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager-168"><a href="#DBManager-168"><span class="linenos">168</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to update rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-169"><a href="#DBManager-169"><span class="linenos">169</span></a>
-</span><span id="DBManager-170"><a href="#DBManager-170"><span class="linenos">170</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="DBManager-171"><a href="#DBManager-171"><span class="linenos">171</span></a>    <span class="k">def</span> <span class="nf">do_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager-172"><a href="#DBManager-172"><span class="linenos">172</span></a>        <span class="sd">&quot;&quot;&quot;Delete rows from the database.</span>
-</span><span id="DBManager-173"><a href="#DBManager-173"><span class="linenos">173</span></a><span class="sd">        Use the -t/--tables flag to limit what tables rows are deleted from.</span>
-</span><span id="DBManager-174"><a href="#DBManager-174"><span class="linenos">174</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are deleted.</span>
-</span><span id="DBManager-175"><a href="#DBManager-175"><span class="linenos">175</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
-</span><span id="DBManager-176"><a href="#DBManager-176"><span class="linenos">176</span></a><span class="sd">        &gt;&gt;&gt; based&gt;delete -t users -m username chungus -p</span>
-</span><span id="DBManager-177"><a href="#DBManager-177"><span class="linenos">177</span></a>
-</span><span id="DBManager-178"><a href="#DBManager-178"><span class="linenos">178</span></a><span class="sd">        ^will delete all rows in the &#39;users&#39; table whose username contains &#39;chungus&#39;^&quot;&quot;&quot;</span>
-</span><span id="DBManager-179"><a href="#DBManager-179"><span class="linenos">179</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deleting records...&quot;</span><span class="p">)</span>
-</span><span id="DBManager-180"><a href="#DBManager-180"><span class="linenos">180</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager-181"><a href="#DBManager-181"><span class="linenos">181</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager-182"><a href="#DBManager-182"><span class="linenos">182</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager-183"><a href="#DBManager-183"><span class="linenos">183</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
-</span><span id="DBManager-184"><a href="#DBManager-184"><span class="linenos">184</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleted </span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> rows from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-185"><a href="#DBManager-185"><span class="linenos">185</span></a>
-</span><span id="DBManager-186"><a href="#DBManager-186"><span class="linenos">186</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_add_column_parser</span><span class="p">)</span>
-</span><span id="DBManager-187"><a href="#DBManager-187"><span class="linenos">187</span></a>    <span class="k">def</span> <span class="nf">do_add_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager-188"><a href="#DBManager-188"><span class="linenos">188</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to the specified tables.&quot;&quot;&quot;</span>
-</span><span id="DBManager-189"><a href="#DBManager-189"><span class="linenos">189</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager-190"><a href="#DBManager-190"><span class="linenos">190</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager-191"><a href="#DBManager-191"><span class="linenos">191</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager-192"><a href="#DBManager-192"><span class="linenos">192</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">column_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">default_value</span><span class="p">)</span>
-</span><span id="DBManager-193"><a href="#DBManager-193"><span class="linenos">193</span></a>
-</span><span id="DBManager-194"><a href="#DBManager-194"><span class="linenos">194</span></a>    <span class="k">def</span> <span class="nf">do_flush_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager-195"><a href="#DBManager-195"><span class="linenos">195</span></a>        <span class="sd">&quot;&quot;&quot;Clear the log file for this database.&quot;&quot;&quot;</span>
-</span><span id="DBManager-196"><a href="#DBManager-196"><span class="linenos">196</span></a>        <span class="n">log_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">stem</span> <span class="o">+</span> <span class="s2">&quot;db.log&quot;</span><span class="p">)</span>
-</span><span id="DBManager-197"><a href="#DBManager-197"><span class="linenos">197</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">log_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
-</span><span id="DBManager-198"><a href="#DBManager-198"><span class="linenos">198</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No log file at path </span><span class="si">{</span><span class="n">log_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager-199"><a href="#DBManager-199"><span class="linenos">199</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager-200"><a href="#DBManager-200"><span class="linenos">200</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flushing log...&quot;</span><span class="p">)</span>
-</span><span id="DBManager-201"><a href="#DBManager-201"><span class="linenos">201</span></a>            <span class="n">log_path</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
-</span><span id="DBManager-202"><a href="#DBManager-202"><span class="linenos">202</span></a>
-</span><span id="DBManager-203"><a href="#DBManager-203"><span class="linenos">203</span></a>    <span class="k">def</span> <span class="nf">do_scan_dbs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager-204"><a href="#DBManager-204"><span class="linenos">204</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current working directory for `*.db` files and display them.</span>
-</span><span id="DBManager-205"><a href="#DBManager-205"><span class="linenos">205</span></a>
-</span><span id="DBManager-206"><a href="#DBManager-206"><span class="linenos">206</span></a><span class="sd">        If the command is entered as `based&gt;scan_dbs r`, the scan will be performed recursively.&quot;&quot;&quot;</span>
-</span><span id="DBManager-207"><a href="#DBManager-207"><span class="linenos">207</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
-</span><span id="DBManager-208"><a href="#DBManager-208"><span class="linenos">208</span></a>        <span class="k">if</span> <span class="n">arg</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span><span class="p">:</span>
-</span><span id="DBManager-209"><a href="#DBManager-209"><span class="linenos">209</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
-</span><span id="DBManager-210"><a href="#DBManager-210"><span class="linenos">210</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager-211"><a href="#DBManager-211"><span class="linenos">211</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
-</span><span id="DBManager-212"><a href="#DBManager-212"><span class="linenos">212</span></a>        <span class="k">for</span> <span class="n">db</span> <span class="ow">in</span> <span class="n">dbs</span><span class="p">:</span>
-</span><span id="DBManager-213"><a href="#DBManager-213"><span class="linenos">213</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">stem</span><span class="p">))</span>
-</span><span id="DBManager-214"><a href="#DBManager-214"><span class="linenos">214</span></a>
-</span><span id="DBManager-215"><a href="#DBManager-215"><span class="linenos">215</span></a>    <span class="k">def</span> <span class="nf">do_customize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager-216"><a href="#DBManager-216"><span class="linenos">216</span></a>        <span class="sd">&quot;&quot;&quot;Generate a template file in the current working directory for creating a custom DBManager class.</span>
-</span><span id="DBManager-217"><a href="#DBManager-217"><span class="linenos">217</span></a><span class="sd">        Expects one argument: the name of the custom dbmanager.</span>
-</span><span id="DBManager-218"><a href="#DBManager-218"><span class="linenos">218</span></a><span class="sd">        This will be used to name the generated file as well as several components in the file content.&quot;&quot;&quot;</span>
-</span><span id="DBManager-219"><a href="#DBManager-219"><span class="linenos">219</span></a>        <span class="n">custom_file</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">arg</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">)</span>
-</span><span id="DBManager-220"><a href="#DBManager-220"><span class="linenos">220</span></a>        <span class="k">if</span> <span class="n">custom_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
-</span><span id="DBManager-221"><a href="#DBManager-221"><span class="linenos">221</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">custom_file</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> already exists in this location.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-222"><a href="#DBManager-222"><span class="linenos">222</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager-223"><a href="#DBManager-223"><span class="linenos">223</span></a>            <span class="n">variable_name</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
-</span><span id="DBManager-224"><a href="#DBManager-224"><span class="linenos">224</span></a>            <span class="n">class_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
-</span><span id="DBManager-225"><a href="#DBManager-225"><span class="linenos">225</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;custom_manager.py&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
-</span><span id="DBManager-226"><a href="#DBManager-226"><span class="linenos">226</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;CustomManager&quot;</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
-</span><span id="DBManager-227"><a href="#DBManager-227"><span class="linenos">227</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;custommanager&quot;</span><span class="p">,</span> <span class="n">variable_name</span><span class="p">)</span>
-</span><span id="DBManager-228"><a href="#DBManager-228"><span class="linenos">228</span></a>            <span class="n">custom_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
-</span><span id="DBManager-229"><a href="#DBManager-229"><span class="linenos">229</span></a>
-</span><span id="DBManager-230"><a href="#DBManager-230"><span class="linenos">230</span></a>    <span class="k">def</span> <span class="nf">_choose_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Pathier</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Pathier</span><span class="p">:</span>
-</span><span id="DBManager-231"><a href="#DBManager-231"><span class="linenos">231</span></a>        <span class="sd">&quot;&quot;&quot;Prompt the user to select from a list of files.&quot;&quot;&quot;</span>
-</span><span id="DBManager-232"><a href="#DBManager-232"><span class="linenos">232</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
-</span><span id="DBManager-233"><a href="#DBManager-233"><span class="linenos">233</span></a>        <span class="n">paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">path</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">stem</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">options</span><span class="p">]</span>
-</span><span id="DBManager-234"><a href="#DBManager-234"><span class="linenos">234</span></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
-</span><span id="DBManager-235"><a href="#DBManager-235"><span class="linenos">235</span></a>            <span class="nb">print</span><span class="p">(</span>
-</span><span id="DBManager-236"><a href="#DBManager-236"><span class="linenos">236</span></a>                <span class="sa">f</span><span class="s2">&quot;DB options:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">) </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span><span class="si">}</span><span class="s2">&quot;</span>
-</span><span id="DBManager-237"><a href="#DBManager-237"><span class="linenos">237</span></a>            <span class="p">)</span>
-</span><span id="DBManager-238"><a href="#DBManager-238"><span class="linenos">238</span></a>            <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter the number of the option to use: &quot;</span><span class="p">)</span>
-</span><span id="DBManager-239"><a href="#DBManager-239"><span class="linenos">239</span></a>            <span class="k">try</span><span class="p">:</span>
-</span><span id="DBManager-240"><a href="#DBManager-240"><span class="linenos">240</span></a>                <span class="n">index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
-</span><span id="DBManager-241"><a href="#DBManager-241"><span class="linenos">241</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">index</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
-</span><span id="DBManager-242"><a href="#DBManager-242"><span class="linenos">242</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Choice out of range.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-243"><a href="#DBManager-243"><span class="linenos">243</span></a>                    <span class="k">continue</span>
-</span><span id="DBManager-244"><a href="#DBManager-244"><span class="linenos">244</span></a>                <span class="k">return</span> <span class="n">options</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
-</span><span id="DBManager-245"><a href="#DBManager-245"><span class="linenos">245</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DBManager-246"><a href="#DBManager-246"><span class="linenos">246</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">choice</span><span class="si">}</span><span class="s2"> is not a valid option.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-247"><a href="#DBManager-247"><span class="linenos">247</span></a>
-</span><span id="DBManager-248"><a href="#DBManager-248"><span class="linenos">248</span></a>    <span class="k">def</span> <span class="nf">preloop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
-</span><span id="DBManager-249"><a href="#DBManager-249"><span class="linenos">249</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current directory for a .db file to use.</span>
-</span><span id="DBManager-250"><a href="#DBManager-250"><span class="linenos">250</span></a><span class="sd">        If not found, prompt the user for one or to try again recursively.&quot;&quot;&quot;</span>
-</span><span id="DBManager-251"><a href="#DBManager-251"><span class="linenos">251</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">:</span>
-</span><span id="DBManager-252"><a href="#DBManager-252"><span class="linenos">252</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span>
-</span><span id="DBManager-253"><a href="#DBManager-253"><span class="linenos">253</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Defaulting to database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager-254"><a href="#DBManager-254"><span class="linenos">254</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager-255"><a href="#DBManager-255"><span class="linenos">255</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching for database...&quot;</span><span class="p">)</span>
-</span><span id="DBManager-256"><a href="#DBManager-256"><span class="linenos">256</span></a>            <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
-</span><span id="DBManager-257"><a href="#DBManager-257"><span class="linenos">257</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
-</span><span id="DBManager-258"><a href="#DBManager-258"><span class="linenos">258</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
-</span><span id="DBManager-259"><a href="#DBManager-259"><span class="linenos">259</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
-</span><span id="DBManager-260"><a href="#DBManager-260"><span class="linenos">260</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-261"><a href="#DBManager-261"><span class="linenos">261</span></a>            <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
-</span><span id="DBManager-262"><a href="#DBManager-262"><span class="linenos">262</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
-</span><span id="DBManager-263"><a href="#DBManager-263"><span class="linenos">263</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager-264"><a href="#DBManager-264"><span class="linenos">264</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find a .db file in </span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-265"><a href="#DBManager-265"><span class="linenos">265</span></a>                <span class="n">path</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span>
-</span><span id="DBManager-266"><a href="#DBManager-266"><span class="linenos">266</span></a>                    <span class="s2">&quot;Enter path to .db file to use or press enter to search again recursively: &quot;</span>
-</span><span id="DBManager-267"><a href="#DBManager-267"><span class="linenos">267</span></a>                <span class="p">)</span>
-</span><span id="DBManager-268"><a href="#DBManager-268"><span class="linenos">268</span></a>                <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
-</span><span id="DBManager-269"><a href="#DBManager-269"><span class="linenos">269</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
-</span><span id="DBManager-270"><a href="#DBManager-270"><span class="linenos">270</span></a>                <span class="k">elif</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
-</span><span id="DBManager-271"><a href="#DBManager-271"><span class="linenos">271</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching recursively...&quot;</span><span class="p">)</span>
-</span><span id="DBManager-272"><a href="#DBManager-272"><span class="linenos">272</span></a>                    <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
-</span><span id="DBManager-273"><a href="#DBManager-273"><span class="linenos">273</span></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
-</span><span id="DBManager-274"><a href="#DBManager-274"><span class="linenos">274</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
-</span><span id="DBManager-275"><a href="#DBManager-275"><span class="linenos">275</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-276"><a href="#DBManager-276"><span class="linenos">276</span></a>                    <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
-</span><span id="DBManager-277"><a href="#DBManager-277"><span class="linenos">277</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
-</span><span id="DBManager-278"><a href="#DBManager-278"><span class="linenos">278</span></a>                    <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager-279"><a href="#DBManager-279"><span class="linenos">279</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not find a .db file.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-280"><a href="#DBManager-280"><span class="linenos">280</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter path to a .db file: &quot;</span><span class="p">))</span>
-</span><span id="DBManager-281"><a href="#DBManager-281"><span class="linenos">281</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
-</span><span id="DBManager-282"><a href="#DBManager-282"><span class="linenos">282</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
-</span><span id="DBManager-283"><a href="#DBManager-283"><span class="linenos">283</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
-</span><span id="DBManager-284"><a href="#DBManager-284"><span class="linenos">284</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> is not a file.&quot;</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell-8"><a href="#DBShell-8"><span class="linenos">  8</span></a><span class="k">class</span> <span class="nc">DBShell</span><span class="p">(</span><span class="n">argshell</span><span class="o">.</span><span class="n">ArgShell</span><span class="p">):</span>
+</span><span id="DBShell-9"><a href="#DBShell-9"><span class="linenos">  9</span></a>    <span class="n">intro</span> <span class="o">=</span> <span class="s2">&quot;Starting dbshell (enter help or ? for arg info)...&quot;</span>
+</span><span id="DBShell-10"><a href="#DBShell-10"><span class="linenos"> 10</span></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;based&gt;&quot;</span>
+</span><span id="DBShell-11"><a href="#DBShell-11"><span class="linenos"> 11</span></a>    <span class="n">dbpath</span><span class="p">:</span> <span class="n">Pathier</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
+</span><span id="DBShell-12"><a href="#DBShell-12"><span class="linenos"> 12</span></a>
+</span><span id="DBShell-13"><a href="#DBShell-13"><span class="linenos"> 13</span></a>    <span class="k">def</span> <span class="nf">do_use_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell-14"><a href="#DBShell-14"><span class="linenos"> 14</span></a>        <span class="sd">&quot;&quot;&quot;Set which database file to use.&quot;&quot;&quot;</span>
+</span><span id="DBShell-15"><a href="#DBShell-15"><span class="linenos"> 15</span></a>        <span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
+</span><span id="DBShell-16"><a href="#DBShell-16"><span class="linenos"> 16</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">dbpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
+</span><span id="DBShell-17"><a href="#DBShell-17"><span class="linenos"> 17</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-18"><a href="#DBShell-18"><span class="linenos"> 18</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Still using </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell-19"><a href="#DBShell-19"><span class="linenos"> 19</span></a>        <span class="k">elif</span> <span class="ow">not</span> <span class="n">dbpath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
+</span><span id="DBShell-20"><a href="#DBShell-20"><span class="linenos"> 20</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> is not a file.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-21"><a href="#DBShell-21"><span class="linenos"> 21</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Still using </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell-22"><a href="#DBShell-22"><span class="linenos"> 22</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell-23"><a href="#DBShell-23"><span class="linenos"> 23</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbpath</span>
+</span><span id="DBShell-24"><a href="#DBShell-24"><span class="linenos"> 24</span></a>
+</span><span id="DBShell-25"><a href="#DBShell-25"><span class="linenos"> 25</span></a>    <span class="k">def</span> <span class="nf">do_dbpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell-26"><a href="#DBShell-26"><span class="linenos"> 26</span></a>        <span class="sd">&quot;&quot;&quot;Print the .db file in use.&quot;&quot;&quot;</span>
+</span><span id="DBShell-27"><a href="#DBShell-27"><span class="linenos"> 27</span></a>        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span>
+</span><span id="DBShell-28"><a href="#DBShell-28"><span class="linenos"> 28</span></a>
+</span><span id="DBShell-29"><a href="#DBShell-29"><span class="linenos"> 29</span></a>    <span class="k">def</span> <span class="nf">do_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell-30"><a href="#DBShell-30"><span class="linenos"> 30</span></a>        <span class="sd">&quot;&quot;&quot;Create a backup of the current db file.&quot;&quot;&quot;</span>
+</span><span id="DBShell-31"><a href="#DBShell-31"><span class="linenos"> 31</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating a back up for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
+</span><span id="DBShell-32"><a href="#DBShell-32"><span class="linenos"> 32</span></a>        <span class="n">backup_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">with_stem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s2">_bckup&quot;</span><span class="p">)</span>
+</span><span id="DBShell-33"><a href="#DBShell-33"><span class="linenos"> 33</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">backup_path</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
+</span><span id="DBShell-34"><a href="#DBShell-34"><span class="linenos"> 34</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating backup is complete.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-35"><a href="#DBShell-35"><span class="linenos"> 35</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Backup path: </span><span class="si">{</span><span class="n">backup_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell-36"><a href="#DBShell-36"><span class="linenos"> 36</span></a>
+</span><span id="DBShell-37"><a href="#DBShell-37"><span class="linenos"> 37</span></a>    <span class="k">def</span> <span class="nf">do_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell-38"><a href="#DBShell-38"><span class="linenos"> 38</span></a>        <span class="sd">&quot;&quot;&quot;Display the size of the the current db file.&quot;&quot;&quot;</span>
+</span><span id="DBShell-39"><a href="#DBShell-39"><span class="linenos"> 39</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-40"><a href="#DBShell-40"><span class="linenos"> 40</span></a>
+</span><span id="DBShell-41"><a href="#DBShell-41"><span class="linenos"> 41</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_create_table_parser</span><span class="p">)</span>
+</span><span id="DBShell-42"><a href="#DBShell-42"><span class="linenos"> 42</span></a>    <span class="k">def</span> <span class="nf">do_add_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell-43"><a href="#DBShell-43"><span class="linenos"> 43</span></a>        <span class="sd">&quot;&quot;&quot;Add a new table to the database.&quot;&quot;&quot;</span>
+</span><span id="DBShell-44"><a href="#DBShell-44"><span class="linenos"> 44</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell-45"><a href="#DBShell-45"><span class="linenos"> 45</span></a>            <span class="n">db</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
+</span><span id="DBShell-46"><a href="#DBShell-46"><span class="linenos"> 46</span></a>
+</span><span id="DBShell-47"><a href="#DBShell-47"><span class="linenos"> 47</span></a>    <span class="k">def</span> <span class="nf">do_drop_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell-48"><a href="#DBShell-48"><span class="linenos"> 48</span></a>        <span class="sd">&quot;&quot;&quot;Drop the specified table.&quot;&quot;&quot;</span>
+</span><span id="DBShell-49"><a href="#DBShell-49"><span class="linenos"> 49</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell-50"><a href="#DBShell-50"><span class="linenos"> 50</span></a>            <span class="n">db</span><span class="o">.</span><span class="n">drop_table</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
+</span><span id="DBShell-51"><a href="#DBShell-51"><span class="linenos"> 51</span></a>
+</span><span id="DBShell-52"><a href="#DBShell-52"><span class="linenos"> 52</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span>
+</span><span id="DBShell-53"><a href="#DBShell-53"><span class="linenos"> 53</span></a>        <span class="n">dbparsers</span><span class="o">.</span><span class="n">get_add_row_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">verify_matching_length</span><span class="p">]</span>
+</span><span id="DBShell-54"><a href="#DBShell-54"><span class="linenos"> 54</span></a>    <span class="p">)</span>
+</span><span id="DBShell-55"><a href="#DBShell-55"><span class="linenos"> 55</span></a>    <span class="k">def</span> <span class="nf">do_add_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell-56"><a href="#DBShell-56"><span class="linenos"> 56</span></a>        <span class="sd">&quot;&quot;&quot;Add a row to a table.&quot;&quot;&quot;</span>
+</span><span id="DBShell-57"><a href="#DBShell-57"><span class="linenos"> 57</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell-58"><a href="#DBShell-58"><span class="linenos"> 58</span></a>            <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">):</span>
+</span><span id="DBShell-59"><a href="#DBShell-59"><span class="linenos"> 59</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Added row to </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="si">}</span><span class="s2"> table successfully.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-60"><a href="#DBShell-60"><span class="linenos"> 60</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell-61"><a href="#DBShell-61"><span class="linenos"> 61</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to add row to </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-62"><a href="#DBShell-62"><span class="linenos"> 62</span></a>
+</span><span id="DBShell-63"><a href="#DBShell-63"><span class="linenos"> 63</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_info_parser</span><span class="p">)</span>
+</span><span id="DBShell-64"><a href="#DBShell-64"><span class="linenos"> 64</span></a>    <span class="k">def</span> <span class="nf">do_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell-65"><a href="#DBShell-65"><span class="linenos"> 65</span></a>        <span class="sd">&quot;&quot;&quot;Print out the names of the database tables, their columns, and, optionally, the number of rows.&quot;&quot;&quot;</span>
+</span><span id="DBShell-66"><a href="#DBShell-66"><span class="linenos"> 66</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Getting database info...&quot;</span><span class="p">)</span>
+</span><span id="DBShell-67"><a href="#DBShell-67"><span class="linenos"> 67</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell-68"><a href="#DBShell-68"><span class="linenos"> 68</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell-69"><a href="#DBShell-69"><span class="linenos"> 69</span></a>            <span class="n">info</span> <span class="o">=</span> <span class="p">[</span>
+</span><span id="DBShell-70"><a href="#DBShell-70"><span class="linenos"> 70</span></a>                <span class="p">{</span>
+</span><span id="DBShell-71"><a href="#DBShell-71"><span class="linenos"> 71</span></a>                    <span class="s2">&quot;Table Name&quot;</span><span class="p">:</span> <span class="n">table</span><span class="p">,</span>
+</span><span id="DBShell-72"><a href="#DBShell-72"><span class="linenos"> 72</span></a>                    <span class="s2">&quot;Columns&quot;</span><span class="p">:</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)),</span>
+</span><span id="DBShell-73"><a href="#DBShell-73"><span class="linenos"> 73</span></a>                    <span class="s2">&quot;Number of Rows&quot;</span><span class="p">:</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">)</span> <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">rowcount</span> <span class="k">else</span> <span class="s2">&quot;n/a&quot;</span><span class="p">,</span>
+</span><span id="DBShell-74"><a href="#DBShell-74"><span class="linenos"> 74</span></a>                <span class="p">}</span>
+</span><span id="DBShell-75"><a href="#DBShell-75"><span class="linenos"> 75</span></a>                <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span>
+</span><span id="DBShell-76"><a href="#DBShell-76"><span class="linenos"> 76</span></a>            <span class="p">]</span>
+</span><span id="DBShell-77"><a href="#DBShell-77"><span class="linenos"> 77</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">info</span><span class="p">))</span>
+</span><span id="DBShell-78"><a href="#DBShell-78"><span class="linenos"> 78</span></a>
+</span><span id="DBShell-79"><a href="#DBShell-79"><span class="linenos"> 79</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="DBShell-80"><a href="#DBShell-80"><span class="linenos"> 80</span></a>    <span class="k">def</span> <span class="nf">do_show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell-81"><a href="#DBShell-81"><span class="linenos"> 81</span></a>        <span class="sd">&quot;&quot;&quot;Find and print rows from the database.</span>
+</span><span id="DBShell-82"><a href="#DBShell-82"><span class="linenos"> 82</span></a><span class="sd">        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit the search.</span>
+</span><span id="DBShell-83"><a href="#DBShell-83"><span class="linenos"> 83</span></a><span class="sd">        Use the -c/--columns flag to limit what columns are printed.</span>
+</span><span id="DBShell-84"><a href="#DBShell-84"><span class="linenos"> 84</span></a><span class="sd">        Use the -o/--order_by flag to order the results.</span>
+</span><span id="DBShell-85"><a href="#DBShell-85"><span class="linenos"> 85</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs</span>
+</span><span id="DBShell-86"><a href="#DBShell-86"><span class="linenos"> 86</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
+</span><span id="DBShell-87"><a href="#DBShell-87"><span class="linenos"> 87</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Finding records... &quot;</span><span class="p">)</span>
+</span><span id="DBShell-88"><a href="#DBShell-88"><span class="linenos"> 88</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
+</span><span id="DBShell-89"><a href="#DBShell-89"><span class="linenos"> 89</span></a>            <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="DBShell-90"><a href="#DBShell-90"><span class="linenos"> 90</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell-91"><a href="#DBShell-91"><span class="linenos"> 91</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell-92"><a href="#DBShell-92"><span class="linenos"> 92</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell-93"><a href="#DBShell-93"><span class="linenos"> 93</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
+</span><span id="DBShell-94"><a href="#DBShell-94"><span class="linenos"> 94</span></a>                    <span class="n">table</span><span class="p">,</span>
+</span><span id="DBShell-95"><a href="#DBShell-95"><span class="linenos"> 95</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span>
+</span><span id="DBShell-96"><a href="#DBShell-96"><span class="linenos"> 96</span></a>                    <span class="n">columns_to_return</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
+</span><span id="DBShell-97"><a href="#DBShell-97"><span class="linenos"> 97</span></a>                    <span class="n">order_by</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">order_by</span><span class="p">,</span>
+</span><span id="DBShell-98"><a href="#DBShell-98"><span class="linenos"> 98</span></a>                    <span class="n">limit</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">limit</span><span class="p">,</span>
+</span><span id="DBShell-99"><a href="#DBShell-99"><span class="linenos"> 99</span></a>                    <span class="n">exact_match</span><span class="o">=</span><span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">,</span>
+</span><span id="DBShell-100"><a href="#DBShell-100"><span class="linenos">100</span></a>                <span class="p">)</span>
+</span><span id="DBShell-101"><a href="#DBShell-101"><span class="linenos">101</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
+</span><span id="DBShell-102"><a href="#DBShell-102"><span class="linenos">102</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table:&quot;</span><span class="p">)</span>
+</span><span id="DBShell-103"><a href="#DBShell-103"><span class="linenos">103</span></a>                <span class="k">try</span><span class="p">:</span>
+</span><span id="DBShell-104"><a href="#DBShell-104"><span class="linenos">104</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
+</span><span id="DBShell-105"><a href="#DBShell-105"><span class="linenos">105</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DBShell-106"><a href="#DBShell-106"><span class="linenos">106</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t fit data into a grid.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-107"><a href="#DBShell-107"><span class="linenos">107</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">results</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell-108"><a href="#DBShell-108"><span class="linenos">108</span></a>                <span class="nb">print</span><span class="p">()</span>
+</span><span id="DBShell-109"><a href="#DBShell-109"><span class="linenos">109</span></a>
+</span><span id="DBShell-110"><a href="#DBShell-110"><span class="linenos">110</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_search_parser</span><span class="p">)</span>
+</span><span id="DBShell-111"><a href="#DBShell-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="nf">do_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell-112"><a href="#DBShell-112"><span class="linenos">112</span></a>        <span class="sd">&quot;&quot;&quot;Search and return any rows containg the searched substring in any of its columns.</span>
+</span><span id="DBShell-113"><a href="#DBShell-113"><span class="linenos">113</span></a><span class="sd">        Use the -t/--tables flag to limit the search to a specific table(s).</span>
+</span><span id="DBShell-114"><a href="#DBShell-114"><span class="linenos">114</span></a><span class="sd">        Use the -c/--columns flag to limit the search to a specific column(s).&quot;&quot;&quot;</span>
+</span><span id="DBShell-115"><a href="#DBShell-115"><span class="linenos">115</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Searching for </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
+</span><span id="DBShell-116"><a href="#DBShell-116"><span class="linenos">116</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell-117"><a href="#DBShell-117"><span class="linenos">117</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell-118"><a href="#DBShell-118"><span class="linenos">118</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell-119"><a href="#DBShell-119"><span class="linenos">119</span></a>                <span class="n">columns</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
+</span><span id="DBShell-120"><a href="#DBShell-120"><span class="linenos">120</span></a>                <span class="n">matcher</span> <span class="o">=</span> <span class="s2">&quot; OR &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
+</span><span id="DBShell-121"><a href="#DBShell-121"><span class="linenos">121</span></a>                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1"> LIKE &quot;%</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s1">%&quot;&#39;</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span>
+</span><span id="DBShell-122"><a href="#DBShell-122"><span class="linenos">122</span></a>                <span class="p">)</span>
+</span><span id="DBShell-123"><a href="#DBShell-123"><span class="linenos">123</span></a>                <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT * FROM </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> WHERE </span><span class="si">{</span><span class="n">matcher</span><span class="si">}</span><span class="s2">;&quot;</span>
+</span><span id="DBShell-124"><a href="#DBShell-124"><span class="linenos">124</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
+</span><span id="DBShell-125"><a href="#DBShell-125"><span class="linenos">125</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">db</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
+</span><span id="DBShell-126"><a href="#DBShell-126"><span class="linenos">126</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> results in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-127"><a href="#DBShell-127"><span class="linenos">127</span></a>                <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
+</span><span id="DBShell-128"><a href="#DBShell-128"><span class="linenos">128</span></a>
+</span><span id="DBShell-129"><a href="#DBShell-129"><span class="linenos">129</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="DBShell-130"><a href="#DBShell-130"><span class="linenos">130</span></a>    <span class="k">def</span> <span class="nf">do_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell-131"><a href="#DBShell-131"><span class="linenos">131</span></a>        <span class="sd">&quot;&quot;&quot;Print the number of rows in the database.</span>
+</span><span id="DBShell-132"><a href="#DBShell-132"><span class="linenos">132</span></a><span class="sd">        Use the -t/--tables flag to limit results to a specific table(s).</span>
+</span><span id="DBShell-133"><a href="#DBShell-133"><span class="linenos">133</span></a><span class="sd">        Use the -m/--match_pairs flag to limit the results to rows matching these criteria.</span>
+</span><span id="DBShell-134"><a href="#DBShell-134"><span class="linenos">134</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
+</span><span id="DBShell-135"><a href="#DBShell-135"><span class="linenos">135</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
+</span><span id="DBShell-136"><a href="#DBShell-136"><span class="linenos">136</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Counting rows...&quot;</span><span class="p">)</span>
+</span><span id="DBShell-137"><a href="#DBShell-137"><span class="linenos">137</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell-138"><a href="#DBShell-138"><span class="linenos">138</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell-139"><a href="#DBShell-139"><span class="linenos">139</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell-140"><a href="#DBShell-140"><span class="linenos">140</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
+</span><span id="DBShell-141"><a href="#DBShell-141"><span class="linenos">141</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-142"><a href="#DBShell-142"><span class="linenos">142</span></a>
+</span><span id="DBShell-143"><a href="#DBShell-143"><span class="linenos">143</span></a>    <span class="k">def</span> <span class="nf">do_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell-144"><a href="#DBShell-144"><span class="linenos">144</span></a>        <span class="sd">&quot;&quot;&quot;Execute a query against the current database.&quot;&quot;&quot;</span>
+</span><span id="DBShell-145"><a href="#DBShell-145"><span class="linenos">145</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Executing </span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell-146"><a href="#DBShell-146"><span class="linenos">146</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell-147"><a href="#DBShell-147"><span class="linenos">147</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
+</span><span id="DBShell-148"><a href="#DBShell-148"><span class="linenos">148</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DBShell-149"><a href="#DBShell-149"><span class="linenos">149</span></a>            <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
+</span><span id="DBShell-150"><a href="#DBShell-150"><span class="linenos">150</span></a>                <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">result</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;|-|&quot;</span><span class="p">)</span>
+</span><span id="DBShell-151"><a href="#DBShell-151"><span class="linenos">151</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">db</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span><span class="si">}</span><span class="s2"> affected rows&quot;</span><span class="p">)</span>
+</span><span id="DBShell-152"><a href="#DBShell-152"><span class="linenos">152</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DBShell-153"><a href="#DBShell-153"><span class="linenos">153</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell-154"><a href="#DBShell-154"><span class="linenos">154</span></a>
+</span><span id="DBShell-155"><a href="#DBShell-155"><span class="linenos">155</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_update_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="DBShell-156"><a href="#DBShell-156"><span class="linenos">156</span></a>    <span class="k">def</span> <span class="nf">do_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell-157"><a href="#DBShell-157"><span class="linenos">157</span></a>        <span class="sd">&quot;&quot;&quot;Update a column to a new value.</span>
+</span><span id="DBShell-158"><a href="#DBShell-158"><span class="linenos">158</span></a><span class="sd">        Two required args: the column (-c/--column) to update and the value (-v/--value) to update to.</span>
+</span><span id="DBShell-159"><a href="#DBShell-159"><span class="linenos">159</span></a><span class="sd">        Use the -t/--tables flag to limit what tables are updated.</span>
+</span><span id="DBShell-160"><a href="#DBShell-160"><span class="linenos">160</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are updated.</span>
+</span><span id="DBShell-161"><a href="#DBShell-161"><span class="linenos">161</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
+</span><span id="DBShell-162"><a href="#DBShell-162"><span class="linenos">162</span></a><span class="sd">        &gt;&gt;&gt; based&gt;update -c username -v big_chungus -t users -m username lil_chungus</span>
+</span><span id="DBShell-163"><a href="#DBShell-163"><span class="linenos">163</span></a>
+</span><span id="DBShell-164"><a href="#DBShell-164"><span class="linenos">164</span></a><span class="sd">        ^will update the username in the users &#39;table&#39; to &#39;big_chungus&#39; where the username is currently &#39;lil_chungus&#39;^&quot;&quot;&quot;</span>
+</span><span id="DBShell-165"><a href="#DBShell-165"><span class="linenos">165</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Updating rows...&quot;</span><span class="p">)</span>
+</span><span id="DBShell-166"><a href="#DBShell-166"><span class="linenos">166</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell-167"><a href="#DBShell-167"><span class="linenos">167</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell-168"><a href="#DBShell-168"><span class="linenos">168</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell-169"><a href="#DBShell-169"><span class="linenos">169</span></a>                <span class="n">num_updates</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
+</span><span id="DBShell-170"><a href="#DBShell-170"><span class="linenos">170</span></a>                    <span class="n">table</span><span class="p">,</span>
+</span><span id="DBShell-171"><a href="#DBShell-171"><span class="linenos">171</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">column</span><span class="p">,</span>
+</span><span id="DBShell-172"><a href="#DBShell-172"><span class="linenos">172</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">new_value</span><span class="p">,</span>
+</span><span id="DBShell-173"><a href="#DBShell-173"><span class="linenos">173</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span>
+</span><span id="DBShell-174"><a href="#DBShell-174"><span class="linenos">174</span></a>                    <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">,</span>
+</span><span id="DBShell-175"><a href="#DBShell-175"><span class="linenos">175</span></a>                <span class="p">)</span>
+</span><span id="DBShell-176"><a href="#DBShell-176"><span class="linenos">176</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updated </span><span class="si">{</span><span class="n">num_updates</span><span class="si">}</span><span class="s2"> rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-177"><a href="#DBShell-177"><span class="linenos">177</span></a>
+</span><span id="DBShell-178"><a href="#DBShell-178"><span class="linenos">178</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="DBShell-179"><a href="#DBShell-179"><span class="linenos">179</span></a>    <span class="k">def</span> <span class="nf">do_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell-180"><a href="#DBShell-180"><span class="linenos">180</span></a>        <span class="sd">&quot;&quot;&quot;Delete rows from the database.</span>
+</span><span id="DBShell-181"><a href="#DBShell-181"><span class="linenos">181</span></a><span class="sd">        Use the -t/--tables flag to limit what tables rows are deleted from.</span>
+</span><span id="DBShell-182"><a href="#DBShell-182"><span class="linenos">182</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are deleted.</span>
+</span><span id="DBShell-183"><a href="#DBShell-183"><span class="linenos">183</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
+</span><span id="DBShell-184"><a href="#DBShell-184"><span class="linenos">184</span></a><span class="sd">        &gt;&gt;&gt; based&gt;delete -t users -m username chungus -p</span>
+</span><span id="DBShell-185"><a href="#DBShell-185"><span class="linenos">185</span></a>
+</span><span id="DBShell-186"><a href="#DBShell-186"><span class="linenos">186</span></a><span class="sd">        ^will delete all rows in the &#39;users&#39; table whose username contains &#39;chungus&#39;^&quot;&quot;&quot;</span>
+</span><span id="DBShell-187"><a href="#DBShell-187"><span class="linenos">187</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deleting records...&quot;</span><span class="p">)</span>
+</span><span id="DBShell-188"><a href="#DBShell-188"><span class="linenos">188</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell-189"><a href="#DBShell-189"><span class="linenos">189</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell-190"><a href="#DBShell-190"><span class="linenos">190</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell-191"><a href="#DBShell-191"><span class="linenos">191</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
+</span><span id="DBShell-192"><a href="#DBShell-192"><span class="linenos">192</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleted </span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> rows from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-193"><a href="#DBShell-193"><span class="linenos">193</span></a>
+</span><span id="DBShell-194"><a href="#DBShell-194"><span class="linenos">194</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_add_column_parser</span><span class="p">)</span>
+</span><span id="DBShell-195"><a href="#DBShell-195"><span class="linenos">195</span></a>    <span class="k">def</span> <span class="nf">do_add_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell-196"><a href="#DBShell-196"><span class="linenos">196</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to the specified tables.&quot;&quot;&quot;</span>
+</span><span id="DBShell-197"><a href="#DBShell-197"><span class="linenos">197</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell-198"><a href="#DBShell-198"><span class="linenos">198</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell-199"><a href="#DBShell-199"><span class="linenos">199</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell-200"><a href="#DBShell-200"><span class="linenos">200</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">column_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">default_value</span><span class="p">)</span>
+</span><span id="DBShell-201"><a href="#DBShell-201"><span class="linenos">201</span></a>
+</span><span id="DBShell-202"><a href="#DBShell-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="nf">do_flush_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell-203"><a href="#DBShell-203"><span class="linenos">203</span></a>        <span class="sd">&quot;&quot;&quot;Clear the log file for this database.&quot;&quot;&quot;</span>
+</span><span id="DBShell-204"><a href="#DBShell-204"><span class="linenos">204</span></a>        <span class="n">log_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">stem</span> <span class="o">+</span> <span class="s2">&quot;db.log&quot;</span><span class="p">)</span>
+</span><span id="DBShell-205"><a href="#DBShell-205"><span class="linenos">205</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">log_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
+</span><span id="DBShell-206"><a href="#DBShell-206"><span class="linenos">206</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No log file at path </span><span class="si">{</span><span class="n">log_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell-207"><a href="#DBShell-207"><span class="linenos">207</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell-208"><a href="#DBShell-208"><span class="linenos">208</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flushing log...&quot;</span><span class="p">)</span>
+</span><span id="DBShell-209"><a href="#DBShell-209"><span class="linenos">209</span></a>            <span class="n">log_path</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
+</span><span id="DBShell-210"><a href="#DBShell-210"><span class="linenos">210</span></a>
+</span><span id="DBShell-211"><a href="#DBShell-211"><span class="linenos">211</span></a>    <span class="k">def</span> <span class="nf">do_scan_dbs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell-212"><a href="#DBShell-212"><span class="linenos">212</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current working directory for `*.db` files and display them.</span>
+</span><span id="DBShell-213"><a href="#DBShell-213"><span class="linenos">213</span></a>
+</span><span id="DBShell-214"><a href="#DBShell-214"><span class="linenos">214</span></a><span class="sd">        If the command is entered as `based&gt;scan_dbs r`, the scan will be performed recursively.&quot;&quot;&quot;</span>
+</span><span id="DBShell-215"><a href="#DBShell-215"><span class="linenos">215</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
+</span><span id="DBShell-216"><a href="#DBShell-216"><span class="linenos">216</span></a>        <span class="k">if</span> <span class="n">arg</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span><span class="p">:</span>
+</span><span id="DBShell-217"><a href="#DBShell-217"><span class="linenos">217</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
+</span><span id="DBShell-218"><a href="#DBShell-218"><span class="linenos">218</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell-219"><a href="#DBShell-219"><span class="linenos">219</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
+</span><span id="DBShell-220"><a href="#DBShell-220"><span class="linenos">220</span></a>        <span class="k">for</span> <span class="n">db</span> <span class="ow">in</span> <span class="n">dbs</span><span class="p">:</span>
+</span><span id="DBShell-221"><a href="#DBShell-221"><span class="linenos">221</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">stem</span><span class="p">))</span>
+</span><span id="DBShell-222"><a href="#DBShell-222"><span class="linenos">222</span></a>
+</span><span id="DBShell-223"><a href="#DBShell-223"><span class="linenos">223</span></a>    <span class="k">def</span> <span class="nf">do_customize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell-224"><a href="#DBShell-224"><span class="linenos">224</span></a>        <span class="sd">&quot;&quot;&quot;Generate a template file in the current working directory for creating a custom DBShell class.</span>
+</span><span id="DBShell-225"><a href="#DBShell-225"><span class="linenos">225</span></a><span class="sd">        Expects one argument: the name of the custom dbshell.</span>
+</span><span id="DBShell-226"><a href="#DBShell-226"><span class="linenos">226</span></a><span class="sd">        This will be used to name the generated file as well as several components in the file content.&quot;&quot;&quot;</span>
+</span><span id="DBShell-227"><a href="#DBShell-227"><span class="linenos">227</span></a>        <span class="n">custom_file</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">arg</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">)</span>
+</span><span id="DBShell-228"><a href="#DBShell-228"><span class="linenos">228</span></a>        <span class="k">if</span> <span class="n">custom_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
+</span><span id="DBShell-229"><a href="#DBShell-229"><span class="linenos">229</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">custom_file</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> already exists in this location.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-230"><a href="#DBShell-230"><span class="linenos">230</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell-231"><a href="#DBShell-231"><span class="linenos">231</span></a>            <span class="n">variable_name</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
+</span><span id="DBShell-232"><a href="#DBShell-232"><span class="linenos">232</span></a>            <span class="n">class_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
+</span><span id="DBShell-233"><a href="#DBShell-233"><span class="linenos">233</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;customshell.py&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
+</span><span id="DBShell-234"><a href="#DBShell-234"><span class="linenos">234</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;CustomShell&quot;</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
+</span><span id="DBShell-235"><a href="#DBShell-235"><span class="linenos">235</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;customshell&quot;</span><span class="p">,</span> <span class="n">variable_name</span><span class="p">)</span>
+</span><span id="DBShell-236"><a href="#DBShell-236"><span class="linenos">236</span></a>            <span class="n">custom_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
+</span><span id="DBShell-237"><a href="#DBShell-237"><span class="linenos">237</span></a>
+</span><span id="DBShell-238"><a href="#DBShell-238"><span class="linenos">238</span></a>    <span class="k">def</span> <span class="nf">_choose_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Pathier</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Pathier</span><span class="p">:</span>
+</span><span id="DBShell-239"><a href="#DBShell-239"><span class="linenos">239</span></a>        <span class="sd">&quot;&quot;&quot;Prompt the user to select from a list of files.&quot;&quot;&quot;</span>
+</span><span id="DBShell-240"><a href="#DBShell-240"><span class="linenos">240</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
+</span><span id="DBShell-241"><a href="#DBShell-241"><span class="linenos">241</span></a>        <span class="n">paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">path</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">stem</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">options</span><span class="p">]</span>
+</span><span id="DBShell-242"><a href="#DBShell-242"><span class="linenos">242</span></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
+</span><span id="DBShell-243"><a href="#DBShell-243"><span class="linenos">243</span></a>            <span class="nb">print</span><span class="p">(</span>
+</span><span id="DBShell-244"><a href="#DBShell-244"><span class="linenos">244</span></a>                <span class="sa">f</span><span class="s2">&quot;DB options:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">) </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span><span class="si">}</span><span class="s2">&quot;</span>
+</span><span id="DBShell-245"><a href="#DBShell-245"><span class="linenos">245</span></a>            <span class="p">)</span>
+</span><span id="DBShell-246"><a href="#DBShell-246"><span class="linenos">246</span></a>            <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter the number of the option to use: &quot;</span><span class="p">)</span>
+</span><span id="DBShell-247"><a href="#DBShell-247"><span class="linenos">247</span></a>            <span class="k">try</span><span class="p">:</span>
+</span><span id="DBShell-248"><a href="#DBShell-248"><span class="linenos">248</span></a>                <span class="n">index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
+</span><span id="DBShell-249"><a href="#DBShell-249"><span class="linenos">249</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">index</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
+</span><span id="DBShell-250"><a href="#DBShell-250"><span class="linenos">250</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Choice out of range.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-251"><a href="#DBShell-251"><span class="linenos">251</span></a>                    <span class="k">continue</span>
+</span><span id="DBShell-252"><a href="#DBShell-252"><span class="linenos">252</span></a>                <span class="k">return</span> <span class="n">options</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
+</span><span id="DBShell-253"><a href="#DBShell-253"><span class="linenos">253</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DBShell-254"><a href="#DBShell-254"><span class="linenos">254</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">choice</span><span class="si">}</span><span class="s2"> is not a valid option.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-255"><a href="#DBShell-255"><span class="linenos">255</span></a>
+</span><span id="DBShell-256"><a href="#DBShell-256"><span class="linenos">256</span></a>    <span class="k">def</span> <span class="nf">preloop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
+</span><span id="DBShell-257"><a href="#DBShell-257"><span class="linenos">257</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current directory for a .db file to use.</span>
+</span><span id="DBShell-258"><a href="#DBShell-258"><span class="linenos">258</span></a><span class="sd">        If not found, prompt the user for one or to try again recursively.&quot;&quot;&quot;</span>
+</span><span id="DBShell-259"><a href="#DBShell-259"><span class="linenos">259</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">:</span>
+</span><span id="DBShell-260"><a href="#DBShell-260"><span class="linenos">260</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span>
+</span><span id="DBShell-261"><a href="#DBShell-261"><span class="linenos">261</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Defaulting to database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell-262"><a href="#DBShell-262"><span class="linenos">262</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell-263"><a href="#DBShell-263"><span class="linenos">263</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching for database...&quot;</span><span class="p">)</span>
+</span><span id="DBShell-264"><a href="#DBShell-264"><span class="linenos">264</span></a>            <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
+</span><span id="DBShell-265"><a href="#DBShell-265"><span class="linenos">265</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
+</span><span id="DBShell-266"><a href="#DBShell-266"><span class="linenos">266</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
+</span><span id="DBShell-267"><a href="#DBShell-267"><span class="linenos">267</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
+</span><span id="DBShell-268"><a href="#DBShell-268"><span class="linenos">268</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-269"><a href="#DBShell-269"><span class="linenos">269</span></a>            <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
+</span><span id="DBShell-270"><a href="#DBShell-270"><span class="linenos">270</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
+</span><span id="DBShell-271"><a href="#DBShell-271"><span class="linenos">271</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell-272"><a href="#DBShell-272"><span class="linenos">272</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find a .db file in </span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-273"><a href="#DBShell-273"><span class="linenos">273</span></a>                <span class="n">path</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span>
+</span><span id="DBShell-274"><a href="#DBShell-274"><span class="linenos">274</span></a>                    <span class="s2">&quot;Enter path to .db file to use or press enter to search again recursively: &quot;</span>
+</span><span id="DBShell-275"><a href="#DBShell-275"><span class="linenos">275</span></a>                <span class="p">)</span>
+</span><span id="DBShell-276"><a href="#DBShell-276"><span class="linenos">276</span></a>                <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
+</span><span id="DBShell-277"><a href="#DBShell-277"><span class="linenos">277</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
+</span><span id="DBShell-278"><a href="#DBShell-278"><span class="linenos">278</span></a>                <span class="k">elif</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
+</span><span id="DBShell-279"><a href="#DBShell-279"><span class="linenos">279</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching recursively...&quot;</span><span class="p">)</span>
+</span><span id="DBShell-280"><a href="#DBShell-280"><span class="linenos">280</span></a>                    <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
+</span><span id="DBShell-281"><a href="#DBShell-281"><span class="linenos">281</span></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
+</span><span id="DBShell-282"><a href="#DBShell-282"><span class="linenos">282</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
+</span><span id="DBShell-283"><a href="#DBShell-283"><span class="linenos">283</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-284"><a href="#DBShell-284"><span class="linenos">284</span></a>                    <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
+</span><span id="DBShell-285"><a href="#DBShell-285"><span class="linenos">285</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
+</span><span id="DBShell-286"><a href="#DBShell-286"><span class="linenos">286</span></a>                    <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell-287"><a href="#DBShell-287"><span class="linenos">287</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not find a .db file.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-288"><a href="#DBShell-288"><span class="linenos">288</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter path to a .db file: &quot;</span><span class="p">))</span>
+</span><span id="DBShell-289"><a href="#DBShell-289"><span class="linenos">289</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
+</span><span id="DBShell-290"><a href="#DBShell-290"><span class="linenos">290</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
+</span><span id="DBShell-291"><a href="#DBShell-291"><span class="linenos">291</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
+</span><span id="DBShell-292"><a href="#DBShell-292"><span class="linenos">292</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> is not a file.&quot;</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Subclass this to create custom ArgShells.</p>
 </div>
 
 
-                            <div id="DBManager.do_use_db" class="classattr">
-                                        <input id="DBManager.do_use_db-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_use_db" class="classattr">
+                                        <input id="DBShell.do_use_db-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">do_use_db</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arg</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_use_db-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_use_db-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_use_db"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_use_db-13"><a href="#DBManager.do_use_db-13"><span class="linenos">13</span></a>    <span class="k">def</span> <span class="nf">do_use_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager.do_use_db-14"><a href="#DBManager.do_use_db-14"><span class="linenos">14</span></a>        <span class="sd">&quot;&quot;&quot;Set which database file to use.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_use_db-15"><a href="#DBManager.do_use_db-15"><span class="linenos">15</span></a>        <span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
-</span><span id="DBManager.do_use_db-16"><a href="#DBManager.do_use_db-16"><span class="linenos">16</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">dbpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
-</span><span id="DBManager.do_use_db-17"><a href="#DBManager.do_use_db-17"><span class="linenos">17</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_use_db-18"><a href="#DBManager.do_use_db-18"><span class="linenos">18</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Still using </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_use_db-19"><a href="#DBManager.do_use_db-19"><span class="linenos">19</span></a>        <span class="k">elif</span> <span class="ow">not</span> <span class="n">dbpath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
-</span><span id="DBManager.do_use_db-20"><a href="#DBManager.do_use_db-20"><span class="linenos">20</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> is not a file.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_use_db-21"><a href="#DBManager.do_use_db-21"><span class="linenos">21</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Still using </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_use_db-22"><a href="#DBManager.do_use_db-22"><span class="linenos">22</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager.do_use_db-23"><a href="#DBManager.do_use_db-23"><span class="linenos">23</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbpath</span>
+    <a class="headerlink" href="#DBShell.do_use_db"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_use_db-13"><a href="#DBShell.do_use_db-13"><span class="linenos">13</span></a>    <span class="k">def</span> <span class="nf">do_use_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell.do_use_db-14"><a href="#DBShell.do_use_db-14"><span class="linenos">14</span></a>        <span class="sd">&quot;&quot;&quot;Set which database file to use.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_use_db-15"><a href="#DBShell.do_use_db-15"><span class="linenos">15</span></a>        <span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
+</span><span id="DBShell.do_use_db-16"><a href="#DBShell.do_use_db-16"><span class="linenos">16</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">dbpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
+</span><span id="DBShell.do_use_db-17"><a href="#DBShell.do_use_db-17"><span class="linenos">17</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_use_db-18"><a href="#DBShell.do_use_db-18"><span class="linenos">18</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Still using </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_use_db-19"><a href="#DBShell.do_use_db-19"><span class="linenos">19</span></a>        <span class="k">elif</span> <span class="ow">not</span> <span class="n">dbpath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
+</span><span id="DBShell.do_use_db-20"><a href="#DBShell.do_use_db-20"><span class="linenos">20</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> is not a file.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_use_db-21"><a href="#DBShell.do_use_db-21"><span class="linenos">21</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Still using </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_use_db-22"><a href="#DBShell.do_use_db-22"><span class="linenos">22</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell.do_use_db-23"><a href="#DBShell.do_use_db-23"><span class="linenos">23</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbpath</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Set which database file to use.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_dbpath" class="classattr">
-                                        <input id="DBManager.do_dbpath-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_dbpath" class="classattr">
+                                        <input id="DBShell.do_dbpath-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">do_dbpath</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arg</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_dbpath-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_dbpath-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_dbpath"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_dbpath-25"><a href="#DBManager.do_dbpath-25"><span class="linenos">25</span></a>    <span class="k">def</span> <span class="nf">do_dbpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager.do_dbpath-26"><a href="#DBManager.do_dbpath-26"><span class="linenos">26</span></a>        <span class="sd">&quot;&quot;&quot;Print the .db file in use.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_dbpath-27"><a href="#DBManager.do_dbpath-27"><span class="linenos">27</span></a>        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_dbpath"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_dbpath-25"><a href="#DBShell.do_dbpath-25"><span class="linenos">25</span></a>    <span class="k">def</span> <span class="nf">do_dbpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell.do_dbpath-26"><a href="#DBShell.do_dbpath-26"><span class="linenos">26</span></a>        <span class="sd">&quot;&quot;&quot;Print the .db file in use.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_dbpath-27"><a href="#DBShell.do_dbpath-27"><span class="linenos">27</span></a>        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Print the .db file in use.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_backup" class="classattr">
-                                        <input id="DBManager.do_backup-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_backup" class="classattr">
+                                        <input id="DBShell.do_backup-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">do_backup</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arg</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_backup-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_backup-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_backup"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_backup-29"><a href="#DBManager.do_backup-29"><span class="linenos">29</span></a>    <span class="k">def</span> <span class="nf">do_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager.do_backup-30"><a href="#DBManager.do_backup-30"><span class="linenos">30</span></a>        <span class="sd">&quot;&quot;&quot;Create a backup of the current db file.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_backup-31"><a href="#DBManager.do_backup-31"><span class="linenos">31</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating a back up for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_backup-32"><a href="#DBManager.do_backup-32"><span class="linenos">32</span></a>        <span class="n">backup_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">with_stem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s2">_bckup&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_backup-33"><a href="#DBManager.do_backup-33"><span class="linenos">33</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">backup_path</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
-</span><span id="DBManager.do_backup-34"><a href="#DBManager.do_backup-34"><span class="linenos">34</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating backup is complete.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_backup-35"><a href="#DBManager.do_backup-35"><span class="linenos">35</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Backup path: </span><span class="si">{</span><span class="n">backup_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_backup"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_backup-29"><a href="#DBShell.do_backup-29"><span class="linenos">29</span></a>    <span class="k">def</span> <span class="nf">do_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell.do_backup-30"><a href="#DBShell.do_backup-30"><span class="linenos">30</span></a>        <span class="sd">&quot;&quot;&quot;Create a backup of the current db file.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_backup-31"><a href="#DBShell.do_backup-31"><span class="linenos">31</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating a back up for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_backup-32"><a href="#DBShell.do_backup-32"><span class="linenos">32</span></a>        <span class="n">backup_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">with_stem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s2">_bckup&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_backup-33"><a href="#DBShell.do_backup-33"><span class="linenos">33</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">backup_path</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
+</span><span id="DBShell.do_backup-34"><a href="#DBShell.do_backup-34"><span class="linenos">34</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating backup is complete.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_backup-35"><a href="#DBShell.do_backup-35"><span class="linenos">35</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Backup path: </span><span class="si">{</span><span class="n">backup_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Create a backup of the current db file.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_size" class="classattr">
-                                        <input id="DBManager.do_size-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_size" class="classattr">
+                                        <input id="DBShell.do_size-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">do_size</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arg</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_size-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_size-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_size"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_size-37"><a href="#DBManager.do_size-37"><span class="linenos">37</span></a>    <span class="k">def</span> <span class="nf">do_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager.do_size-38"><a href="#DBManager.do_size-38"><span class="linenos">38</span></a>        <span class="sd">&quot;&quot;&quot;Display the size of the the current db file.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_size-39"><a href="#DBManager.do_size-39"><span class="linenos">39</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_size"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_size-37"><a href="#DBShell.do_size-37"><span class="linenos">37</span></a>    <span class="k">def</span> <span class="nf">do_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell.do_size-38"><a href="#DBShell.do_size-38"><span class="linenos">38</span></a>        <span class="sd">&quot;&quot;&quot;Display the size of the the current db file.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_size-39"><a href="#DBShell.do_size-39"><span class="linenos">39</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Display the size of the the current db file.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_add_table" class="classattr">
-                                        <input id="DBManager.do_add_table-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_add_table" class="classattr">
+                                        <input id="DBShell.do_add_table-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
                     <div class="decorator">@argshell.with_parser(dbparsers.get_create_table_parser)</div>
 
         <span class="def">def</span>
         <span class="name">do_add_table</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_add_table-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_add_table-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_add_table"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_add_table-41"><a href="#DBManager.do_add_table-41"><span class="linenos">41</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_create_table_parser</span><span class="p">)</span>
-</span><span id="DBManager.do_add_table-42"><a href="#DBManager.do_add_table-42"><span class="linenos">42</span></a>    <span class="k">def</span> <span class="nf">do_add_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager.do_add_table-43"><a href="#DBManager.do_add_table-43"><span class="linenos">43</span></a>        <span class="sd">&quot;&quot;&quot;Add a new table to the database.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_add_table-44"><a href="#DBManager.do_add_table-44"><span class="linenos">44</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager.do_add_table-45"><a href="#DBManager.do_add_table-45"><span class="linenos">45</span></a>            <span class="n">db</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_add_table"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_add_table-41"><a href="#DBShell.do_add_table-41"><span class="linenos">41</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_create_table_parser</span><span class="p">)</span>
+</span><span id="DBShell.do_add_table-42"><a href="#DBShell.do_add_table-42"><span class="linenos">42</span></a>    <span class="k">def</span> <span class="nf">do_add_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell.do_add_table-43"><a href="#DBShell.do_add_table-43"><span class="linenos">43</span></a>        <span class="sd">&quot;&quot;&quot;Add a new table to the database.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_add_table-44"><a href="#DBShell.do_add_table-44"><span class="linenos">44</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell.do_add_table-45"><a href="#DBShell.do_add_table-45"><span class="linenos">45</span></a>            <span class="n">db</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Add a new table to the database.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_drop_table" class="classattr">
-                                        <input id="DBManager.do_drop_table-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_drop_table" class="classattr">
+                                        <input id="DBShell.do_drop_table-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">do_drop_table</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arg</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_drop_table-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_drop_table-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_drop_table"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_drop_table-47"><a href="#DBManager.do_drop_table-47"><span class="linenos">47</span></a>    <span class="k">def</span> <span class="nf">do_drop_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager.do_drop_table-48"><a href="#DBManager.do_drop_table-48"><span class="linenos">48</span></a>        <span class="sd">&quot;&quot;&quot;Drop the specified table.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_drop_table-49"><a href="#DBManager.do_drop_table-49"><span class="linenos">49</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager.do_drop_table-50"><a href="#DBManager.do_drop_table-50"><span class="linenos">50</span></a>            <span class="n">db</span><span class="o">.</span><span class="n">drop_table</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_drop_table"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_drop_table-47"><a href="#DBShell.do_drop_table-47"><span class="linenos">47</span></a>    <span class="k">def</span> <span class="nf">do_drop_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell.do_drop_table-48"><a href="#DBShell.do_drop_table-48"><span class="linenos">48</span></a>        <span class="sd">&quot;&quot;&quot;Drop the specified table.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_drop_table-49"><a href="#DBShell.do_drop_table-49"><span class="linenos">49</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell.do_drop_table-50"><a href="#DBShell.do_drop_table-50"><span class="linenos">50</span></a>            <span class="n">db</span><span class="o">.</span><span class="n">drop_table</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Drop the specified table.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_add_row" class="classattr">
-                                        <input id="DBManager.do_add_row-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_add_row" class="classattr">
+                                        <input id="DBShell.do_add_row-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
                     <div class="decorator">@argshell.with_parser(dbparsers.get_add_row_parser, [dbparsers.verify_matching_length])</div>
 
         <span class="def">def</span>
         <span class="name">do_add_row</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_add_row-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_add_row-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_add_row"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_add_row-52"><a href="#DBManager.do_add_row-52"><span class="linenos">52</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span>
-</span><span id="DBManager.do_add_row-53"><a href="#DBManager.do_add_row-53"><span class="linenos">53</span></a>        <span class="n">dbparsers</span><span class="o">.</span><span class="n">get_add_row_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">verify_matching_length</span><span class="p">]</span>
-</span><span id="DBManager.do_add_row-54"><a href="#DBManager.do_add_row-54"><span class="linenos">54</span></a>    <span class="p">)</span>
-</span><span id="DBManager.do_add_row-55"><a href="#DBManager.do_add_row-55"><span class="linenos">55</span></a>    <span class="k">def</span> <span class="nf">do_add_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager.do_add_row-56"><a href="#DBManager.do_add_row-56"><span class="linenos">56</span></a>        <span class="sd">&quot;&quot;&quot;Add a row to a table.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_add_row-57"><a href="#DBManager.do_add_row-57"><span class="linenos">57</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager.do_add_row-58"><a href="#DBManager.do_add_row-58"><span class="linenos">58</span></a>            <span class="n">db</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_add_row"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_add_row-52"><a href="#DBShell.do_add_row-52"><span class="linenos">52</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span>
+</span><span id="DBShell.do_add_row-53"><a href="#DBShell.do_add_row-53"><span class="linenos">53</span></a>        <span class="n">dbparsers</span><span class="o">.</span><span class="n">get_add_row_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">verify_matching_length</span><span class="p">]</span>
+</span><span id="DBShell.do_add_row-54"><a href="#DBShell.do_add_row-54"><span class="linenos">54</span></a>    <span class="p">)</span>
+</span><span id="DBShell.do_add_row-55"><a href="#DBShell.do_add_row-55"><span class="linenos">55</span></a>    <span class="k">def</span> <span class="nf">do_add_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell.do_add_row-56"><a href="#DBShell.do_add_row-56"><span class="linenos">56</span></a>        <span class="sd">&quot;&quot;&quot;Add a row to a table.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_add_row-57"><a href="#DBShell.do_add_row-57"><span class="linenos">57</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell.do_add_row-58"><a href="#DBShell.do_add_row-58"><span class="linenos">58</span></a>            <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">):</span>
+</span><span id="DBShell.do_add_row-59"><a href="#DBShell.do_add_row-59"><span class="linenos">59</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Added row to </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="si">}</span><span class="s2"> table successfully.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_add_row-60"><a href="#DBShell.do_add_row-60"><span class="linenos">60</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell.do_add_row-61"><a href="#DBShell.do_add_row-61"><span class="linenos">61</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to add row to </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">table_name</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Add a row to a table.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_info" class="classattr">
-                                        <input id="DBManager.do_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_info" class="classattr">
+                                        <input id="DBShell.do_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
-            
+                    <div class="decorator">@argshell.with_parser(dbparsers.get_info_parser)</div>
+
         <span class="def">def</span>
-        <span class="name">do_info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arg</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>
+        <span class="name">do_info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_info-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_info-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_info"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_info-60"><a href="#DBManager.do_info-60"><span class="linenos">60</span></a>    <span class="k">def</span> <span class="nf">do_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager.do_info-61"><a href="#DBManager.do_info-61"><span class="linenos">61</span></a>        <span class="sd">&quot;&quot;&quot;Print out the names of the database tables, their columns, and the number of rows.</span>
-</span><span id="DBManager.do_info-62"><a href="#DBManager.do_info-62"><span class="linenos">62</span></a><span class="sd">        Pass a space-separated list of table names to only print info for those specific tables,</span>
-</span><span id="DBManager.do_info-63"><a href="#DBManager.do_info-63"><span class="linenos">63</span></a><span class="sd">        otherwise all tables will be printed.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_info-64"><a href="#DBManager.do_info-64"><span class="linenos">64</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Getting database info...&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_info-65"><a href="#DBManager.do_info-65"><span class="linenos">65</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager.do_info-66"><a href="#DBManager.do_info-66"><span class="linenos">66</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager.do_info-67"><a href="#DBManager.do_info-67"><span class="linenos">67</span></a>            <span class="n">info</span> <span class="o">=</span> <span class="p">[</span>
-</span><span id="DBManager.do_info-68"><a href="#DBManager.do_info-68"><span class="linenos">68</span></a>                <span class="p">{</span>
-</span><span id="DBManager.do_info-69"><a href="#DBManager.do_info-69"><span class="linenos">69</span></a>                    <span class="s2">&quot;Table Name&quot;</span><span class="p">:</span> <span class="n">table</span><span class="p">,</span>
-</span><span id="DBManager.do_info-70"><a href="#DBManager.do_info-70"><span class="linenos">70</span></a>                    <span class="s2">&quot;Columns&quot;</span><span class="p">:</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)),</span>
-</span><span id="DBManager.do_info-71"><a href="#DBManager.do_info-71"><span class="linenos">71</span></a>                    <span class="s2">&quot;Number of Rows&quot;</span><span class="p">:</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">),</span>
-</span><span id="DBManager.do_info-72"><a href="#DBManager.do_info-72"><span class="linenos">72</span></a>                <span class="p">}</span>
-</span><span id="DBManager.do_info-73"><a href="#DBManager.do_info-73"><span class="linenos">73</span></a>                <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span>
-</span><span id="DBManager.do_info-74"><a href="#DBManager.do_info-74"><span class="linenos">74</span></a>            <span class="p">]</span>
-</span><span id="DBManager.do_info-75"><a href="#DBManager.do_info-75"><span class="linenos">75</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">info</span><span class="p">))</span>
+    <a class="headerlink" href="#DBShell.do_info"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_info-63"><a href="#DBShell.do_info-63"><span class="linenos">63</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_info_parser</span><span class="p">)</span>
+</span><span id="DBShell.do_info-64"><a href="#DBShell.do_info-64"><span class="linenos">64</span></a>    <span class="k">def</span> <span class="nf">do_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell.do_info-65"><a href="#DBShell.do_info-65"><span class="linenos">65</span></a>        <span class="sd">&quot;&quot;&quot;Print out the names of the database tables, their columns, and, optionally, the number of rows.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_info-66"><a href="#DBShell.do_info-66"><span class="linenos">66</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Getting database info...&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_info-67"><a href="#DBShell.do_info-67"><span class="linenos">67</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell.do_info-68"><a href="#DBShell.do_info-68"><span class="linenos">68</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell.do_info-69"><a href="#DBShell.do_info-69"><span class="linenos">69</span></a>            <span class="n">info</span> <span class="o">=</span> <span class="p">[</span>
+</span><span id="DBShell.do_info-70"><a href="#DBShell.do_info-70"><span class="linenos">70</span></a>                <span class="p">{</span>
+</span><span id="DBShell.do_info-71"><a href="#DBShell.do_info-71"><span class="linenos">71</span></a>                    <span class="s2">&quot;Table Name&quot;</span><span class="p">:</span> <span class="n">table</span><span class="p">,</span>
+</span><span id="DBShell.do_info-72"><a href="#DBShell.do_info-72"><span class="linenos">72</span></a>                    <span class="s2">&quot;Columns&quot;</span><span class="p">:</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)),</span>
+</span><span id="DBShell.do_info-73"><a href="#DBShell.do_info-73"><span class="linenos">73</span></a>                    <span class="s2">&quot;Number of Rows&quot;</span><span class="p">:</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">)</span> <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">rowcount</span> <span class="k">else</span> <span class="s2">&quot;n/a&quot;</span><span class="p">,</span>
+</span><span id="DBShell.do_info-74"><a href="#DBShell.do_info-74"><span class="linenos">74</span></a>                <span class="p">}</span>
+</span><span id="DBShell.do_info-75"><a href="#DBShell.do_info-75"><span class="linenos">75</span></a>                <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span>
+</span><span id="DBShell.do_info-76"><a href="#DBShell.do_info-76"><span class="linenos">76</span></a>            <span class="p">]</span>
+</span><span id="DBShell.do_info-77"><a href="#DBShell.do_info-77"><span class="linenos">77</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">info</span><span class="p">))</span>
 </span></pre></div>
 
 
-            <div class="docstring"><p>Print out the names of the database tables, their columns, and the number of rows.
-Pass a space-separated list of table names to only print info for those specific tables,
-otherwise all tables will be printed.</p>
+            <div class="docstring"><p>Print out the names of the database tables, their columns, and, optionally, the number of rows.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_show" class="classattr">
-                                        <input id="DBManager.do_show-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_show" class="classattr">
+                                        <input id="DBShell.do_show-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
                     <div class="decorator">@argshell.with_parser(dbparsers.get_lookup_parser, [dbparsers.convert_match_pairs])</div>
 
         <span class="def">def</span>
         <span class="name">do_show</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_show-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_show-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_show"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_show-77"><a href="#DBManager.do_show-77"><span class="linenos"> 77</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="DBManager.do_show-78"><a href="#DBManager.do_show-78"><span class="linenos"> 78</span></a>    <span class="k">def</span> <span class="nf">do_show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager.do_show-79"><a href="#DBManager.do_show-79"><span class="linenos"> 79</span></a>        <span class="sd">&quot;&quot;&quot;Find and print rows from the database.</span>
-</span><span id="DBManager.do_show-80"><a href="#DBManager.do_show-80"><span class="linenos"> 80</span></a><span class="sd">        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit the search.</span>
-</span><span id="DBManager.do_show-81"><a href="#DBManager.do_show-81"><span class="linenos"> 81</span></a><span class="sd">        Use the -c/--columns flag to limit what columns are printed.</span>
-</span><span id="DBManager.do_show-82"><a href="#DBManager.do_show-82"><span class="linenos"> 82</span></a><span class="sd">        Use the -o/--order_by flag to order the results.</span>
-</span><span id="DBManager.do_show-83"><a href="#DBManager.do_show-83"><span class="linenos"> 83</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs</span>
-</span><span id="DBManager.do_show-84"><a href="#DBManager.do_show-84"><span class="linenos"> 84</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_show-85"><a href="#DBManager.do_show-85"><span class="linenos"> 85</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Finding records... &quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_show-86"><a href="#DBManager.do_show-86"><span class="linenos"> 86</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
-</span><span id="DBManager.do_show-87"><a href="#DBManager.do_show-87"><span class="linenos"> 87</span></a>            <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="kc">None</span>
-</span><span id="DBManager.do_show-88"><a href="#DBManager.do_show-88"><span class="linenos"> 88</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager.do_show-89"><a href="#DBManager.do_show-89"><span class="linenos"> 89</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager.do_show-90"><a href="#DBManager.do_show-90"><span class="linenos"> 90</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager.do_show-91"><a href="#DBManager.do_show-91"><span class="linenos"> 91</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
-</span><span id="DBManager.do_show-92"><a href="#DBManager.do_show-92"><span class="linenos"> 92</span></a>                    <span class="n">table</span><span class="p">,</span>
-</span><span id="DBManager.do_show-93"><a href="#DBManager.do_show-93"><span class="linenos"> 93</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span>
-</span><span id="DBManager.do_show-94"><a href="#DBManager.do_show-94"><span class="linenos"> 94</span></a>                    <span class="n">columns_to_return</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
-</span><span id="DBManager.do_show-95"><a href="#DBManager.do_show-95"><span class="linenos"> 95</span></a>                    <span class="n">order_by</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">order_by</span><span class="p">,</span>
-</span><span id="DBManager.do_show-96"><a href="#DBManager.do_show-96"><span class="linenos"> 96</span></a>                    <span class="n">limit</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">limit</span><span class="p">,</span>
-</span><span id="DBManager.do_show-97"><a href="#DBManager.do_show-97"><span class="linenos"> 97</span></a>                    <span class="n">exact_match</span><span class="o">=</span><span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">,</span>
-</span><span id="DBManager.do_show-98"><a href="#DBManager.do_show-98"><span class="linenos"> 98</span></a>                <span class="p">)</span>
-</span><span id="DBManager.do_show-99"><a href="#DBManager.do_show-99"><span class="linenos"> 99</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
-</span><span id="DBManager.do_show-100"><a href="#DBManager.do_show-100"><span class="linenos">100</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table:&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_show-101"><a href="#DBManager.do_show-101"><span class="linenos">101</span></a>                <span class="k">try</span><span class="p">:</span>
-</span><span id="DBManager.do_show-102"><a href="#DBManager.do_show-102"><span class="linenos">102</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
-</span><span id="DBManager.do_show-103"><a href="#DBManager.do_show-103"><span class="linenos">103</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DBManager.do_show-104"><a href="#DBManager.do_show-104"><span class="linenos">104</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t fit data into a grid.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_show-105"><a href="#DBManager.do_show-105"><span class="linenos">105</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">results</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_show-106"><a href="#DBManager.do_show-106"><span class="linenos">106</span></a>                <span class="nb">print</span><span class="p">()</span>
+    <a class="headerlink" href="#DBShell.do_show"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_show-79"><a href="#DBShell.do_show-79"><span class="linenos"> 79</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="DBShell.do_show-80"><a href="#DBShell.do_show-80"><span class="linenos"> 80</span></a>    <span class="k">def</span> <span class="nf">do_show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell.do_show-81"><a href="#DBShell.do_show-81"><span class="linenos"> 81</span></a>        <span class="sd">&quot;&quot;&quot;Find and print rows from the database.</span>
+</span><span id="DBShell.do_show-82"><a href="#DBShell.do_show-82"><span class="linenos"> 82</span></a><span class="sd">        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit the search.</span>
+</span><span id="DBShell.do_show-83"><a href="#DBShell.do_show-83"><span class="linenos"> 83</span></a><span class="sd">        Use the -c/--columns flag to limit what columns are printed.</span>
+</span><span id="DBShell.do_show-84"><a href="#DBShell.do_show-84"><span class="linenos"> 84</span></a><span class="sd">        Use the -o/--order_by flag to order the results.</span>
+</span><span id="DBShell.do_show-85"><a href="#DBShell.do_show-85"><span class="linenos"> 85</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs</span>
+</span><span id="DBShell.do_show-86"><a href="#DBShell.do_show-86"><span class="linenos"> 86</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_show-87"><a href="#DBShell.do_show-87"><span class="linenos"> 87</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Finding records... &quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_show-88"><a href="#DBShell.do_show-88"><span class="linenos"> 88</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
+</span><span id="DBShell.do_show-89"><a href="#DBShell.do_show-89"><span class="linenos"> 89</span></a>            <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="kc">None</span>
+</span><span id="DBShell.do_show-90"><a href="#DBShell.do_show-90"><span class="linenos"> 90</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell.do_show-91"><a href="#DBShell.do_show-91"><span class="linenos"> 91</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell.do_show-92"><a href="#DBShell.do_show-92"><span class="linenos"> 92</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell.do_show-93"><a href="#DBShell.do_show-93"><span class="linenos"> 93</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_rows</span><span class="p">(</span>
+</span><span id="DBShell.do_show-94"><a href="#DBShell.do_show-94"><span class="linenos"> 94</span></a>                    <span class="n">table</span><span class="p">,</span>
+</span><span id="DBShell.do_show-95"><a href="#DBShell.do_show-95"><span class="linenos"> 95</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span>
+</span><span id="DBShell.do_show-96"><a href="#DBShell.do_show-96"><span class="linenos"> 96</span></a>                    <span class="n">columns_to_return</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
+</span><span id="DBShell.do_show-97"><a href="#DBShell.do_show-97"><span class="linenos"> 97</span></a>                    <span class="n">order_by</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">order_by</span><span class="p">,</span>
+</span><span id="DBShell.do_show-98"><a href="#DBShell.do_show-98"><span class="linenos"> 98</span></a>                    <span class="n">limit</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">limit</span><span class="p">,</span>
+</span><span id="DBShell.do_show-99"><a href="#DBShell.do_show-99"><span class="linenos"> 99</span></a>                    <span class="n">exact_match</span><span class="o">=</span><span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">,</span>
+</span><span id="DBShell.do_show-100"><a href="#DBShell.do_show-100"><span class="linenos">100</span></a>                <span class="p">)</span>
+</span><span id="DBShell.do_show-101"><a href="#DBShell.do_show-101"><span class="linenos">101</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
+</span><span id="DBShell.do_show-102"><a href="#DBShell.do_show-102"><span class="linenos">102</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table:&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_show-103"><a href="#DBShell.do_show-103"><span class="linenos">103</span></a>                <span class="k">try</span><span class="p">:</span>
+</span><span id="DBShell.do_show-104"><a href="#DBShell.do_show-104"><span class="linenos">104</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
+</span><span id="DBShell.do_show-105"><a href="#DBShell.do_show-105"><span class="linenos">105</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DBShell.do_show-106"><a href="#DBShell.do_show-106"><span class="linenos">106</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t fit data into a grid.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_show-107"><a href="#DBShell.do_show-107"><span class="linenos">107</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">results</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_show-108"><a href="#DBShell.do_show-108"><span class="linenos">108</span></a>                <span class="nb">print</span><span class="p">()</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Find and print rows from the database.
 Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit the search.
 Use the -c/--columns flag to limit what columns are printed.
 Use the -o/--order_by flag to order the results.
 Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs
 Pass -h/--help flag for parser help.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_search" class="classattr">
-                                        <input id="DBManager.do_search-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_search" class="classattr">
+                                        <input id="DBShell.do_search-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
                     <div class="decorator">@argshell.with_parser(dbparsers.get_search_parser)</div>
 
         <span class="def">def</span>
         <span class="name">do_search</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_search-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_search-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_search"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_search-108"><a href="#DBManager.do_search-108"><span class="linenos">108</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_search_parser</span><span class="p">)</span>
-</span><span id="DBManager.do_search-109"><a href="#DBManager.do_search-109"><span class="linenos">109</span></a>    <span class="k">def</span> <span class="nf">do_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager.do_search-110"><a href="#DBManager.do_search-110"><span class="linenos">110</span></a>        <span class="sd">&quot;&quot;&quot;Search and return any rows containg the searched substring in any of its columns.</span>
-</span><span id="DBManager.do_search-111"><a href="#DBManager.do_search-111"><span class="linenos">111</span></a><span class="sd">        Use the -t/--tables flag to limit the search to a specific table(s).</span>
-</span><span id="DBManager.do_search-112"><a href="#DBManager.do_search-112"><span class="linenos">112</span></a><span class="sd">        Use the -c/--columns flag to limit the search to a specific column(s).&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_search-113"><a href="#DBManager.do_search-113"><span class="linenos">113</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Searching for </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_search-114"><a href="#DBManager.do_search-114"><span class="linenos">114</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager.do_search-115"><a href="#DBManager.do_search-115"><span class="linenos">115</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager.do_search-116"><a href="#DBManager.do_search-116"><span class="linenos">116</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager.do_search-117"><a href="#DBManager.do_search-117"><span class="linenos">117</span></a>                <span class="n">columns</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
-</span><span id="DBManager.do_search-118"><a href="#DBManager.do_search-118"><span class="linenos">118</span></a>                <span class="n">matcher</span> <span class="o">=</span> <span class="s2">&quot; OR &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
-</span><span id="DBManager.do_search-119"><a href="#DBManager.do_search-119"><span class="linenos">119</span></a>                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1"> LIKE &quot;%</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s1">%&quot;&#39;</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span>
-</span><span id="DBManager.do_search-120"><a href="#DBManager.do_search-120"><span class="linenos">120</span></a>                <span class="p">)</span>
-</span><span id="DBManager.do_search-121"><a href="#DBManager.do_search-121"><span class="linenos">121</span></a>                <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT * FROM </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> WHERE </span><span class="si">{</span><span class="n">matcher</span><span class="si">}</span><span class="s2">;&quot;</span>
-</span><span id="DBManager.do_search-122"><a href="#DBManager.do_search-122"><span class="linenos">122</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
-</span><span id="DBManager.do_search-123"><a href="#DBManager.do_search-123"><span class="linenos">123</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">db</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
-</span><span id="DBManager.do_search-124"><a href="#DBManager.do_search-124"><span class="linenos">124</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> results in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_search-125"><a href="#DBManager.do_search-125"><span class="linenos">125</span></a>                <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
+    <a class="headerlink" href="#DBShell.do_search"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_search-110"><a href="#DBShell.do_search-110"><span class="linenos">110</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_search_parser</span><span class="p">)</span>
+</span><span id="DBShell.do_search-111"><a href="#DBShell.do_search-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="nf">do_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell.do_search-112"><a href="#DBShell.do_search-112"><span class="linenos">112</span></a>        <span class="sd">&quot;&quot;&quot;Search and return any rows containg the searched substring in any of its columns.</span>
+</span><span id="DBShell.do_search-113"><a href="#DBShell.do_search-113"><span class="linenos">113</span></a><span class="sd">        Use the -t/--tables flag to limit the search to a specific table(s).</span>
+</span><span id="DBShell.do_search-114"><a href="#DBShell.do_search-114"><span class="linenos">114</span></a><span class="sd">        Use the -c/--columns flag to limit the search to a specific column(s).&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_search-115"><a href="#DBShell.do_search-115"><span class="linenos">115</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Searching for </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_search-116"><a href="#DBShell.do_search-116"><span class="linenos">116</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell.do_search-117"><a href="#DBShell.do_search-117"><span class="linenos">117</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell.do_search-118"><a href="#DBShell.do_search-118"><span class="linenos">118</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell.do_search-119"><a href="#DBShell.do_search-119"><span class="linenos">119</span></a>                <span class="n">columns</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
+</span><span id="DBShell.do_search-120"><a href="#DBShell.do_search-120"><span class="linenos">120</span></a>                <span class="n">matcher</span> <span class="o">=</span> <span class="s2">&quot; OR &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
+</span><span id="DBShell.do_search-121"><a href="#DBShell.do_search-121"><span class="linenos">121</span></a>                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1"> LIKE &quot;%</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">search_string</span><span class="si">}</span><span class="s1">%&quot;&#39;</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span>
+</span><span id="DBShell.do_search-122"><a href="#DBShell.do_search-122"><span class="linenos">122</span></a>                <span class="p">)</span>
+</span><span id="DBShell.do_search-123"><a href="#DBShell.do_search-123"><span class="linenos">123</span></a>                <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT * FROM </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> WHERE </span><span class="si">{</span><span class="n">matcher</span><span class="si">}</span><span class="s2">;&quot;</span>
+</span><span id="DBShell.do_search-124"><a href="#DBShell.do_search-124"><span class="linenos">124</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
+</span><span id="DBShell.do_search-125"><a href="#DBShell.do_search-125"><span class="linenos">125</span></a>                <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">db</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
+</span><span id="DBShell.do_search-126"><a href="#DBShell.do_search-126"><span class="linenos">126</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> results in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_search-127"><a href="#DBShell.do_search-127"><span class="linenos">127</span></a>                <span class="nb">print</span><span class="p">(</span><span class="n">DataBased</span><span class="o">.</span><span class="n">data_to_string</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Search and return any rows containg the searched substring in any of its columns.
 Use the -t/--tables flag to limit the search to a specific table(s).
 Use the -c/--columns flag to limit the search to a specific column(s).</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_count" class="classattr">
-                                        <input id="DBManager.do_count-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_count" class="classattr">
+                                        <input id="DBShell.do_count-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
                     <div class="decorator">@argshell.with_parser(dbparsers.get_lookup_parser, [dbparsers.convert_match_pairs])</div>
 
         <span class="def">def</span>
         <span class="name">do_count</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_count-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_count-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_count"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_count-127"><a href="#DBManager.do_count-127"><span class="linenos">127</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="DBManager.do_count-128"><a href="#DBManager.do_count-128"><span class="linenos">128</span></a>    <span class="k">def</span> <span class="nf">do_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager.do_count-129"><a href="#DBManager.do_count-129"><span class="linenos">129</span></a>        <span class="sd">&quot;&quot;&quot;Print the number of rows in the database.</span>
-</span><span id="DBManager.do_count-130"><a href="#DBManager.do_count-130"><span class="linenos">130</span></a><span class="sd">        Use the -t/--tables flag to limit results to a specific table(s).</span>
-</span><span id="DBManager.do_count-131"><a href="#DBManager.do_count-131"><span class="linenos">131</span></a><span class="sd">        Use the -m/--match_pairs flag to limit the results to rows matching these criteria.</span>
-</span><span id="DBManager.do_count-132"><a href="#DBManager.do_count-132"><span class="linenos">132</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
-</span><span id="DBManager.do_count-133"><a href="#DBManager.do_count-133"><span class="linenos">133</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_count-134"><a href="#DBManager.do_count-134"><span class="linenos">134</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Counting rows...&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_count-135"><a href="#DBManager.do_count-135"><span class="linenos">135</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager.do_count-136"><a href="#DBManager.do_count-136"><span class="linenos">136</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager.do_count-137"><a href="#DBManager.do_count-137"><span class="linenos">137</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager.do_count-138"><a href="#DBManager.do_count-138"><span class="linenos">138</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
-</span><span id="DBManager.do_count-139"><a href="#DBManager.do_count-139"><span class="linenos">139</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_count"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_count-129"><a href="#DBShell.do_count-129"><span class="linenos">129</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="DBShell.do_count-130"><a href="#DBShell.do_count-130"><span class="linenos">130</span></a>    <span class="k">def</span> <span class="nf">do_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell.do_count-131"><a href="#DBShell.do_count-131"><span class="linenos">131</span></a>        <span class="sd">&quot;&quot;&quot;Print the number of rows in the database.</span>
+</span><span id="DBShell.do_count-132"><a href="#DBShell.do_count-132"><span class="linenos">132</span></a><span class="sd">        Use the -t/--tables flag to limit results to a specific table(s).</span>
+</span><span id="DBShell.do_count-133"><a href="#DBShell.do_count-133"><span class="linenos">133</span></a><span class="sd">        Use the -m/--match_pairs flag to limit the results to rows matching these criteria.</span>
+</span><span id="DBShell.do_count-134"><a href="#DBShell.do_count-134"><span class="linenos">134</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
+</span><span id="DBShell.do_count-135"><a href="#DBShell.do_count-135"><span class="linenos">135</span></a><span class="sd">        Pass -h/--help flag for parser help.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_count-136"><a href="#DBShell.do_count-136"><span class="linenos">136</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Counting rows...&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_count-137"><a href="#DBShell.do_count-137"><span class="linenos">137</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell.do_count-138"><a href="#DBShell.do_count-138"><span class="linenos">138</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell.do_count-139"><a href="#DBShell.do_count-139"><span class="linenos">139</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell.do_count-140"><a href="#DBShell.do_count-140"><span class="linenos">140</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
+</span><span id="DBShell.do_count-141"><a href="#DBShell.do_count-141"><span class="linenos">141</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> matching rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Print the number of rows in the database.
 Use the -t/--tables flag to limit results to a specific table(s).
 Use the -m/--match_pairs flag to limit the results to rows matching these criteria.
 Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.
 Pass -h/--help flag for parser help.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_query" class="classattr">
-                                        <input id="DBManager.do_query-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_query" class="classattr">
+                                        <input id="DBShell.do_query-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">do_query</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arg</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_query-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_query-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_query"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_query-141"><a href="#DBManager.do_query-141"><span class="linenos">141</span></a>    <span class="k">def</span> <span class="nf">do_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager.do_query-142"><a href="#DBManager.do_query-142"><span class="linenos">142</span></a>        <span class="sd">&quot;&quot;&quot;Execute a query against the current database.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_query-143"><a href="#DBManager.do_query-143"><span class="linenos">143</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Executing </span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_query-144"><a href="#DBManager.do_query-144"><span class="linenos">144</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager.do_query-145"><a href="#DBManager.do_query-145"><span class="linenos">145</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
-</span><span id="DBManager.do_query-146"><a href="#DBManager.do_query-146"><span class="linenos">146</span></a>        <span class="k">try</span><span class="p">:</span>
-</span><span id="DBManager.do_query-147"><a href="#DBManager.do_query-147"><span class="linenos">147</span></a>            <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
-</span><span id="DBManager.do_query-148"><a href="#DBManager.do_query-148"><span class="linenos">148</span></a>                <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">result</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;|-|&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_query-149"><a href="#DBManager.do_query-149"><span class="linenos">149</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
-</span><span id="DBManager.do_query-150"><a href="#DBManager.do_query-150"><span class="linenos">150</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_query"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_query-143"><a href="#DBShell.do_query-143"><span class="linenos">143</span></a>    <span class="k">def</span> <span class="nf">do_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell.do_query-144"><a href="#DBShell.do_query-144"><span class="linenos">144</span></a>        <span class="sd">&quot;&quot;&quot;Execute a query against the current database.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_query-145"><a href="#DBShell.do_query-145"><span class="linenos">145</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Executing </span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_query-146"><a href="#DBShell.do_query-146"><span class="linenos">146</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell.do_query-147"><a href="#DBShell.do_query-147"><span class="linenos">147</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
+</span><span id="DBShell.do_query-148"><a href="#DBShell.do_query-148"><span class="linenos">148</span></a>        <span class="k">try</span><span class="p">:</span>
+</span><span id="DBShell.do_query-149"><a href="#DBShell.do_query-149"><span class="linenos">149</span></a>            <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
+</span><span id="DBShell.do_query-150"><a href="#DBShell.do_query-150"><span class="linenos">150</span></a>                <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">result</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;|-|&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_query-151"><a href="#DBShell.do_query-151"><span class="linenos">151</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">db</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span><span class="si">}</span><span class="s2"> affected rows&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_query-152"><a href="#DBShell.do_query-152"><span class="linenos">152</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
+</span><span id="DBShell.do_query-153"><a href="#DBShell.do_query-153"><span class="linenos">153</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Execute a query against the current database.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_update" class="classattr">
-                                        <input id="DBManager.do_update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_update" class="classattr">
+                                        <input id="DBShell.do_update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
                     <div class="decorator">@argshell.with_parser(dbparsers.get_update_parser, [dbparsers.convert_match_pairs])</div>
 
         <span class="def">def</span>
         <span class="name">do_update</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_update-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_update-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_update"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_update-152"><a href="#DBManager.do_update-152"><span class="linenos">152</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_update_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="DBManager.do_update-153"><a href="#DBManager.do_update-153"><span class="linenos">153</span></a>    <span class="k">def</span> <span class="nf">do_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager.do_update-154"><a href="#DBManager.do_update-154"><span class="linenos">154</span></a>        <span class="sd">&quot;&quot;&quot;Update a column to a new value.</span>
-</span><span id="DBManager.do_update-155"><a href="#DBManager.do_update-155"><span class="linenos">155</span></a><span class="sd">        Two required args: the column (-c/--column) to update and the value (-v/--value) to update to.</span>
-</span><span id="DBManager.do_update-156"><a href="#DBManager.do_update-156"><span class="linenos">156</span></a><span class="sd">        Use the -t/--tables flag to limit what tables are updated.</span>
-</span><span id="DBManager.do_update-157"><a href="#DBManager.do_update-157"><span class="linenos">157</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are updated.</span>
-</span><span id="DBManager.do_update-158"><a href="#DBManager.do_update-158"><span class="linenos">158</span></a><span class="sd">        &gt;&gt;&gt; based&gt;update -c username -v big_chungus -t users -m username lil_chungus</span>
-</span><span id="DBManager.do_update-159"><a href="#DBManager.do_update-159"><span class="linenos">159</span></a>
-</span><span id="DBManager.do_update-160"><a href="#DBManager.do_update-160"><span class="linenos">160</span></a><span class="sd">        ^will update the username in the users &#39;table&#39; to &#39;big_chungus&#39; where the username is currently &#39;lil_chungus&#39;^&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_update-161"><a href="#DBManager.do_update-161"><span class="linenos">161</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Updating rows...&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_update-162"><a href="#DBManager.do_update-162"><span class="linenos">162</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager.do_update-163"><a href="#DBManager.do_update-163"><span class="linenos">163</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager.do_update-164"><a href="#DBManager.do_update-164"><span class="linenos">164</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager.do_update-165"><a href="#DBManager.do_update-165"><span class="linenos">165</span></a>                <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">column</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">new_value</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">):</span>
-</span><span id="DBManager.do_update-166"><a href="#DBManager.do_update-166"><span class="linenos">166</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updating rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table successful.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_update-167"><a href="#DBManager.do_update-167"><span class="linenos">167</span></a>                <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager.do_update-168"><a href="#DBManager.do_update-168"><span class="linenos">168</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to update rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_update"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_update-155"><a href="#DBShell.do_update-155"><span class="linenos">155</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_update_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="DBShell.do_update-156"><a href="#DBShell.do_update-156"><span class="linenos">156</span></a>    <span class="k">def</span> <span class="nf">do_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell.do_update-157"><a href="#DBShell.do_update-157"><span class="linenos">157</span></a>        <span class="sd">&quot;&quot;&quot;Update a column to a new value.</span>
+</span><span id="DBShell.do_update-158"><a href="#DBShell.do_update-158"><span class="linenos">158</span></a><span class="sd">        Two required args: the column (-c/--column) to update and the value (-v/--value) to update to.</span>
+</span><span id="DBShell.do_update-159"><a href="#DBShell.do_update-159"><span class="linenos">159</span></a><span class="sd">        Use the -t/--tables flag to limit what tables are updated.</span>
+</span><span id="DBShell.do_update-160"><a href="#DBShell.do_update-160"><span class="linenos">160</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are updated.</span>
+</span><span id="DBShell.do_update-161"><a href="#DBShell.do_update-161"><span class="linenos">161</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
+</span><span id="DBShell.do_update-162"><a href="#DBShell.do_update-162"><span class="linenos">162</span></a><span class="sd">        &gt;&gt;&gt; based&gt;update -c username -v big_chungus -t users -m username lil_chungus</span>
+</span><span id="DBShell.do_update-163"><a href="#DBShell.do_update-163"><span class="linenos">163</span></a>
+</span><span id="DBShell.do_update-164"><a href="#DBShell.do_update-164"><span class="linenos">164</span></a><span class="sd">        ^will update the username in the users &#39;table&#39; to &#39;big_chungus&#39; where the username is currently &#39;lil_chungus&#39;^&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_update-165"><a href="#DBShell.do_update-165"><span class="linenos">165</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Updating rows...&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_update-166"><a href="#DBShell.do_update-166"><span class="linenos">166</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell.do_update-167"><a href="#DBShell.do_update-167"><span class="linenos">167</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell.do_update-168"><a href="#DBShell.do_update-168"><span class="linenos">168</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell.do_update-169"><a href="#DBShell.do_update-169"><span class="linenos">169</span></a>                <span class="n">num_updates</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
+</span><span id="DBShell.do_update-170"><a href="#DBShell.do_update-170"><span class="linenos">170</span></a>                    <span class="n">table</span><span class="p">,</span>
+</span><span id="DBShell.do_update-171"><a href="#DBShell.do_update-171"><span class="linenos">171</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">column</span><span class="p">,</span>
+</span><span id="DBShell.do_update-172"><a href="#DBShell.do_update-172"><span class="linenos">172</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">new_value</span><span class="p">,</span>
+</span><span id="DBShell.do_update-173"><a href="#DBShell.do_update-173"><span class="linenos">173</span></a>                    <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span>
+</span><span id="DBShell.do_update-174"><a href="#DBShell.do_update-174"><span class="linenos">174</span></a>                    <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">,</span>
+</span><span id="DBShell.do_update-175"><a href="#DBShell.do_update-175"><span class="linenos">175</span></a>                <span class="p">)</span>
+</span><span id="DBShell.do_update-176"><a href="#DBShell.do_update-176"><span class="linenos">176</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updated </span><span class="si">{</span><span class="n">num_updates</span><span class="si">}</span><span class="s2"> rows in </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Update a column to a new value.
 Two required args: the column (-c/--column) to update and the value (-v/--value) to update to.
 Use the -t/--tables flag to limit what tables are updated.
-Use the -m/--match_pairs flag to specify which rows are updated.</p>
+Use the -m/--match_pairs flag to specify which rows are updated.
+Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</p>
 
 <div class="pdoc-code codehilite">
 <pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">based</span><span class="o">&gt;</span><span class="n">update</span> <span class="o">-</span><span class="n">c</span> <span class="n">username</span> <span class="o">-</span><span class="n">v</span> <span class="n">big_chungus</span> <span class="o">-</span><span class="n">t</span> <span class="n">users</span> <span class="o">-</span><span class="n">m</span> <span class="n">username</span> <span class="n">lil_chungus</span>
 </code></pre>
 </div>
 
 <p>^will update the username in the users 'table' to 'big_chungus' where the username is currently 'lil_chungus'^</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_delete" class="classattr">
-                                        <input id="DBManager.do_delete-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_delete" class="classattr">
+                                        <input id="DBShell.do_delete-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
                     <div class="decorator">@argshell.with_parser(dbparsers.get_lookup_parser, [dbparsers.convert_match_pairs])</div>
 
         <span class="def">def</span>
         <span class="name">do_delete</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_delete-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_delete-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_delete"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_delete-170"><a href="#DBManager.do_delete-170"><span class="linenos">170</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
-</span><span id="DBManager.do_delete-171"><a href="#DBManager.do_delete-171"><span class="linenos">171</span></a>    <span class="k">def</span> <span class="nf">do_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager.do_delete-172"><a href="#DBManager.do_delete-172"><span class="linenos">172</span></a>        <span class="sd">&quot;&quot;&quot;Delete rows from the database.</span>
-</span><span id="DBManager.do_delete-173"><a href="#DBManager.do_delete-173"><span class="linenos">173</span></a><span class="sd">        Use the -t/--tables flag to limit what tables rows are deleted from.</span>
-</span><span id="DBManager.do_delete-174"><a href="#DBManager.do_delete-174"><span class="linenos">174</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are deleted.</span>
-</span><span id="DBManager.do_delete-175"><a href="#DBManager.do_delete-175"><span class="linenos">175</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
-</span><span id="DBManager.do_delete-176"><a href="#DBManager.do_delete-176"><span class="linenos">176</span></a><span class="sd">        &gt;&gt;&gt; based&gt;delete -t users -m username chungus -p</span>
-</span><span id="DBManager.do_delete-177"><a href="#DBManager.do_delete-177"><span class="linenos">177</span></a>
-</span><span id="DBManager.do_delete-178"><a href="#DBManager.do_delete-178"><span class="linenos">178</span></a><span class="sd">        ^will delete all rows in the &#39;users&#39; table whose username contains &#39;chungus&#39;^&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_delete-179"><a href="#DBManager.do_delete-179"><span class="linenos">179</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deleting records...&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_delete-180"><a href="#DBManager.do_delete-180"><span class="linenos">180</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager.do_delete-181"><a href="#DBManager.do_delete-181"><span class="linenos">181</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager.do_delete-182"><a href="#DBManager.do_delete-182"><span class="linenos">182</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager.do_delete-183"><a href="#DBManager.do_delete-183"><span class="linenos">183</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
-</span><span id="DBManager.do_delete-184"><a href="#DBManager.do_delete-184"><span class="linenos">184</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleted </span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> rows from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_delete"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_delete-178"><a href="#DBShell.do_delete-178"><span class="linenos">178</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_lookup_parser</span><span class="p">,</span> <span class="p">[</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">convert_match_pairs</span><span class="p">])</span>
+</span><span id="DBShell.do_delete-179"><a href="#DBShell.do_delete-179"><span class="linenos">179</span></a>    <span class="k">def</span> <span class="nf">do_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell.do_delete-180"><a href="#DBShell.do_delete-180"><span class="linenos">180</span></a>        <span class="sd">&quot;&quot;&quot;Delete rows from the database.</span>
+</span><span id="DBShell.do_delete-181"><a href="#DBShell.do_delete-181"><span class="linenos">181</span></a><span class="sd">        Use the -t/--tables flag to limit what tables rows are deleted from.</span>
+</span><span id="DBShell.do_delete-182"><a href="#DBShell.do_delete-182"><span class="linenos">182</span></a><span class="sd">        Use the -m/--match_pairs flag to specify which rows are deleted.</span>
+</span><span id="DBShell.do_delete-183"><a href="#DBShell.do_delete-183"><span class="linenos">183</span></a><span class="sd">        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</span>
+</span><span id="DBShell.do_delete-184"><a href="#DBShell.do_delete-184"><span class="linenos">184</span></a><span class="sd">        &gt;&gt;&gt; based&gt;delete -t users -m username chungus -p</span>
+</span><span id="DBShell.do_delete-185"><a href="#DBShell.do_delete-185"><span class="linenos">185</span></a>
+</span><span id="DBShell.do_delete-186"><a href="#DBShell.do_delete-186"><span class="linenos">186</span></a><span class="sd">        ^will delete all rows in the &#39;users&#39; table whose username contains &#39;chungus&#39;^&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_delete-187"><a href="#DBShell.do_delete-187"><span class="linenos">187</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deleting records...&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_delete-188"><a href="#DBShell.do_delete-188"><span class="linenos">188</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell.do_delete-189"><a href="#DBShell.do_delete-189"><span class="linenos">189</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell.do_delete-190"><a href="#DBShell.do_delete-190"><span class="linenos">190</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell.do_delete-191"><a href="#DBShell.do_delete-191"><span class="linenos">191</span></a>                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">,</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">partial_matching</span><span class="p">)</span>
+</span><span id="DBShell.do_delete-192"><a href="#DBShell.do_delete-192"><span class="linenos">192</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleted </span><span class="si">{</span><span class="n">num_rows</span><span class="si">}</span><span class="s2"> rows from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> table.&quot;</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Delete rows from the database.
 Use the -t/--tables flag to limit what tables rows are deleted from.
 Use the -m/--match_pairs flag to specify which rows are deleted.
 Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.</p>
@@ -1164,218 +1188,218 @@
 </div>
 
 <p>^will delete all rows in the 'users' table whose username contains 'chungus'^</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_add_column" class="classattr">
-                                        <input id="DBManager.do_add_column-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_add_column" class="classattr">
+                                        <input id="DBShell.do_add_column-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
                     <div class="decorator">@argshell.with_parser(dbparsers.get_add_column_parser)</div>
 
         <span class="def">def</span>
         <span class="name">do_add_column</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_add_column-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_add_column-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_add_column"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_add_column-186"><a href="#DBManager.do_add_column-186"><span class="linenos">186</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_add_column_parser</span><span class="p">)</span>
-</span><span id="DBManager.do_add_column-187"><a href="#DBManager.do_add_column-187"><span class="linenos">187</span></a>    <span class="k">def</span> <span class="nf">do_add_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
-</span><span id="DBManager.do_add_column-188"><a href="#DBManager.do_add_column-188"><span class="linenos">188</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to the specified tables.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_add_column-189"><a href="#DBManager.do_add_column-189"><span class="linenos">189</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
-</span><span id="DBManager.do_add_column-190"><a href="#DBManager.do_add_column-190"><span class="linenos">190</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
-</span><span id="DBManager.do_add_column-191"><a href="#DBManager.do_add_column-191"><span class="linenos">191</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
-</span><span id="DBManager.do_add_column-192"><a href="#DBManager.do_add_column-192"><span class="linenos">192</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">column_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">default_value</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_add_column"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_add_column-194"><a href="#DBShell.do_add_column-194"><span class="linenos">194</span></a>    <span class="nd">@argshell</span><span class="o">.</span><span class="n">with_parser</span><span class="p">(</span><span class="n">dbparsers</span><span class="o">.</span><span class="n">get_add_column_parser</span><span class="p">)</span>
+</span><span id="DBShell.do_add_column-195"><a href="#DBShell.do_add_column-195"><span class="linenos">195</span></a>    <span class="k">def</span> <span class="nf">do_add_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
+</span><span id="DBShell.do_add_column-196"><a href="#DBShell.do_add_column-196"><span class="linenos">196</span></a>        <span class="sd">&quot;&quot;&quot;Add a new column to the specified tables.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_add_column-197"><a href="#DBShell.do_add_column-197"><span class="linenos">197</span></a>        <span class="k">with</span> <span class="n">DataBased</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
+</span><span id="DBShell.do_add_column-198"><a href="#DBShell.do_add_column-198"><span class="linenos">198</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">tables</span> <span class="ow">or</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
+</span><span id="DBShell.do_add_column-199"><a href="#DBShell.do_add_column-199"><span class="linenos">199</span></a>            <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">:</span>
+</span><span id="DBShell.do_add_column-200"><a href="#DBShell.do_add_column-200"><span class="linenos">200</span></a>                <span class="n">db</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">column_name</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">default_value</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Add a new column to the specified tables.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_flush_log" class="classattr">
-                                        <input id="DBManager.do_flush_log-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_flush_log" class="classattr">
+                                        <input id="DBShell.do_flush_log-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">do_flush_log</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arg</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_flush_log-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_flush_log-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_flush_log"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_flush_log-194"><a href="#DBManager.do_flush_log-194"><span class="linenos">194</span></a>    <span class="k">def</span> <span class="nf">do_flush_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager.do_flush_log-195"><a href="#DBManager.do_flush_log-195"><span class="linenos">195</span></a>        <span class="sd">&quot;&quot;&quot;Clear the log file for this database.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_flush_log-196"><a href="#DBManager.do_flush_log-196"><span class="linenos">196</span></a>        <span class="n">log_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">stem</span> <span class="o">+</span> <span class="s2">&quot;db.log&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_flush_log-197"><a href="#DBManager.do_flush_log-197"><span class="linenos">197</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">log_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
-</span><span id="DBManager.do_flush_log-198"><a href="#DBManager.do_flush_log-198"><span class="linenos">198</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No log file at path </span><span class="si">{</span><span class="n">log_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_flush_log-199"><a href="#DBManager.do_flush_log-199"><span class="linenos">199</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager.do_flush_log-200"><a href="#DBManager.do_flush_log-200"><span class="linenos">200</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flushing log...&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_flush_log-201"><a href="#DBManager.do_flush_log-201"><span class="linenos">201</span></a>            <span class="n">log_path</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_flush_log"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_flush_log-202"><a href="#DBShell.do_flush_log-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="nf">do_flush_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell.do_flush_log-203"><a href="#DBShell.do_flush_log-203"><span class="linenos">203</span></a>        <span class="sd">&quot;&quot;&quot;Clear the log file for this database.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_flush_log-204"><a href="#DBShell.do_flush_log-204"><span class="linenos">204</span></a>        <span class="n">log_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">stem</span> <span class="o">+</span> <span class="s2">&quot;db.log&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_flush_log-205"><a href="#DBShell.do_flush_log-205"><span class="linenos">205</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">log_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
+</span><span id="DBShell.do_flush_log-206"><a href="#DBShell.do_flush_log-206"><span class="linenos">206</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No log file at path </span><span class="si">{</span><span class="n">log_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_flush_log-207"><a href="#DBShell.do_flush_log-207"><span class="linenos">207</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell.do_flush_log-208"><a href="#DBShell.do_flush_log-208"><span class="linenos">208</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flushing log...&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_flush_log-209"><a href="#DBShell.do_flush_log-209"><span class="linenos">209</span></a>            <span class="n">log_path</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Clear the log file for this database.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_scan_dbs" class="classattr">
-                                        <input id="DBManager.do_scan_dbs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_scan_dbs" class="classattr">
+                                        <input id="DBShell.do_scan_dbs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">do_scan_dbs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arg</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_scan_dbs-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_scan_dbs-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_scan_dbs"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_scan_dbs-203"><a href="#DBManager.do_scan_dbs-203"><span class="linenos">203</span></a>    <span class="k">def</span> <span class="nf">do_scan_dbs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager.do_scan_dbs-204"><a href="#DBManager.do_scan_dbs-204"><span class="linenos">204</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current working directory for `*.db` files and display them.</span>
-</span><span id="DBManager.do_scan_dbs-205"><a href="#DBManager.do_scan_dbs-205"><span class="linenos">205</span></a>
-</span><span id="DBManager.do_scan_dbs-206"><a href="#DBManager.do_scan_dbs-206"><span class="linenos">206</span></a><span class="sd">        If the command is entered as `based&gt;scan_dbs r`, the scan will be performed recursively.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_scan_dbs-207"><a href="#DBManager.do_scan_dbs-207"><span class="linenos">207</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
-</span><span id="DBManager.do_scan_dbs-208"><a href="#DBManager.do_scan_dbs-208"><span class="linenos">208</span></a>        <span class="k">if</span> <span class="n">arg</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span><span class="p">:</span>
-</span><span id="DBManager.do_scan_dbs-209"><a href="#DBManager.do_scan_dbs-209"><span class="linenos">209</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_scan_dbs-210"><a href="#DBManager.do_scan_dbs-210"><span class="linenos">210</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager.do_scan_dbs-211"><a href="#DBManager.do_scan_dbs-211"><span class="linenos">211</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_scan_dbs-212"><a href="#DBManager.do_scan_dbs-212"><span class="linenos">212</span></a>        <span class="k">for</span> <span class="n">db</span> <span class="ow">in</span> <span class="n">dbs</span><span class="p">:</span>
-</span><span id="DBManager.do_scan_dbs-213"><a href="#DBManager.do_scan_dbs-213"><span class="linenos">213</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">stem</span><span class="p">))</span>
+    <a class="headerlink" href="#DBShell.do_scan_dbs"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_scan_dbs-211"><a href="#DBShell.do_scan_dbs-211"><span class="linenos">211</span></a>    <span class="k">def</span> <span class="nf">do_scan_dbs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell.do_scan_dbs-212"><a href="#DBShell.do_scan_dbs-212"><span class="linenos">212</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current working directory for `*.db` files and display them.</span>
+</span><span id="DBShell.do_scan_dbs-213"><a href="#DBShell.do_scan_dbs-213"><span class="linenos">213</span></a>
+</span><span id="DBShell.do_scan_dbs-214"><a href="#DBShell.do_scan_dbs-214"><span class="linenos">214</span></a><span class="sd">        If the command is entered as `based&gt;scan_dbs r`, the scan will be performed recursively.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_scan_dbs-215"><a href="#DBShell.do_scan_dbs-215"><span class="linenos">215</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
+</span><span id="DBShell.do_scan_dbs-216"><a href="#DBShell.do_scan_dbs-216"><span class="linenos">216</span></a>        <span class="k">if</span> <span class="n">arg</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span><span class="p">:</span>
+</span><span id="DBShell.do_scan_dbs-217"><a href="#DBShell.do_scan_dbs-217"><span class="linenos">217</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_scan_dbs-218"><a href="#DBShell.do_scan_dbs-218"><span class="linenos">218</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell.do_scan_dbs-219"><a href="#DBShell.do_scan_dbs-219"><span class="linenos">219</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_scan_dbs-220"><a href="#DBShell.do_scan_dbs-220"><span class="linenos">220</span></a>        <span class="k">for</span> <span class="n">db</span> <span class="ow">in</span> <span class="n">dbs</span><span class="p">:</span>
+</span><span id="DBShell.do_scan_dbs-221"><a href="#DBShell.do_scan_dbs-221"><span class="linenos">221</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">stem</span><span class="p">))</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Scan the current working directory for <code>*.db</code> files and display them.</p>
 
 <p>If the command is entered as <code>based&gt;scan_dbs r</code>, the scan will be performed recursively.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.do_customize" class="classattr">
-                                        <input id="DBManager.do_customize-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.do_customize" class="classattr">
+                                        <input id="DBShell.do_customize-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">do_customize</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arg</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.do_customize-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.do_customize-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.do_customize"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.do_customize-215"><a href="#DBManager.do_customize-215"><span class="linenos">215</span></a>    <span class="k">def</span> <span class="nf">do_customize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
-</span><span id="DBManager.do_customize-216"><a href="#DBManager.do_customize-216"><span class="linenos">216</span></a>        <span class="sd">&quot;&quot;&quot;Generate a template file in the current working directory for creating a custom DBManager class.</span>
-</span><span id="DBManager.do_customize-217"><a href="#DBManager.do_customize-217"><span class="linenos">217</span></a><span class="sd">        Expects one argument: the name of the custom dbmanager.</span>
-</span><span id="DBManager.do_customize-218"><a href="#DBManager.do_customize-218"><span class="linenos">218</span></a><span class="sd">        This will be used to name the generated file as well as several components in the file content.&quot;&quot;&quot;</span>
-</span><span id="DBManager.do_customize-219"><a href="#DBManager.do_customize-219"><span class="linenos">219</span></a>        <span class="n">custom_file</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">arg</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_customize-220"><a href="#DBManager.do_customize-220"><span class="linenos">220</span></a>        <span class="k">if</span> <span class="n">custom_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
-</span><span id="DBManager.do_customize-221"><a href="#DBManager.do_customize-221"><span class="linenos">221</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">custom_file</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> already exists in this location.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.do_customize-222"><a href="#DBManager.do_customize-222"><span class="linenos">222</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager.do_customize-223"><a href="#DBManager.do_customize-223"><span class="linenos">223</span></a>            <span class="n">variable_name</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
-</span><span id="DBManager.do_customize-224"><a href="#DBManager.do_customize-224"><span class="linenos">224</span></a>            <span class="n">class_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
-</span><span id="DBManager.do_customize-225"><a href="#DBManager.do_customize-225"><span class="linenos">225</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;custom_manager.py&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
-</span><span id="DBManager.do_customize-226"><a href="#DBManager.do_customize-226"><span class="linenos">226</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;CustomManager&quot;</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
-</span><span id="DBManager.do_customize-227"><a href="#DBManager.do_customize-227"><span class="linenos">227</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;custommanager&quot;</span><span class="p">,</span> <span class="n">variable_name</span><span class="p">)</span>
-</span><span id="DBManager.do_customize-228"><a href="#DBManager.do_customize-228"><span class="linenos">228</span></a>            <span class="n">custom_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.do_customize"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.do_customize-223"><a href="#DBShell.do_customize-223"><span class="linenos">223</span></a>    <span class="k">def</span> <span class="nf">do_customize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
+</span><span id="DBShell.do_customize-224"><a href="#DBShell.do_customize-224"><span class="linenos">224</span></a>        <span class="sd">&quot;&quot;&quot;Generate a template file in the current working directory for creating a custom DBShell class.</span>
+</span><span id="DBShell.do_customize-225"><a href="#DBShell.do_customize-225"><span class="linenos">225</span></a><span class="sd">        Expects one argument: the name of the custom dbshell.</span>
+</span><span id="DBShell.do_customize-226"><a href="#DBShell.do_customize-226"><span class="linenos">226</span></a><span class="sd">        This will be used to name the generated file as well as several components in the file content.&quot;&quot;&quot;</span>
+</span><span id="DBShell.do_customize-227"><a href="#DBShell.do_customize-227"><span class="linenos">227</span></a>        <span class="n">custom_file</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">arg</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_customize-228"><a href="#DBShell.do_customize-228"><span class="linenos">228</span></a>        <span class="k">if</span> <span class="n">custom_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
+</span><span id="DBShell.do_customize-229"><a href="#DBShell.do_customize-229"><span class="linenos">229</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">custom_file</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> already exists in this location.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.do_customize-230"><a href="#DBShell.do_customize-230"><span class="linenos">230</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell.do_customize-231"><a href="#DBShell.do_customize-231"><span class="linenos">231</span></a>            <span class="n">variable_name</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
+</span><span id="DBShell.do_customize-232"><a href="#DBShell.do_customize-232"><span class="linenos">232</span></a>            <span class="n">class_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
+</span><span id="DBShell.do_customize-233"><a href="#DBShell.do_customize-233"><span class="linenos">233</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pathier</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;customshell.py&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
+</span><span id="DBShell.do_customize-234"><a href="#DBShell.do_customize-234"><span class="linenos">234</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;CustomShell&quot;</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
+</span><span id="DBShell.do_customize-235"><a href="#DBShell.do_customize-235"><span class="linenos">235</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;customshell&quot;</span><span class="p">,</span> <span class="n">variable_name</span><span class="p">)</span>
+</span><span id="DBShell.do_customize-236"><a href="#DBShell.do_customize-236"><span class="linenos">236</span></a>            <span class="n">custom_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
 </span></pre></div>
 
 
-            <div class="docstring"><p>Generate a template file in the current working directory for creating a custom DBManager class.
-Expects one argument: the name of the custom dbmanager.
+            <div class="docstring"><p>Generate a template file in the current working directory for creating a custom DBShell class.
+Expects one argument: the name of the custom dbshell.
 This will be used to name the generated file as well as several components in the file content.</p>
 </div>
 
 
                             </div>
-                            <div id="DBManager.preloop" class="classattr">
-                                        <input id="DBManager.preloop-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+                            <div id="DBShell.preloop" class="classattr">
+                                        <input id="DBShell.preloop-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">preloop</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>
 
-                <label class="view-source-button" for="DBManager.preloop-view-source"><span>View Source</span></label>
+                <label class="view-source-button" for="DBShell.preloop-view-source"><span>View Source</span></label>
 
     </div>
-    <a class="headerlink" href="#DBManager.preloop"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="DBManager.preloop-248"><a href="#DBManager.preloop-248"><span class="linenos">248</span></a>    <span class="k">def</span> <span class="nf">preloop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
-</span><span id="DBManager.preloop-249"><a href="#DBManager.preloop-249"><span class="linenos">249</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current directory for a .db file to use.</span>
-</span><span id="DBManager.preloop-250"><a href="#DBManager.preloop-250"><span class="linenos">250</span></a><span class="sd">        If not found, prompt the user for one or to try again recursively.&quot;&quot;&quot;</span>
-</span><span id="DBManager.preloop-251"><a href="#DBManager.preloop-251"><span class="linenos">251</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">:</span>
-</span><span id="DBManager.preloop-252"><a href="#DBManager.preloop-252"><span class="linenos">252</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span>
-</span><span id="DBManager.preloop-253"><a href="#DBManager.preloop-253"><span class="linenos">253</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Defaulting to database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
-</span><span id="DBManager.preloop-254"><a href="#DBManager.preloop-254"><span class="linenos">254</span></a>        <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager.preloop-255"><a href="#DBManager.preloop-255"><span class="linenos">255</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching for database...&quot;</span><span class="p">)</span>
-</span><span id="DBManager.preloop-256"><a href="#DBManager.preloop-256"><span class="linenos">256</span></a>            <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
-</span><span id="DBManager.preloop-257"><a href="#DBManager.preloop-257"><span class="linenos">257</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
-</span><span id="DBManager.preloop-258"><a href="#DBManager.preloop-258"><span class="linenos">258</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
-</span><span id="DBManager.preloop-259"><a href="#DBManager.preloop-259"><span class="linenos">259</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
-</span><span id="DBManager.preloop-260"><a href="#DBManager.preloop-260"><span class="linenos">260</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.preloop-261"><a href="#DBManager.preloop-261"><span class="linenos">261</span></a>            <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
-</span><span id="DBManager.preloop-262"><a href="#DBManager.preloop-262"><span class="linenos">262</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
-</span><span id="DBManager.preloop-263"><a href="#DBManager.preloop-263"><span class="linenos">263</span></a>            <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager.preloop-264"><a href="#DBManager.preloop-264"><span class="linenos">264</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find a .db file in </span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.preloop-265"><a href="#DBManager.preloop-265"><span class="linenos">265</span></a>                <span class="n">path</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span>
-</span><span id="DBManager.preloop-266"><a href="#DBManager.preloop-266"><span class="linenos">266</span></a>                    <span class="s2">&quot;Enter path to .db file to use or press enter to search again recursively: &quot;</span>
-</span><span id="DBManager.preloop-267"><a href="#DBManager.preloop-267"><span class="linenos">267</span></a>                <span class="p">)</span>
-</span><span id="DBManager.preloop-268"><a href="#DBManager.preloop-268"><span class="linenos">268</span></a>                <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
-</span><span id="DBManager.preloop-269"><a href="#DBManager.preloop-269"><span class="linenos">269</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
-</span><span id="DBManager.preloop-270"><a href="#DBManager.preloop-270"><span class="linenos">270</span></a>                <span class="k">elif</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
-</span><span id="DBManager.preloop-271"><a href="#DBManager.preloop-271"><span class="linenos">271</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching recursively...&quot;</span><span class="p">)</span>
-</span><span id="DBManager.preloop-272"><a href="#DBManager.preloop-272"><span class="linenos">272</span></a>                    <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
-</span><span id="DBManager.preloop-273"><a href="#DBManager.preloop-273"><span class="linenos">273</span></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
-</span><span id="DBManager.preloop-274"><a href="#DBManager.preloop-274"><span class="linenos">274</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
-</span><span id="DBManager.preloop-275"><a href="#DBManager.preloop-275"><span class="linenos">275</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.preloop-276"><a href="#DBManager.preloop-276"><span class="linenos">276</span></a>                    <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
-</span><span id="DBManager.preloop-277"><a href="#DBManager.preloop-277"><span class="linenos">277</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
-</span><span id="DBManager.preloop-278"><a href="#DBManager.preloop-278"><span class="linenos">278</span></a>                    <span class="k">else</span><span class="p">:</span>
-</span><span id="DBManager.preloop-279"><a href="#DBManager.preloop-279"><span class="linenos">279</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not find a .db file.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.preloop-280"><a href="#DBManager.preloop-280"><span class="linenos">280</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter path to a .db file: &quot;</span><span class="p">))</span>
-</span><span id="DBManager.preloop-281"><a href="#DBManager.preloop-281"><span class="linenos">281</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
-</span><span id="DBManager.preloop-282"><a href="#DBManager.preloop-282"><span class="linenos">282</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
-</span><span id="DBManager.preloop-283"><a href="#DBManager.preloop-283"><span class="linenos">283</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
-</span><span id="DBManager.preloop-284"><a href="#DBManager.preloop-284"><span class="linenos">284</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> is not a file.&quot;</span><span class="p">)</span>
+    <a class="headerlink" href="#DBShell.preloop"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="DBShell.preloop-256"><a href="#DBShell.preloop-256"><span class="linenos">256</span></a>    <span class="k">def</span> <span class="nf">preloop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
+</span><span id="DBShell.preloop-257"><a href="#DBShell.preloop-257"><span class="linenos">257</span></a>        <span class="sd">&quot;&quot;&quot;Scan the current directory for a .db file to use.</span>
+</span><span id="DBShell.preloop-258"><a href="#DBShell.preloop-258"><span class="linenos">258</span></a><span class="sd">        If not found, prompt the user for one or to try again recursively.&quot;&quot;&quot;</span>
+</span><span id="DBShell.preloop-259"><a href="#DBShell.preloop-259"><span class="linenos">259</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">:</span>
+</span><span id="DBShell.preloop-260"><a href="#DBShell.preloop-260"><span class="linenos">260</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="p">)</span>
+</span><span id="DBShell.preloop-261"><a href="#DBShell.preloop-261"><span class="linenos">261</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Defaulting to database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
+</span><span id="DBShell.preloop-262"><a href="#DBShell.preloop-262"><span class="linenos">262</span></a>        <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell.preloop-263"><a href="#DBShell.preloop-263"><span class="linenos">263</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching for database...&quot;</span><span class="p">)</span>
+</span><span id="DBShell.preloop-264"><a href="#DBShell.preloop-264"><span class="linenos">264</span></a>            <span class="n">cwd</span> <span class="o">=</span> <span class="n">Pathier</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
+</span><span id="DBShell.preloop-265"><a href="#DBShell.preloop-265"><span class="linenos">265</span></a>            <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
+</span><span id="DBShell.preloop-266"><a href="#DBShell.preloop-266"><span class="linenos">266</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
+</span><span id="DBShell.preloop-267"><a href="#DBShell.preloop-267"><span class="linenos">267</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
+</span><span id="DBShell.preloop-268"><a href="#DBShell.preloop-268"><span class="linenos">268</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.preloop-269"><a href="#DBShell.preloop-269"><span class="linenos">269</span></a>            <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
+</span><span id="DBShell.preloop-270"><a href="#DBShell.preloop-270"><span class="linenos">270</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
+</span><span id="DBShell.preloop-271"><a href="#DBShell.preloop-271"><span class="linenos">271</span></a>            <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell.preloop-272"><a href="#DBShell.preloop-272"><span class="linenos">272</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find a .db file in </span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.preloop-273"><a href="#DBShell.preloop-273"><span class="linenos">273</span></a>                <span class="n">path</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span>
+</span><span id="DBShell.preloop-274"><a href="#DBShell.preloop-274"><span class="linenos">274</span></a>                    <span class="s2">&quot;Enter path to .db file to use or press enter to search again recursively: &quot;</span>
+</span><span id="DBShell.preloop-275"><a href="#DBShell.preloop-275"><span class="linenos">275</span></a>                <span class="p">)</span>
+</span><span id="DBShell.preloop-276"><a href="#DBShell.preloop-276"><span class="linenos">276</span></a>                <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
+</span><span id="DBShell.preloop-277"><a href="#DBShell.preloop-277"><span class="linenos">277</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
+</span><span id="DBShell.preloop-278"><a href="#DBShell.preloop-278"><span class="linenos">278</span></a>                <span class="k">elif</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
+</span><span id="DBShell.preloop-279"><a href="#DBShell.preloop-279"><span class="linenos">279</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching recursively...&quot;</span><span class="p">)</span>
+</span><span id="DBShell.preloop-280"><a href="#DBShell.preloop-280"><span class="linenos">280</span></a>                    <span class="n">dbs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cwd</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.db&quot;</span><span class="p">))</span>
+</span><span id="DBShell.preloop-281"><a href="#DBShell.preloop-281"><span class="linenos">281</span></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
+</span><span id="DBShell.preloop-282"><a href="#DBShell.preloop-282"><span class="linenos">282</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">dbs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
+</span><span id="DBShell.preloop-283"><a href="#DBShell.preloop-283"><span class="linenos">283</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using database </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.preloop-284"><a href="#DBShell.preloop-284"><span class="linenos">284</span></a>                    <span class="k">elif</span> <span class="n">dbs</span><span class="p">:</span>
+</span><span id="DBShell.preloop-285"><a href="#DBShell.preloop-285"><span class="linenos">285</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_db</span><span class="p">(</span><span class="n">dbs</span><span class="p">)</span>
+</span><span id="DBShell.preloop-286"><a href="#DBShell.preloop-286"><span class="linenos">286</span></a>                    <span class="k">else</span><span class="p">:</span>
+</span><span id="DBShell.preloop-287"><a href="#DBShell.preloop-287"><span class="linenos">287</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not find a .db file.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.preloop-288"><a href="#DBShell.preloop-288"><span class="linenos">288</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span> <span class="o">=</span> <span class="n">Pathier</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter path to a .db file: &quot;</span><span class="p">))</span>
+</span><span id="DBShell.preloop-289"><a href="#DBShell.preloop-289"><span class="linenos">289</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
+</span><span id="DBShell.preloop-290"><a href="#DBShell.preloop-290"><span class="linenos">290</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
+</span><span id="DBShell.preloop-291"><a href="#DBShell.preloop-291"><span class="linenos">291</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
+</span><span id="DBShell.preloop-292"><a href="#DBShell.preloop-292"><span class="linenos">292</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dbpath</span><span class="si">}</span><span class="s2"> is not a file.&quot;</span><span class="p">)</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Scan the current directory for a .db file to use.
 If not found, prompt the user for one or to try again recursively.</p>
 </div>
 
 
                             </div>
                             <div class="inherited">
                                 <h5>Inherited Members</h5>
                                 <dl>
                                     <div><dt>cmd.Cmd</dt>
-                                <dd id="DBManager.__init__" class="function">Cmd</dd>
-                <dd id="DBManager.precmd" class="function">precmd</dd>
-                <dd id="DBManager.postcmd" class="function">postcmd</dd>
-                <dd id="DBManager.postloop" class="function">postloop</dd>
-                <dd id="DBManager.parseline" class="function">parseline</dd>
-                <dd id="DBManager.onecmd" class="function">onecmd</dd>
-                <dd id="DBManager.emptyline" class="function">emptyline</dd>
-                <dd id="DBManager.default" class="function">default</dd>
-                <dd id="DBManager.completedefault" class="function">completedefault</dd>
-                <dd id="DBManager.completenames" class="function">completenames</dd>
-                <dd id="DBManager.complete" class="function">complete</dd>
-                <dd id="DBManager.get_names" class="function">get_names</dd>
-                <dd id="DBManager.complete_help" class="function">complete_help</dd>
-                <dd id="DBManager.print_topics" class="function">print_topics</dd>
-                <dd id="DBManager.columnize" class="function">columnize</dd>
+                                <dd id="DBShell.__init__" class="function">Cmd</dd>
+                <dd id="DBShell.precmd" class="function">precmd</dd>
+                <dd id="DBShell.postcmd" class="function">postcmd</dd>
+                <dd id="DBShell.postloop" class="function">postloop</dd>
+                <dd id="DBShell.parseline" class="function">parseline</dd>
+                <dd id="DBShell.onecmd" class="function">onecmd</dd>
+                <dd id="DBShell.default" class="function">default</dd>
+                <dd id="DBShell.completedefault" class="function">completedefault</dd>
+                <dd id="DBShell.completenames" class="function">completenames</dd>
+                <dd id="DBShell.complete" class="function">complete</dd>
+                <dd id="DBShell.get_names" class="function">get_names</dd>
+                <dd id="DBShell.complete_help" class="function">complete_help</dd>
+                <dd id="DBShell.print_topics" class="function">print_topics</dd>
+                <dd id="DBShell.columnize" class="function">columnize</dd>
 
             </div>
             <div><dt>argshell.argshell.ArgShell</dt>
-                                <dd id="DBManager.do_quit" class="function">do_quit</dd>
-                <dd id="DBManager.do_sys" class="function">do_sys</dd>
-                <dd id="DBManager.do_help" class="function">do_help</dd>
-                <dd id="DBManager.cmdloop" class="function">cmdloop</dd>
+                                <dd id="DBShell.do_quit" class="function">do_quit</dd>
+                <dd id="DBShell.do_sys" class="function">do_sys</dd>
+                <dd id="DBShell.do_help" class="function">do_help</dd>
+                <dd id="DBShell.cmdloop" class="function">cmdloop</dd>
+                <dd id="DBShell.emptyline" class="function">emptyline</dd>
 
             </div>
                                 </dl>
                             </div>
                 </section>
                 <section id="main">
                             <input id="main-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
@@ -1384,16 +1408,16 @@
         <span class="def">def</span>
         <span class="name">main</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>
 
                 <label class="view-source-button" for="main-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#main"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="main-287"><a href="#main-287"><span class="linenos">287</span></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
-</span><span id="main-288"><a href="#main-288"><span class="linenos">288</span></a>    <span class="n">DBManager</span><span class="p">()</span><span class="o">.</span><span class="n">cmdloop</span><span class="p">()</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="main-295"><a href="#main-295"><span class="linenos">295</span></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
+</span><span id="main-296"><a href="#main-296"><span class="linenos">296</span></a>    <span class="n">DBShell</span><span class="p">()</span><span class="o">.</span><span class="n">cmdloop</span><span class="p">()</span>
 </span></pre></div>
 
 
     
 
                 </section>
     </main>
```

#### html2text {}

```diff
@@ -1,13 +1,13 @@
 
 
   ⁰
 ____ databased [Unknown INPUT type]
 ***** API Documentation *****
-    * DBManager
+    * DBShell
           o do_use_db
           o do_dbpath
           o do_backup
           o do_size
           o do_add_table
           o do_drop_table
           o do_add_row
@@ -22,24 +22,24 @@
           o do_flush_log
           o do_scan_dbs
           o do_customize
           o preloop
     * main
 built_with_pdoc[pdoc_logo]
 
-****** databased.dbmanager ******
+****** databased.dbshell ******
 ⁰ View Source
 __1import argshell
 __2from pathier import Pathier
 __3
 __4from databased import DataBased, dbparsers
 __5
 __6
-__7class DBManager(argshell.ArgShell):
-__8    intro = "Starting dbmanager (enter help or ? for arg info)..."
+__7class DBShell(argshell.ArgShell):
+__8    intro = "Starting dbshell (enter help or ? for arg info)..."
 __9    prompt = "based>"
 _10    dbpath: Pathier = None  # type: ignore
 _11
 _12    def do_use_db(self, arg: str):
 _13        """Set which database file to use."""
 _14        dbpath = Pathier(arg)
 _15        if not dbpath.exists():
@@ -80,283 +80,292 @@
 _50
 _51    @argshell.with_parser(
 _52        dbparsers.get_add_row_parser, [dbparsers.verify_matching_length]
 _53    )
 _54    def do_add_row(self, args: argshell.Namespace):
 _55        """Add a row to a table."""
 _56        with DataBased(self.dbpath) as db:
-_57            db.add_row(args.table_name, args.values, args.columns or None)
-_58
-_59    def do_info(self, arg: str):
-_60        """Print out the names of the database tables, their columns, and
-the number of rows.
-_61        Pass a space-separated list of table names to only print info for
-those specific tables,
-_62        otherwise all tables will be printed."""
-_63        print("Getting database info...")
-_64        with DataBased(self.dbpath) as db:
-_65            tables = arg.split() or db.get_table_names()
-_66            info = [
-_67                {
-_68                    "Table Name": table,
-_69                    "Columns": ", ".join(db.get_column_names(table)),
-_70                    "Number of Rows": db.count(table),
-_71                }
-_72                for table in tables
-_73            ]
-_74        print(DataBased.data_to_string(info))
-_75
-_76    @argshell.with_parser(dbparsers.get_lookup_parser,
+_57            if db.add_row(args.table_name, args.values, args.columns or
+None):
+_58                print(f"Added row to {args.table_name} table successfully.")
+_59            else:
+_60                print(f"Failed to add row to {args.table_name} table.")
+_61
+_62    @argshell.with_parser(dbparsers.get_info_parser)
+_63    def do_info(self, args: argshell.Namespace):
+_64        """Print out the names of the database tables, their columns, and,
+optionally, the number of rows."""
+_65        print("Getting database info...")
+_66        with DataBased(self.dbpath) as db:
+_67            tables = args.tables or db.get_table_names()
+_68            info = [
+_69                {
+_70                    "Table Name": table,
+_71                    "Columns": ", ".join(db.get_column_names(table)),
+_72                    "Number of Rows": db.count(table) if args.rowcount else
+"n/a",
+_73                }
+_74                for table in tables
+_75            ]
+_76        print(DataBased.data_to_string(info))
+_77
+_78    @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
-_77    def do_show(self, args: argshell.Namespace):
-_78        """Find and print rows from the database.
-_79        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit
+_79    def do_show(self, args: argshell.Namespace):
+_80        """Find and print rows from the database.
+_81        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit
 the search.
-_80        Use the -c/--columns flag to limit what columns are printed.
-_81        Use the -o/--order_by flag to order the results.
-_82        Use the -p/--partial_matching flag to enable substring matching on -
+_82        Use the -c/--columns flag to limit what columns are printed.
+_83        Use the -o/--order_by flag to order the results.
+_84        Use the -p/--partial_matching flag to enable substring matching on -
 m/--match_pairs
-_83        Pass -h/--help flag for parser help."""
-_84        print("Finding records... ")
-_85        if len(args.columns) == 0:
-_86            args.columns = None
-_87        with DataBased(self.dbpath) as db:
-_88            tables = args.tables or db.get_table_names()
-_89            for table in tables:
-_90                results = db.get_rows(
-_91                    table,
-_92                    args.match_pairs,
-_93                    columns_to_return=args.columns,
-_94                    order_by=args.order_by,
-_95                    limit=args.limit,
-_96                    exact_match=not args.partial_matching,
-_97                )
-_98                db.close()
-_99                print(f"{len(results)} matching rows in {table} table:")
-100                try:
-101                    print(DataBased.data_to_string(results))  # type: ignore
-102                except Exception as e:
-103                    print("Couldn't fit data into a grid.")
-104                    print(*results, sep="\n")
-105                print()
-106
-107    @argshell.with_parser(dbparsers.get_search_parser)
-108    def do_search(self, args: argshell.Namespace):
-109        """Search and return any rows containg the searched substring in any
+_85        Pass -h/--help flag for parser help."""
+_86        print("Finding records... ")
+_87        if len(args.columns) == 0:
+_88            args.columns = None
+_89        with DataBased(self.dbpath) as db:
+_90            tables = args.tables or db.get_table_names()
+_91            for table in tables:
+_92                results = db.get_rows(
+_93                    table,
+_94                    args.match_pairs,
+_95                    columns_to_return=args.columns,
+_96                    order_by=args.order_by,
+_97                    limit=args.limit,
+_98                    exact_match=not args.partial_matching,
+_99                )
+100                db.close()
+101                print(f"{len(results)} matching rows in {table} table:")
+102                try:
+103                    print(DataBased.data_to_string(results))  # type: ignore
+104                except Exception as e:
+105                    print("Couldn't fit data into a grid.")
+106                    print(*results, sep="\n")
+107                print()
+108
+109    @argshell.with_parser(dbparsers.get_search_parser)
+110    def do_search(self, args: argshell.Namespace):
+111        """Search and return any rows containg the searched substring in any
 of its columns.
-110        Use the -t/--tables flag to limit the search to a specific table(s).
-111        Use the -c/--columns flag to limit the search to a specific column
+112        Use the -t/--tables flag to limit the search to a specific table(s).
+113        Use the -c/--columns flag to limit the search to a specific column
 (s)."""
-112        print(f"Searching for {args.search_string}...")
-113        with DataBased(self.dbpath) as db:
-114            tables = args.tables or db.get_table_names()
-115            for table in tables:
-116                columns = args.columns or db.get_column_names(table)
-117                matcher = " OR ".join(
-118                    f'{column} LIKE "%{args.search_string}%"' for column in
+114        print(f"Searching for {args.search_string}...")
+115        with DataBased(self.dbpath) as db:
+116            tables = args.tables or db.get_table_names()
+117            for table in tables:
+118                columns = args.columns or db.get_column_names(table)
+119                matcher = " OR ".join(
+120                    f'{column} LIKE "%{args.search_string}%"' for column in
 columns
-119                )
-120                query = f"SELECT * FROM {table} WHERE {matcher};"
-121                results = db.query(query)
-122                results = [db._get_dict(table, result) for result in
+121                )
+122                query = f"SELECT * FROM {table} WHERE {matcher};"
+123                results = db.query(query)
+124                results = [db._get_dict(table, result) for result in
 results]
-123                print(f"Found {len(results)} results in {table} table.")
-124                print(DataBased.data_to_string(results))
-125
-126    @argshell.with_parser(dbparsers.get_lookup_parser,
+125                print(f"Found {len(results)} results in {table} table.")
+126                print(DataBased.data_to_string(results))
+127
+128    @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
-127    def do_count(self, args: argshell.Namespace):
-128        """Print the number of rows in the database.
-129        Use the -t/--tables flag to limit results to a specific table(s).
-130        Use the -m/--match_pairs flag to limit the results to rows matching
+129    def do_count(self, args: argshell.Namespace):
+130        """Print the number of rows in the database.
+131        Use the -t/--tables flag to limit results to a specific table(s).
+132        Use the -m/--match_pairs flag to limit the results to rows matching
 these criteria.
-131        Use the -p/--partial_matching flag to enable substring matching on -
+133        Use the -p/--partial_matching flag to enable substring matching on -
 m/--match_pairs.
-132        Pass -h/--help flag for parser help."""
-133        print("Counting rows...")
-134        with DataBased(self.dbpath) as db:
-135            tables = args.tables or db.get_table_names()
-136            for table in tables:
-137                num_rows = db.count(table, args.match_pairs, not
+134        Pass -h/--help flag for parser help."""
+135        print("Counting rows...")
+136        with DataBased(self.dbpath) as db:
+137            tables = args.tables or db.get_table_names()
+138            for table in tables:
+139                num_rows = db.count(table, args.match_pairs, not
 args.partial_matching)
-138                print(f"{num_rows} matching rows in {table} table.")
-139
-140    def do_query(self, arg: str):
-141        """Execute a query against the current database."""
-142        print(f"Executing {arg}")
-143        with DataBased(self.dbpath) as db:
-144            results = db.query(arg)
-145        try:
-146            for result in results:
-147                print(*result, sep="|-|")
-148        except Exception as e:
-149            print(f"{type(e).__name__}: {e}")
-150
-151    @argshell.with_parser(dbparsers.get_update_parser,
+140                print(f"{num_rows} matching rows in {table} table.")
+141
+142    def do_query(self, arg: str):
+143        """Execute a query against the current database."""
+144        print(f"Executing {arg}")
+145        with DataBased(self.dbpath) as db:
+146            results = db.query(arg)
+147        try:
+148            for result in results:
+149                print(*result, sep="|-|")
+150            print(f"{db.cursor.rowcount} affected rows")
+151        except Exception as e:
+152            print(f"{type(e).__name__}: {e}")
+153
+154    @argshell.with_parser(dbparsers.get_update_parser,
 [dbparsers.convert_match_pairs])
-152    def do_update(self, args: argshell.Namespace):
-153        """Update a column to a new value.
-154        Two required args: the column (-c/--column) to update and the value
+155    def do_update(self, args: argshell.Namespace):
+156        """Update a column to a new value.
+157        Two required args: the column (-c/--column) to update and the value
 (-v/--value) to update to.
-155        Use the -t/--tables flag to limit what tables are updated.
-156        Use the -m/--match_pairs flag to specify which rows are updated.
-157        >>> based>update -c username -v big_chungus -t users -m username
+158        Use the -t/--tables flag to limit what tables are updated.
+159        Use the -m/--match_pairs flag to specify which rows are updated.
+160        Use the -p/--partial_matching flag to enable substring matching on -
+m/--match_pairs.
+161        >>> based>update -c username -v big_chungus -t users -m username
 lil_chungus
-158
-159        ^will update the username in the users 'table' to 'big_chungus'
+162
+163        ^will update the username in the users 'table' to 'big_chungus'
 where the username is currently 'lil_chungus'^"""
-160        print("Updating rows...")
-161        with DataBased(self.dbpath) as db:
-162            tables = args.tables or db.get_table_names()
-163            for table in tables:
-164                if db.update(table, args.column, args.new_value,
-args.match_pairs):
-165                    print(f"Updating rows in {table} table successful.")
-166                else:
-167                    print(f"Failed to update rows in {table} table.")
-168
-169    @argshell.with_parser(dbparsers.get_lookup_parser,
+164        print("Updating rows...")
+165        with DataBased(self.dbpath) as db:
+166            tables = args.tables or db.get_table_names()
+167            for table in tables:
+168                num_updates = db.update(
+169                    table,
+170                    args.column,
+171                    args.new_value,
+172                    args.match_pairs,
+173                    not args.partial_matching,
+174                )
+175                print(f"Updated {num_updates} rows in {table} table.")
+176
+177    @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
-170    def do_delete(self, args: argshell.Namespace):
-171        """Delete rows from the database.
-172        Use the -t/--tables flag to limit what tables rows are deleted from.
-173        Use the -m/--match_pairs flag to specify which rows are deleted.
-174        Use the -p/--partial_matching flag to enable substring matching on -
+178    def do_delete(self, args: argshell.Namespace):
+179        """Delete rows from the database.
+180        Use the -t/--tables flag to limit what tables rows are deleted from.
+181        Use the -m/--match_pairs flag to specify which rows are deleted.
+182        Use the -p/--partial_matching flag to enable substring matching on -
 m/--match_pairs.
-175        >>> based>delete -t users -m username chungus -p
-176
-177        ^will delete all rows in the 'users' table whose username contains
+183        >>> based>delete -t users -m username chungus -p
+184
+185        ^will delete all rows in the 'users' table whose username contains
 'chungus'^"""
-178        print("Deleting records...")
-179        with DataBased(self.dbpath) as db:
-180            tables = args.tables or db.get_table_names()
-181            for table in tables:
-182                num_rows = db.delete(table, args.match_pairs, not
+186        print("Deleting records...")
+187        with DataBased(self.dbpath) as db:
+188            tables = args.tables or db.get_table_names()
+189            for table in tables:
+190                num_rows = db.delete(table, args.match_pairs, not
 args.partial_matching)
-183                print(f"Deleted {num_rows} rows from {table} table.")
-184
-185    @argshell.with_parser(dbparsers.get_add_column_parser)
-186    def do_add_column(self, args: argshell.Namespace):
-187        """Add a new column to the specified tables."""
-188        with DataBased(self.dbpath) as db:
-189            tables = args.tables or db.get_table_names()
-190            for table in tables:
-191                db.add_column(table, args.column_name, args.type,
-args.default_value)
+191                print(f"Deleted {num_rows} rows from {table} table.")
 192
-193    def do_flush_log(self, arg: str):
-194        """Clear the log file for this database."""
-195        log_path = self.dbpath.with_name(self.dbpath.stem + "db.log")
-196        if not log_path.exists():
-197            print(f"No log file at path {log_path}")
-198        else:
-199            print(f"Flushing log...")
-200            log_path.write_text("")
-201
-202    def do_scan_dbs(self, arg: str):
-203        """Scan the current working directory for `*.db` files and display
+193    @argshell.with_parser(dbparsers.get_add_column_parser)
+194    def do_add_column(self, args: argshell.Namespace):
+195        """Add a new column to the specified tables."""
+196        with DataBased(self.dbpath) as db:
+197            tables = args.tables or db.get_table_names()
+198            for table in tables:
+199                db.add_column(table, args.column_name, args.type,
+args.default_value)
+200
+201    def do_flush_log(self, arg: str):
+202        """Clear the log file for this database."""
+203        log_path = self.dbpath.with_name(self.dbpath.stem + "db.log")
+204        if not log_path.exists():
+205            print(f"No log file at path {log_path}")
+206        else:
+207            print(f"Flushing log...")
+208            log_path.write_text("")
+209
+210    def do_scan_dbs(self, arg: str):
+211        """Scan the current working directory for `*.db` files and display
 them.
-204
-205        If the command is entered as `based>scan_dbs r`, the scan will be
+212
+213        If the command is entered as `based>scan_dbs r`, the scan will be
 performed recursively."""
-206        cwd = Pathier.cwd()
-207        if arg.strip() == "r":
-208            dbs = cwd.rglob("*.db")
-209        else:
-210            dbs = cwd.glob("*.db")
-211        for db in dbs:
-212            print(db.separate(cwd.stem))
-213
-214    def do_customize(self, arg: str):
-215        """Generate a template file in the current working directory for
-creating a custom DBManager class.
-216        Expects one argument: the name of the custom dbmanager.
-217        This will be used to name the generated file as well as several
+214        cwd = Pathier.cwd()
+215        if arg.strip() == "r":
+216            dbs = cwd.rglob("*.db")
+217        else:
+218            dbs = cwd.glob("*.db")
+219        for db in dbs:
+220            print(db.separate(cwd.stem))
+221
+222    def do_customize(self, arg: str):
+223        """Generate a template file in the current working directory for
+creating a custom DBShell class.
+224        Expects one argument: the name of the custom dbshell.
+225        This will be used to name the generated file as well as several
 components in the file content."""
-218        custom_file = (Pathier.cwd() / arg.replace(" ", "_")).with_suffix
+226        custom_file = (Pathier.cwd() / arg.replace(" ", "_")).with_suffix
 (".py")
-219        if custom_file.exists():
-220            print(f"Error: {custom_file.name} already exists in this
+227        if custom_file.exists():
+228            print(f"Error: {custom_file.name} already exists in this
 location.")
-221        else:
-222            variable_name = "_".join(word for word in arg.lower().split())
-223            class_name = "".join(word.capitalize() for word in arg.split())
-224            content = (Pathier(__file__).parent /
-"custom_manager.py").read_text()
-225            content = content.replace("CustomManager", class_name)
-226            content = content.replace("custommanager", variable_name)
-227            custom_file.write_text(content)
-228
-229    def _choose_db(self, options: list[Pathier]) -> Pathier:
-230        """Prompt the user to select from a list of files."""
-231        cwd = Pathier.cwd()
-232        paths = [path.separate(cwd.stem) for path in options]
-233        while True:
-234            print(
-235                f"DB options:\n{' '.join([f'({i}) {path}' for i,path in
+229        else:
+230            variable_name = "_".join(word for word in arg.lower().split())
+231            class_name = "".join(word.capitalize() for word in arg.split())
+232            content = (Pathier(__file__).parent /
+"customshell.py").read_text()
+233            content = content.replace("CustomShell", class_name)
+234            content = content.replace("customshell", variable_name)
+235            custom_file.write_text(content)
+236
+237    def _choose_db(self, options: list[Pathier]) -> Pathier:
+238        """Prompt the user to select from a list of files."""
+239        cwd = Pathier.cwd()
+240        paths = [path.separate(cwd.stem) for path in options]
+241        while True:
+242            print(
+243                f"DB options:\n{' '.join([f'({i}) {path}' for i,path in
 enumerate(paths,1)])}"
-236            )
-237            choice = input("Enter the number of the option to use: ")
-238            try:
-239                index = int(choice)
-240                if not 1 <= index <= len(options):
-241                    print("Choice out of range.")
-242                    continue
-243                return options[index - 1]
-244            except Exception as e:
-245                print(f"{choice} is not a valid option.")
-246
-247    def preloop(self):
-248        """Scan the current directory for a .db file to use.
-249        If not found, prompt the user for one or to try again
+244            )
+245            choice = input("Enter the number of the option to use: ")
+246            try:
+247                index = int(choice)
+248                if not 1 <= index <= len(options):
+249                    print("Choice out of range.")
+250                    continue
+251                return options[index - 1]
+252            except Exception as e:
+253                print(f"{choice} is not a valid option.")
+254
+255    def preloop(self):
+256        """Scan the current directory for a .db file to use.
+257        If not found, prompt the user for one or to try again
 recursively."""
-250        if self.dbpath:
-251            self.dbpath = Pathier(self.dbpath)
-252            print(f"Defaulting to database {self.dbpath}")
-253        else:
-254            print("Searching for database...")
-255            cwd = Pathier.cwd()
-256            dbs = list(cwd.glob("*.db"))
-257            if len(dbs) == 1:
-258                self.dbpath = dbs[0]
-259                print(f"Using database {self.dbpath}.")
-260            elif dbs:
-261                self.dbpath = self._choose_db(dbs)
-262            else:
-263                print(f"Could not find a .db file in {cwd}.")
-264                path = input(
-265                    "Enter path to .db file to use or press enter to search
+258        if self.dbpath:
+259            self.dbpath = Pathier(self.dbpath)
+260            print(f"Defaulting to database {self.dbpath}")
+261        else:
+262            print("Searching for database...")
+263            cwd = Pathier.cwd()
+264            dbs = list(cwd.glob("*.db"))
+265            if len(dbs) == 1:
+266                self.dbpath = dbs[0]
+267                print(f"Using database {self.dbpath}.")
+268            elif dbs:
+269                self.dbpath = self._choose_db(dbs)
+270            else:
+271                print(f"Could not find a .db file in {cwd}.")
+272                path = input(
+273                    "Enter path to .db file to use or press enter to search
 again recursively: "
-266                )
-267                if path:
-268                    self.dbpath = Pathier(path)
-269                elif not path:
-270                    print("Searching recursively...")
-271                    dbs = list(cwd.rglob("*.db"))
-272                    if len(dbs) == 1:
-273                        self.dbpath = dbs[0]
-274                        print(f"Using database {self.dbpath}.")
-275                    elif dbs:
-276                        self.dbpath = self._choose_db(dbs)
-277                    else:
-278                        print("Could not find a .db file.")
-279                        self.dbpath = Pathier(input("Enter path to a .db
+274                )
+275                if path:
+276                    self.dbpath = Pathier(path)
+277                elif not path:
+278                    print("Searching recursively...")
+279                    dbs = list(cwd.rglob("*.db"))
+280                    if len(dbs) == 1:
+281                        self.dbpath = dbs[0]
+282                        print(f"Using database {self.dbpath}.")
+283                    elif dbs:
+284                        self.dbpath = self._choose_db(dbs)
+285                    else:
+286                        print("Could not find a .db file.")
+287                        self.dbpath = Pathier(input("Enter path to a .db
 file: "))
-280        if not self.dbpath.exists():
-281            raise FileNotFoundError(f"{self.dbpath} does not exist.")
-282        if not self.dbpath.is_file():
-283            raise ValueError(f"{self.dbpath} is not a file.")
-284
-285
-286def main():
-287    DBManager().cmdloop()
+288        if not self.dbpath.exists():
+289            raise FileNotFoundError(f"{self.dbpath} does not exist.")
+290        if not self.dbpath.is_file():
+291            raise ValueError(f"{self.dbpath} is not a file.")
+292
+293
+294def main():
+295    DBShell().cmdloop()
   ⁰
-class DBManager(argshell.argshell.ArgShell): View Source
-__8class DBManager(argshell.ArgShell):
-__9    intro = "Starting dbmanager (enter help or ? for arg info)..."
+class DBShell(argshell.argshell.ArgShell): View Source
+__8class DBShell(argshell.ArgShell):
+__9    intro = "Starting dbshell (enter help or ? for arg info)..."
 _10    prompt = "based>"
 _11    dbpath: Pathier = None  # type: ignore
 _12
 _13    def do_use_db(self, arg: str):
 _14        """Set which database file to use."""
 _15        dbpath = Pathier(arg)
 _16        if not dbpath.exists():
@@ -397,275 +406,284 @@
 _51
 _52    @argshell.with_parser(
 _53        dbparsers.get_add_row_parser, [dbparsers.verify_matching_length]
 _54    )
 _55    def do_add_row(self, args: argshell.Namespace):
 _56        """Add a row to a table."""
 _57        with DataBased(self.dbpath) as db:
-_58            db.add_row(args.table_name, args.values, args.columns or None)
-_59
-_60    def do_info(self, arg: str):
-_61        """Print out the names of the database tables, their columns, and
-the number of rows.
-_62        Pass a space-separated list of table names to only print info for
-those specific tables,
-_63        otherwise all tables will be printed."""
-_64        print("Getting database info...")
-_65        with DataBased(self.dbpath) as db:
-_66            tables = arg.split() or db.get_table_names()
-_67            info = [
-_68                {
-_69                    "Table Name": table,
-_70                    "Columns": ", ".join(db.get_column_names(table)),
-_71                    "Number of Rows": db.count(table),
-_72                }
-_73                for table in tables
-_74            ]
-_75        print(DataBased.data_to_string(info))
-_76
-_77    @argshell.with_parser(dbparsers.get_lookup_parser,
+_58            if db.add_row(args.table_name, args.values, args.columns or
+None):
+_59                print(f"Added row to {args.table_name} table successfully.")
+_60            else:
+_61                print(f"Failed to add row to {args.table_name} table.")
+_62
+_63    @argshell.with_parser(dbparsers.get_info_parser)
+_64    def do_info(self, args: argshell.Namespace):
+_65        """Print out the names of the database tables, their columns, and,
+optionally, the number of rows."""
+_66        print("Getting database info...")
+_67        with DataBased(self.dbpath) as db:
+_68            tables = args.tables or db.get_table_names()
+_69            info = [
+_70                {
+_71                    "Table Name": table,
+_72                    "Columns": ", ".join(db.get_column_names(table)),
+_73                    "Number of Rows": db.count(table) if args.rowcount else
+"n/a",
+_74                }
+_75                for table in tables
+_76            ]
+_77        print(DataBased.data_to_string(info))
+_78
+_79    @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
-_78    def do_show(self, args: argshell.Namespace):
-_79        """Find and print rows from the database.
-_80        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit
+_80    def do_show(self, args: argshell.Namespace):
+_81        """Find and print rows from the database.
+_82        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit
 the search.
-_81        Use the -c/--columns flag to limit what columns are printed.
-_82        Use the -o/--order_by flag to order the results.
-_83        Use the -p/--partial_matching flag to enable substring matching on -
+_83        Use the -c/--columns flag to limit what columns are printed.
+_84        Use the -o/--order_by flag to order the results.
+_85        Use the -p/--partial_matching flag to enable substring matching on -
 m/--match_pairs
-_84        Pass -h/--help flag for parser help."""
-_85        print("Finding records... ")
-_86        if len(args.columns) == 0:
-_87            args.columns = None
-_88        with DataBased(self.dbpath) as db:
-_89            tables = args.tables or db.get_table_names()
-_90            for table in tables:
-_91                results = db.get_rows(
-_92                    table,
-_93                    args.match_pairs,
-_94                    columns_to_return=args.columns,
-_95                    order_by=args.order_by,
-_96                    limit=args.limit,
-_97                    exact_match=not args.partial_matching,
-_98                )
-_99                db.close()
-100                print(f"{len(results)} matching rows in {table} table:")
-101                try:
-102                    print(DataBased.data_to_string(results))  # type: ignore
-103                except Exception as e:
-104                    print("Couldn't fit data into a grid.")
-105                    print(*results, sep="\n")
-106                print()
-107
-108    @argshell.with_parser(dbparsers.get_search_parser)
-109    def do_search(self, args: argshell.Namespace):
-110        """Search and return any rows containg the searched substring in any
+_86        Pass -h/--help flag for parser help."""
+_87        print("Finding records... ")
+_88        if len(args.columns) == 0:
+_89            args.columns = None
+_90        with DataBased(self.dbpath) as db:
+_91            tables = args.tables or db.get_table_names()
+_92            for table in tables:
+_93                results = db.get_rows(
+_94                    table,
+_95                    args.match_pairs,
+_96                    columns_to_return=args.columns,
+_97                    order_by=args.order_by,
+_98                    limit=args.limit,
+_99                    exact_match=not args.partial_matching,
+100                )
+101                db.close()
+102                print(f"{len(results)} matching rows in {table} table:")
+103                try:
+104                    print(DataBased.data_to_string(results))  # type: ignore
+105                except Exception as e:
+106                    print("Couldn't fit data into a grid.")
+107                    print(*results, sep="\n")
+108                print()
+109
+110    @argshell.with_parser(dbparsers.get_search_parser)
+111    def do_search(self, args: argshell.Namespace):
+112        """Search and return any rows containg the searched substring in any
 of its columns.
-111        Use the -t/--tables flag to limit the search to a specific table(s).
-112        Use the -c/--columns flag to limit the search to a specific column
+113        Use the -t/--tables flag to limit the search to a specific table(s).
+114        Use the -c/--columns flag to limit the search to a specific column
 (s)."""
-113        print(f"Searching for {args.search_string}...")
-114        with DataBased(self.dbpath) as db:
-115            tables = args.tables or db.get_table_names()
-116            for table in tables:
-117                columns = args.columns or db.get_column_names(table)
-118                matcher = " OR ".join(
-119                    f'{column} LIKE "%{args.search_string}%"' for column in
+115        print(f"Searching for {args.search_string}...")
+116        with DataBased(self.dbpath) as db:
+117            tables = args.tables or db.get_table_names()
+118            for table in tables:
+119                columns = args.columns or db.get_column_names(table)
+120                matcher = " OR ".join(
+121                    f'{column} LIKE "%{args.search_string}%"' for column in
 columns
-120                )
-121                query = f"SELECT * FROM {table} WHERE {matcher};"
-122                results = db.query(query)
-123                results = [db._get_dict(table, result) for result in
+122                )
+123                query = f"SELECT * FROM {table} WHERE {matcher};"
+124                results = db.query(query)
+125                results = [db._get_dict(table, result) for result in
 results]
-124                print(f"Found {len(results)} results in {table} table.")
-125                print(DataBased.data_to_string(results))
-126
-127    @argshell.with_parser(dbparsers.get_lookup_parser,
+126                print(f"Found {len(results)} results in {table} table.")
+127                print(DataBased.data_to_string(results))
+128
+129    @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
-128    def do_count(self, args: argshell.Namespace):
-129        """Print the number of rows in the database.
-130        Use the -t/--tables flag to limit results to a specific table(s).
-131        Use the -m/--match_pairs flag to limit the results to rows matching
+130    def do_count(self, args: argshell.Namespace):
+131        """Print the number of rows in the database.
+132        Use the -t/--tables flag to limit results to a specific table(s).
+133        Use the -m/--match_pairs flag to limit the results to rows matching
 these criteria.
-132        Use the -p/--partial_matching flag to enable substring matching on -
+134        Use the -p/--partial_matching flag to enable substring matching on -
 m/--match_pairs.
-133        Pass -h/--help flag for parser help."""
-134        print("Counting rows...")
-135        with DataBased(self.dbpath) as db:
-136            tables = args.tables or db.get_table_names()
-137            for table in tables:
-138                num_rows = db.count(table, args.match_pairs, not
+135        Pass -h/--help flag for parser help."""
+136        print("Counting rows...")
+137        with DataBased(self.dbpath) as db:
+138            tables = args.tables or db.get_table_names()
+139            for table in tables:
+140                num_rows = db.count(table, args.match_pairs, not
 args.partial_matching)
-139                print(f"{num_rows} matching rows in {table} table.")
-140
-141    def do_query(self, arg: str):
-142        """Execute a query against the current database."""
-143        print(f"Executing {arg}")
-144        with DataBased(self.dbpath) as db:
-145            results = db.query(arg)
-146        try:
-147            for result in results:
-148                print(*result, sep="|-|")
-149        except Exception as e:
-150            print(f"{type(e).__name__}: {e}")
-151
-152    @argshell.with_parser(dbparsers.get_update_parser,
+141                print(f"{num_rows} matching rows in {table} table.")
+142
+143    def do_query(self, arg: str):
+144        """Execute a query against the current database."""
+145        print(f"Executing {arg}")
+146        with DataBased(self.dbpath) as db:
+147            results = db.query(arg)
+148        try:
+149            for result in results:
+150                print(*result, sep="|-|")
+151            print(f"{db.cursor.rowcount} affected rows")
+152        except Exception as e:
+153            print(f"{type(e).__name__}: {e}")
+154
+155    @argshell.with_parser(dbparsers.get_update_parser,
 [dbparsers.convert_match_pairs])
-153    def do_update(self, args: argshell.Namespace):
-154        """Update a column to a new value.
-155        Two required args: the column (-c/--column) to update and the value
+156    def do_update(self, args: argshell.Namespace):
+157        """Update a column to a new value.
+158        Two required args: the column (-c/--column) to update and the value
 (-v/--value) to update to.
-156        Use the -t/--tables flag to limit what tables are updated.
-157        Use the -m/--match_pairs flag to specify which rows are updated.
-158        >>> based>update -c username -v big_chungus -t users -m username
+159        Use the -t/--tables flag to limit what tables are updated.
+160        Use the -m/--match_pairs flag to specify which rows are updated.
+161        Use the -p/--partial_matching flag to enable substring matching on -
+m/--match_pairs.
+162        >>> based>update -c username -v big_chungus -t users -m username
 lil_chungus
-159
-160        ^will update the username in the users 'table' to 'big_chungus'
+163
+164        ^will update the username in the users 'table' to 'big_chungus'
 where the username is currently 'lil_chungus'^"""
-161        print("Updating rows...")
-162        with DataBased(self.dbpath) as db:
-163            tables = args.tables or db.get_table_names()
-164            for table in tables:
-165                if db.update(table, args.column, args.new_value,
-args.match_pairs):
-166                    print(f"Updating rows in {table} table successful.")
-167                else:
-168                    print(f"Failed to update rows in {table} table.")
-169
-170    @argshell.with_parser(dbparsers.get_lookup_parser,
+165        print("Updating rows...")
+166        with DataBased(self.dbpath) as db:
+167            tables = args.tables or db.get_table_names()
+168            for table in tables:
+169                num_updates = db.update(
+170                    table,
+171                    args.column,
+172                    args.new_value,
+173                    args.match_pairs,
+174                    not args.partial_matching,
+175                )
+176                print(f"Updated {num_updates} rows in {table} table.")
+177
+178    @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
-171    def do_delete(self, args: argshell.Namespace):
-172        """Delete rows from the database.
-173        Use the -t/--tables flag to limit what tables rows are deleted from.
-174        Use the -m/--match_pairs flag to specify which rows are deleted.
-175        Use the -p/--partial_matching flag to enable substring matching on -
+179    def do_delete(self, args: argshell.Namespace):
+180        """Delete rows from the database.
+181        Use the -t/--tables flag to limit what tables rows are deleted from.
+182        Use the -m/--match_pairs flag to specify which rows are deleted.
+183        Use the -p/--partial_matching flag to enable substring matching on -
 m/--match_pairs.
-176        >>> based>delete -t users -m username chungus -p
-177
-178        ^will delete all rows in the 'users' table whose username contains
+184        >>> based>delete -t users -m username chungus -p
+185
+186        ^will delete all rows in the 'users' table whose username contains
 'chungus'^"""
-179        print("Deleting records...")
-180        with DataBased(self.dbpath) as db:
-181            tables = args.tables or db.get_table_names()
-182            for table in tables:
-183                num_rows = db.delete(table, args.match_pairs, not
+187        print("Deleting records...")
+188        with DataBased(self.dbpath) as db:
+189            tables = args.tables or db.get_table_names()
+190            for table in tables:
+191                num_rows = db.delete(table, args.match_pairs, not
 args.partial_matching)
-184                print(f"Deleted {num_rows} rows from {table} table.")
-185
-186    @argshell.with_parser(dbparsers.get_add_column_parser)
-187    def do_add_column(self, args: argshell.Namespace):
-188        """Add a new column to the specified tables."""
-189        with DataBased(self.dbpath) as db:
-190            tables = args.tables or db.get_table_names()
-191            for table in tables:
-192                db.add_column(table, args.column_name, args.type,
-args.default_value)
+192                print(f"Deleted {num_rows} rows from {table} table.")
 193
-194    def do_flush_log(self, arg: str):
-195        """Clear the log file for this database."""
-196        log_path = self.dbpath.with_name(self.dbpath.stem + "db.log")
-197        if not log_path.exists():
-198            print(f"No log file at path {log_path}")
-199        else:
-200            print(f"Flushing log...")
-201            log_path.write_text("")
-202
-203    def do_scan_dbs(self, arg: str):
-204        """Scan the current working directory for `*.db` files and display
+194    @argshell.with_parser(dbparsers.get_add_column_parser)
+195    def do_add_column(self, args: argshell.Namespace):
+196        """Add a new column to the specified tables."""
+197        with DataBased(self.dbpath) as db:
+198            tables = args.tables or db.get_table_names()
+199            for table in tables:
+200                db.add_column(table, args.column_name, args.type,
+args.default_value)
+201
+202    def do_flush_log(self, arg: str):
+203        """Clear the log file for this database."""
+204        log_path = self.dbpath.with_name(self.dbpath.stem + "db.log")
+205        if not log_path.exists():
+206            print(f"No log file at path {log_path}")
+207        else:
+208            print(f"Flushing log...")
+209            log_path.write_text("")
+210
+211    def do_scan_dbs(self, arg: str):
+212        """Scan the current working directory for `*.db` files and display
 them.
-205
-206        If the command is entered as `based>scan_dbs r`, the scan will be
+213
+214        If the command is entered as `based>scan_dbs r`, the scan will be
 performed recursively."""
-207        cwd = Pathier.cwd()
-208        if arg.strip() == "r":
-209            dbs = cwd.rglob("*.db")
-210        else:
-211            dbs = cwd.glob("*.db")
-212        for db in dbs:
-213            print(db.separate(cwd.stem))
-214
-215    def do_customize(self, arg: str):
-216        """Generate a template file in the current working directory for
-creating a custom DBManager class.
-217        Expects one argument: the name of the custom dbmanager.
-218        This will be used to name the generated file as well as several
+215        cwd = Pathier.cwd()
+216        if arg.strip() == "r":
+217            dbs = cwd.rglob("*.db")
+218        else:
+219            dbs = cwd.glob("*.db")
+220        for db in dbs:
+221            print(db.separate(cwd.stem))
+222
+223    def do_customize(self, arg: str):
+224        """Generate a template file in the current working directory for
+creating a custom DBShell class.
+225        Expects one argument: the name of the custom dbshell.
+226        This will be used to name the generated file as well as several
 components in the file content."""
-219        custom_file = (Pathier.cwd() / arg.replace(" ", "_")).with_suffix
+227        custom_file = (Pathier.cwd() / arg.replace(" ", "_")).with_suffix
 (".py")
-220        if custom_file.exists():
-221            print(f"Error: {custom_file.name} already exists in this
+228        if custom_file.exists():
+229            print(f"Error: {custom_file.name} already exists in this
 location.")
-222        else:
-223            variable_name = "_".join(word for word in arg.lower().split())
-224            class_name = "".join(word.capitalize() for word in arg.split())
-225            content = (Pathier(__file__).parent /
-"custom_manager.py").read_text()
-226            content = content.replace("CustomManager", class_name)
-227            content = content.replace("custommanager", variable_name)
-228            custom_file.write_text(content)
-229
-230    def _choose_db(self, options: list[Pathier]) -> Pathier:
-231        """Prompt the user to select from a list of files."""
-232        cwd = Pathier.cwd()
-233        paths = [path.separate(cwd.stem) for path in options]
-234        while True:
-235            print(
-236                f"DB options:\n{' '.join([f'({i}) {path}' for i,path in
+230        else:
+231            variable_name = "_".join(word for word in arg.lower().split())
+232            class_name = "".join(word.capitalize() for word in arg.split())
+233            content = (Pathier(__file__).parent /
+"customshell.py").read_text()
+234            content = content.replace("CustomShell", class_name)
+235            content = content.replace("customshell", variable_name)
+236            custom_file.write_text(content)
+237
+238    def _choose_db(self, options: list[Pathier]) -> Pathier:
+239        """Prompt the user to select from a list of files."""
+240        cwd = Pathier.cwd()
+241        paths = [path.separate(cwd.stem) for path in options]
+242        while True:
+243            print(
+244                f"DB options:\n{' '.join([f'({i}) {path}' for i,path in
 enumerate(paths,1)])}"
-237            )
-238            choice = input("Enter the number of the option to use: ")
-239            try:
-240                index = int(choice)
-241                if not 1 <= index <= len(options):
-242                    print("Choice out of range.")
-243                    continue
-244                return options[index - 1]
-245            except Exception as e:
-246                print(f"{choice} is not a valid option.")
-247
-248    def preloop(self):
-249        """Scan the current directory for a .db file to use.
-250        If not found, prompt the user for one or to try again
+245            )
+246            choice = input("Enter the number of the option to use: ")
+247            try:
+248                index = int(choice)
+249                if not 1 <= index <= len(options):
+250                    print("Choice out of range.")
+251                    continue
+252                return options[index - 1]
+253            except Exception as e:
+254                print(f"{choice} is not a valid option.")
+255
+256    def preloop(self):
+257        """Scan the current directory for a .db file to use.
+258        If not found, prompt the user for one or to try again
 recursively."""
-251        if self.dbpath:
-252            self.dbpath = Pathier(self.dbpath)
-253            print(f"Defaulting to database {self.dbpath}")
-254        else:
-255            print("Searching for database...")
-256            cwd = Pathier.cwd()
-257            dbs = list(cwd.glob("*.db"))
-258            if len(dbs) == 1:
-259                self.dbpath = dbs[0]
-260                print(f"Using database {self.dbpath}.")
-261            elif dbs:
-262                self.dbpath = self._choose_db(dbs)
-263            else:
-264                print(f"Could not find a .db file in {cwd}.")
-265                path = input(
-266                    "Enter path to .db file to use or press enter to search
+259        if self.dbpath:
+260            self.dbpath = Pathier(self.dbpath)
+261            print(f"Defaulting to database {self.dbpath}")
+262        else:
+263            print("Searching for database...")
+264            cwd = Pathier.cwd()
+265            dbs = list(cwd.glob("*.db"))
+266            if len(dbs) == 1:
+267                self.dbpath = dbs[0]
+268                print(f"Using database {self.dbpath}.")
+269            elif dbs:
+270                self.dbpath = self._choose_db(dbs)
+271            else:
+272                print(f"Could not find a .db file in {cwd}.")
+273                path = input(
+274                    "Enter path to .db file to use or press enter to search
 again recursively: "
-267                )
-268                if path:
-269                    self.dbpath = Pathier(path)
-270                elif not path:
-271                    print("Searching recursively...")
-272                    dbs = list(cwd.rglob("*.db"))
-273                    if len(dbs) == 1:
-274                        self.dbpath = dbs[0]
-275                        print(f"Using database {self.dbpath}.")
-276                    elif dbs:
-277                        self.dbpath = self._choose_db(dbs)
-278                    else:
-279                        print("Could not find a .db file.")
-280                        self.dbpath = Pathier(input("Enter path to a .db
+275                )
+276                if path:
+277                    self.dbpath = Pathier(path)
+278                elif not path:
+279                    print("Searching recursively...")
+280                    dbs = list(cwd.rglob("*.db"))
+281                    if len(dbs) == 1:
+282                        self.dbpath = dbs[0]
+283                        print(f"Using database {self.dbpath}.")
+284                    elif dbs:
+285                        self.dbpath = self._choose_db(dbs)
+286                    else:
+287                        print("Could not find a .db file.")
+288                        self.dbpath = Pathier(input("Enter path to a .db
 file: "))
-281        if not self.dbpath.exists():
-282            raise FileNotFoundError(f"{self.dbpath} does not exist.")
-283        if not self.dbpath.is_file():
-284            raise ValueError(f"{self.dbpath} is not a file.")
+289        if not self.dbpath.exists():
+290            raise FileNotFoundError(f"{self.dbpath} does not exist.")
+291        if not self.dbpath.is_file():
+292            raise ValueError(f"{self.dbpath} is not a file.")
 Subclass this to create custom ArgShells.
 ⁰
 def do_use_db(self, arg: str): View Source
 13    def do_use_db(self, arg: str):
 14        """Set which database file to use."""
 15        dbpath = Pathier(arg)
 16        if not dbpath.exists():
@@ -721,319 +739,329 @@
 def do_add_row(self, args: argshell.argshell.Namespace): View Source
 52    @argshell.with_parser(
 53        dbparsers.get_add_row_parser, [dbparsers.verify_matching_length]
 54    )
 55    def do_add_row(self, args: argshell.Namespace):
 56        """Add a row to a table."""
 57        with DataBased(self.dbpath) as db:
-58            db.add_row(args.table_name, args.values, args.columns or None)
+58            if db.add_row(args.table_name, args.values, args.columns or
+None):
+59                print(f"Added row to {args.table_name} table successfully.")
+60            else:
+61                print(f"Failed to add row to {args.table_name} table.")
 Add a row to a table.
 ⁰
-def do_info(self, arg: str): View Source
-60    def do_info(self, arg: str):
-61        """Print out the names of the database tables, their columns, and the
+@argshell.with_parser(dbparsers.get_info_parser)
+def do_info(self, args: argshell.argshell.Namespace): View Source
+63    @argshell.with_parser(dbparsers.get_info_parser)
+64    def do_info(self, args: argshell.Namespace):
+65        """Print out the names of the database tables, their columns, and,
+optionally, the number of rows."""
+66        print("Getting database info...")
+67        with DataBased(self.dbpath) as db:
+68            tables = args.tables or db.get_table_names()
+69            info = [
+70                {
+71                    "Table Name": table,
+72                    "Columns": ", ".join(db.get_column_names(table)),
+73                    "Number of Rows": db.count(table) if args.rowcount else
+"n/a",
+74                }
+75                for table in tables
+76            ]
+77        print(DataBased.data_to_string(info))
+Print out the names of the database tables, their columns, and, optionally, the
 number of rows.
-62        Pass a space-separated list of table names to only print info for
-those specific tables,
-63        otherwise all tables will be printed."""
-64        print("Getting database info...")
-65        with DataBased(self.dbpath) as db:
-66            tables = arg.split() or db.get_table_names()
-67            info = [
-68                {
-69                    "Table Name": table,
-70                    "Columns": ", ".join(db.get_column_names(table)),
-71                    "Number of Rows": db.count(table),
-72                }
-73                for table in tables
-74            ]
-75        print(DataBased.data_to_string(info))
-Print out the names of the database tables, their columns, and the number of
-rows. Pass a space-separated list of table names to only print info for those
-specific tables, otherwise all tables will be printed.
 ⁰
 @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
 def do_show(self, args: argshell.argshell.Namespace): View Source
-_77    @argshell.with_parser(dbparsers.get_lookup_parser,
+_79    @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
-_78    def do_show(self, args: argshell.Namespace):
-_79        """Find and print rows from the database.
-_80        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit
+_80    def do_show(self, args: argshell.Namespace):
+_81        """Find and print rows from the database.
+_82        Use the -t/--tables, -m/--match_pairs, and -l/--limit flags to limit
 the search.
-_81        Use the -c/--columns flag to limit what columns are printed.
-_82        Use the -o/--order_by flag to order the results.
-_83        Use the -p/--partial_matching flag to enable substring matching on -
+_83        Use the -c/--columns flag to limit what columns are printed.
+_84        Use the -o/--order_by flag to order the results.
+_85        Use the -p/--partial_matching flag to enable substring matching on -
 m/--match_pairs
-_84        Pass -h/--help flag for parser help."""
-_85        print("Finding records... ")
-_86        if len(args.columns) == 0:
-_87            args.columns = None
-_88        with DataBased(self.dbpath) as db:
-_89            tables = args.tables or db.get_table_names()
-_90            for table in tables:
-_91                results = db.get_rows(
-_92                    table,
-_93                    args.match_pairs,
-_94                    columns_to_return=args.columns,
-_95                    order_by=args.order_by,
-_96                    limit=args.limit,
-_97                    exact_match=not args.partial_matching,
-_98                )
-_99                db.close()
-100                print(f"{len(results)} matching rows in {table} table:")
-101                try:
-102                    print(DataBased.data_to_string(results))  # type: ignore
-103                except Exception as e:
-104                    print("Couldn't fit data into a grid.")
-105                    print(*results, sep="\n")
-106                print()
+_86        Pass -h/--help flag for parser help."""
+_87        print("Finding records... ")
+_88        if len(args.columns) == 0:
+_89            args.columns = None
+_90        with DataBased(self.dbpath) as db:
+_91            tables = args.tables or db.get_table_names()
+_92            for table in tables:
+_93                results = db.get_rows(
+_94                    table,
+_95                    args.match_pairs,
+_96                    columns_to_return=args.columns,
+_97                    order_by=args.order_by,
+_98                    limit=args.limit,
+_99                    exact_match=not args.partial_matching,
+100                )
+101                db.close()
+102                print(f"{len(results)} matching rows in {table} table:")
+103                try:
+104                    print(DataBased.data_to_string(results))  # type: ignore
+105                except Exception as e:
+106                    print("Couldn't fit data into a grid.")
+107                    print(*results, sep="\n")
+108                print()
 Find and print rows from the database. Use the -t/--tables, -m/--match_pairs,
 and -l/--limit flags to limit the search. Use the -c/--columns flag to limit
 what columns are printed. Use the -o/--order_by flag to order the results. Use
 the -p/--partial_matching flag to enable substring matching on -m/--match_pairs
 Pass -h/--help flag for parser help.
 ⁰
 @argshell.with_parser(dbparsers.get_search_parser)
 def do_search(self, args: argshell.argshell.Namespace): View Source
-108    @argshell.with_parser(dbparsers.get_search_parser)
-109    def do_search(self, args: argshell.Namespace):
-110        """Search and return any rows containg the searched substring in any
+110    @argshell.with_parser(dbparsers.get_search_parser)
+111    def do_search(self, args: argshell.Namespace):
+112        """Search and return any rows containg the searched substring in any
 of its columns.
-111        Use the -t/--tables flag to limit the search to a specific table(s).
-112        Use the -c/--columns flag to limit the search to a specific column
+113        Use the -t/--tables flag to limit the search to a specific table(s).
+114        Use the -c/--columns flag to limit the search to a specific column
 (s)."""
-113        print(f"Searching for {args.search_string}...")
-114        with DataBased(self.dbpath) as db:
-115            tables = args.tables or db.get_table_names()
-116            for table in tables:
-117                columns = args.columns or db.get_column_names(table)
-118                matcher = " OR ".join(
-119                    f'{column} LIKE "%{args.search_string}%"' for column in
+115        print(f"Searching for {args.search_string}...")
+116        with DataBased(self.dbpath) as db:
+117            tables = args.tables or db.get_table_names()
+118            for table in tables:
+119                columns = args.columns or db.get_column_names(table)
+120                matcher = " OR ".join(
+121                    f'{column} LIKE "%{args.search_string}%"' for column in
 columns
-120                )
-121                query = f"SELECT * FROM {table} WHERE {matcher};"
-122                results = db.query(query)
-123                results = [db._get_dict(table, result) for result in
+122                )
+123                query = f"SELECT * FROM {table} WHERE {matcher};"
+124                results = db.query(query)
+125                results = [db._get_dict(table, result) for result in
 results]
-124                print(f"Found {len(results)} results in {table} table.")
-125                print(DataBased.data_to_string(results))
+126                print(f"Found {len(results)} results in {table} table.")
+127                print(DataBased.data_to_string(results))
 Search and return any rows containg the searched substring in any of its
 columns. Use the -t/--tables flag to limit the search to a specific table(s).
 Use the -c/--columns flag to limit the search to a specific column(s).
 ⁰
 @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
 def do_count(self, args: argshell.argshell.Namespace): View Source
-127    @argshell.with_parser(dbparsers.get_lookup_parser,
+129    @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
-128    def do_count(self, args: argshell.Namespace):
-129        """Print the number of rows in the database.
-130        Use the -t/--tables flag to limit results to a specific table(s).
-131        Use the -m/--match_pairs flag to limit the results to rows matching
+130    def do_count(self, args: argshell.Namespace):
+131        """Print the number of rows in the database.
+132        Use the -t/--tables flag to limit results to a specific table(s).
+133        Use the -m/--match_pairs flag to limit the results to rows matching
 these criteria.
-132        Use the -p/--partial_matching flag to enable substring matching on -
+134        Use the -p/--partial_matching flag to enable substring matching on -
 m/--match_pairs.
-133        Pass -h/--help flag for parser help."""
-134        print("Counting rows...")
-135        with DataBased(self.dbpath) as db:
-136            tables = args.tables or db.get_table_names()
-137            for table in tables:
-138                num_rows = db.count(table, args.match_pairs, not
+135        Pass -h/--help flag for parser help."""
+136        print("Counting rows...")
+137        with DataBased(self.dbpath) as db:
+138            tables = args.tables or db.get_table_names()
+139            for table in tables:
+140                num_rows = db.count(table, args.match_pairs, not
 args.partial_matching)
-139                print(f"{num_rows} matching rows in {table} table.")
+141                print(f"{num_rows} matching rows in {table} table.")
 Print the number of rows in the database. Use the -t/--tables flag to limit
 results to a specific table(s). Use the -m/--match_pairs flag to limit the
 results to rows matching these criteria. Use the -p/--partial_matching flag to
 enable substring matching on -m/--match_pairs. Pass -h/--help flag for parser
 help.
 ⁰
 def do_query(self, arg: str): View Source
-141    def do_query(self, arg: str):
-142        """Execute a query against the current database."""
-143        print(f"Executing {arg}")
-144        with DataBased(self.dbpath) as db:
-145            results = db.query(arg)
-146        try:
-147            for result in results:
-148                print(*result, sep="|-|")
-149        except Exception as e:
-150            print(f"{type(e).__name__}: {e}")
+143    def do_query(self, arg: str):
+144        """Execute a query against the current database."""
+145        print(f"Executing {arg}")
+146        with DataBased(self.dbpath) as db:
+147            results = db.query(arg)
+148        try:
+149            for result in results:
+150                print(*result, sep="|-|")
+151            print(f"{db.cursor.rowcount} affected rows")
+152        except Exception as e:
+153            print(f"{type(e).__name__}: {e}")
 Execute a query against the current database.
 ⁰
 @argshell.with_parser(dbparsers.get_update_parser,
 [dbparsers.convert_match_pairs])
 def do_update(self, args: argshell.argshell.Namespace): View Source
-152    @argshell.with_parser(dbparsers.get_update_parser,
+155    @argshell.with_parser(dbparsers.get_update_parser,
 [dbparsers.convert_match_pairs])
-153    def do_update(self, args: argshell.Namespace):
-154        """Update a column to a new value.
-155        Two required args: the column (-c/--column) to update and the value
+156    def do_update(self, args: argshell.Namespace):
+157        """Update a column to a new value.
+158        Two required args: the column (-c/--column) to update and the value
 (-v/--value) to update to.
-156        Use the -t/--tables flag to limit what tables are updated.
-157        Use the -m/--match_pairs flag to specify which rows are updated.
-158        >>> based>update -c username -v big_chungus -t users -m username
+159        Use the -t/--tables flag to limit what tables are updated.
+160        Use the -m/--match_pairs flag to specify which rows are updated.
+161        Use the -p/--partial_matching flag to enable substring matching on -
+m/--match_pairs.
+162        >>> based>update -c username -v big_chungus -t users -m username
 lil_chungus
-159
-160        ^will update the username in the users 'table' to 'big_chungus'
+163
+164        ^will update the username in the users 'table' to 'big_chungus'
 where the username is currently 'lil_chungus'^"""
-161        print("Updating rows...")
-162        with DataBased(self.dbpath) as db:
-163            tables = args.tables or db.get_table_names()
-164            for table in tables:
-165                if db.update(table, args.column, args.new_value,
-args.match_pairs):
-166                    print(f"Updating rows in {table} table successful.")
-167                else:
-168                    print(f"Failed to update rows in {table} table.")
+165        print("Updating rows...")
+166        with DataBased(self.dbpath) as db:
+167            tables = args.tables or db.get_table_names()
+168            for table in tables:
+169                num_updates = db.update(
+170                    table,
+171                    args.column,
+172                    args.new_value,
+173                    args.match_pairs,
+174                    not args.partial_matching,
+175                )
+176                print(f"Updated {num_updates} rows in {table} table.")
 Update a column to a new value. Two required args: the column (-c/--column) to
 update and the value (-v/--value) to update to. Use the -t/--tables flag to
 limit what tables are updated. Use the -m/--match_pairs flag to specify which
-rows are updated.
+rows are updated. Use the -p/--partial_matching flag to enable substring
+matching on -m/--match_pairs.
 >>> based>update -c username -v big_chungus -t users -m username lil_chungus
 ^will update the username in the users 'table' to 'big_chungus' where the
 username is currently 'lil_chungus'^
 ⁰
 @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
 def do_delete(self, args: argshell.argshell.Namespace): View Source
-170    @argshell.with_parser(dbparsers.get_lookup_parser,
+178    @argshell.with_parser(dbparsers.get_lookup_parser,
 [dbparsers.convert_match_pairs])
-171    def do_delete(self, args: argshell.Namespace):
-172        """Delete rows from the database.
-173        Use the -t/--tables flag to limit what tables rows are deleted from.
-174        Use the -m/--match_pairs flag to specify which rows are deleted.
-175        Use the -p/--partial_matching flag to enable substring matching on -
+179    def do_delete(self, args: argshell.Namespace):
+180        """Delete rows from the database.
+181        Use the -t/--tables flag to limit what tables rows are deleted from.
+182        Use the -m/--match_pairs flag to specify which rows are deleted.
+183        Use the -p/--partial_matching flag to enable substring matching on -
 m/--match_pairs.
-176        >>> based>delete -t users -m username chungus -p
-177
-178        ^will delete all rows in the 'users' table whose username contains
+184        >>> based>delete -t users -m username chungus -p
+185
+186        ^will delete all rows in the 'users' table whose username contains
 'chungus'^"""
-179        print("Deleting records...")
-180        with DataBased(self.dbpath) as db:
-181            tables = args.tables or db.get_table_names()
-182            for table in tables:
-183                num_rows = db.delete(table, args.match_pairs, not
+187        print("Deleting records...")
+188        with DataBased(self.dbpath) as db:
+189            tables = args.tables or db.get_table_names()
+190            for table in tables:
+191                num_rows = db.delete(table, args.match_pairs, not
 args.partial_matching)
-184                print(f"Deleted {num_rows} rows from {table} table.")
+192                print(f"Deleted {num_rows} rows from {table} table.")
 Delete rows from the database. Use the -t/--tables flag to limit what tables
 rows are deleted from. Use the -m/--match_pairs flag to specify which rows are
 deleted. Use the -p/--partial_matching flag to enable substring matching on -m/
 --match_pairs.
 >>> based>delete -t users -m username chungus -p
 ^will delete all rows in the 'users' table whose username contains 'chungus'^
 ⁰
 @argshell.with_parser(dbparsers.get_add_column_parser)
 def do_add_column(self, args: argshell.argshell.Namespace): View Source
-186    @argshell.with_parser(dbparsers.get_add_column_parser)
-187    def do_add_column(self, args: argshell.Namespace):
-188        """Add a new column to the specified tables."""
-189        with DataBased(self.dbpath) as db:
-190            tables = args.tables or db.get_table_names()
-191            for table in tables:
-192                db.add_column(table, args.column_name, args.type,
+194    @argshell.with_parser(dbparsers.get_add_column_parser)
+195    def do_add_column(self, args: argshell.Namespace):
+196        """Add a new column to the specified tables."""
+197        with DataBased(self.dbpath) as db:
+198            tables = args.tables or db.get_table_names()
+199            for table in tables:
+200                db.add_column(table, args.column_name, args.type,
 args.default_value)
 Add a new column to the specified tables.
 ⁰
 def do_flush_log(self, arg: str): View Source
-194    def do_flush_log(self, arg: str):
-195        """Clear the log file for this database."""
-196        log_path = self.dbpath.with_name(self.dbpath.stem + "db.log")
-197        if not log_path.exists():
-198            print(f"No log file at path {log_path}")
-199        else:
-200            print(f"Flushing log...")
-201            log_path.write_text("")
+202    def do_flush_log(self, arg: str):
+203        """Clear the log file for this database."""
+204        log_path = self.dbpath.with_name(self.dbpath.stem + "db.log")
+205        if not log_path.exists():
+206            print(f"No log file at path {log_path}")
+207        else:
+208            print(f"Flushing log...")
+209            log_path.write_text("")
 Clear the log file for this database.
 ⁰
 def do_scan_dbs(self, arg: str): View Source
-203    def do_scan_dbs(self, arg: str):
-204        """Scan the current working directory for `*.db` files and display
+211    def do_scan_dbs(self, arg: str):
+212        """Scan the current working directory for `*.db` files and display
 them.
-205
-206        If the command is entered as `based>scan_dbs r`, the scan will be
+213
+214        If the command is entered as `based>scan_dbs r`, the scan will be
 performed recursively."""
-207        cwd = Pathier.cwd()
-208        if arg.strip() == "r":
-209            dbs = cwd.rglob("*.db")
-210        else:
-211            dbs = cwd.glob("*.db")
-212        for db in dbs:
-213            print(db.separate(cwd.stem))
+215        cwd = Pathier.cwd()
+216        if arg.strip() == "r":
+217            dbs = cwd.rglob("*.db")
+218        else:
+219            dbs = cwd.glob("*.db")
+220        for db in dbs:
+221            print(db.separate(cwd.stem))
 Scan the current working directory for *.db files and display them.
 If the command is entered as based>scan_dbs r, the scan will be performed
 recursively.
 ⁰
 def do_customize(self, arg: str): View Source
-215    def do_customize(self, arg: str):
-216        """Generate a template file in the current working directory for
-creating a custom DBManager class.
-217        Expects one argument: the name of the custom dbmanager.
-218        This will be used to name the generated file as well as several
+223    def do_customize(self, arg: str):
+224        """Generate a template file in the current working directory for
+creating a custom DBShell class.
+225        Expects one argument: the name of the custom dbshell.
+226        This will be used to name the generated file as well as several
 components in the file content."""
-219        custom_file = (Pathier.cwd() / arg.replace(" ", "_")).with_suffix
+227        custom_file = (Pathier.cwd() / arg.replace(" ", "_")).with_suffix
 (".py")
-220        if custom_file.exists():
-221            print(f"Error: {custom_file.name} already exists in this
+228        if custom_file.exists():
+229            print(f"Error: {custom_file.name} already exists in this
 location.")
-222        else:
-223            variable_name = "_".join(word for word in arg.lower().split())
-224            class_name = "".join(word.capitalize() for word in arg.split())
-225            content = (Pathier(__file__).parent /
-"custom_manager.py").read_text()
-226            content = content.replace("CustomManager", class_name)
-227            content = content.replace("custommanager", variable_name)
-228            custom_file.write_text(content)
+230        else:
+231            variable_name = "_".join(word for word in arg.lower().split())
+232            class_name = "".join(word.capitalize() for word in arg.split())
+233            content = (Pathier(__file__).parent /
+"customshell.py").read_text()
+234            content = content.replace("CustomShell", class_name)
+235            content = content.replace("customshell", variable_name)
+236            custom_file.write_text(content)
 Generate a template file in the current working directory for creating a custom
-DBManager class. Expects one argument: the name of the custom dbmanager. This
-will be used to name the generated file as well as several components in the
-file content.
+DBShell class. Expects one argument: the name of the custom dbshell. This will
+be used to name the generated file as well as several components in the file
+content.
 ⁰
 def preloop(self): View Source
-248    def preloop(self):
-249        """Scan the current directory for a .db file to use.
-250        If not found, prompt the user for one or to try again
+256    def preloop(self):
+257        """Scan the current directory for a .db file to use.
+258        If not found, prompt the user for one or to try again
 recursively."""
-251        if self.dbpath:
-252            self.dbpath = Pathier(self.dbpath)
-253            print(f"Defaulting to database {self.dbpath}")
-254        else:
-255            print("Searching for database...")
-256            cwd = Pathier.cwd()
-257            dbs = list(cwd.glob("*.db"))
-258            if len(dbs) == 1:
-259                self.dbpath = dbs[0]
-260                print(f"Using database {self.dbpath}.")
-261            elif dbs:
-262                self.dbpath = self._choose_db(dbs)
-263            else:
-264                print(f"Could not find a .db file in {cwd}.")
-265                path = input(
-266                    "Enter path to .db file to use or press enter to search
+259        if self.dbpath:
+260            self.dbpath = Pathier(self.dbpath)
+261            print(f"Defaulting to database {self.dbpath}")
+262        else:
+263            print("Searching for database...")
+264            cwd = Pathier.cwd()
+265            dbs = list(cwd.glob("*.db"))
+266            if len(dbs) == 1:
+267                self.dbpath = dbs[0]
+268                print(f"Using database {self.dbpath}.")
+269            elif dbs:
+270                self.dbpath = self._choose_db(dbs)
+271            else:
+272                print(f"Could not find a .db file in {cwd}.")
+273                path = input(
+274                    "Enter path to .db file to use or press enter to search
 again recursively: "
-267                )
-268                if path:
-269                    self.dbpath = Pathier(path)
-270                elif not path:
-271                    print("Searching recursively...")
-272                    dbs = list(cwd.rglob("*.db"))
-273                    if len(dbs) == 1:
-274                        self.dbpath = dbs[0]
-275                        print(f"Using database {self.dbpath}.")
-276                    elif dbs:
-277                        self.dbpath = self._choose_db(dbs)
-278                    else:
-279                        print("Could not find a .db file.")
-280                        self.dbpath = Pathier(input("Enter path to a .db
+275                )
+276                if path:
+277                    self.dbpath = Pathier(path)
+278                elif not path:
+279                    print("Searching recursively...")
+280                    dbs = list(cwd.rglob("*.db"))
+281                    if len(dbs) == 1:
+282                        self.dbpath = dbs[0]
+283                        print(f"Using database {self.dbpath}.")
+284                    elif dbs:
+285                        self.dbpath = self._choose_db(dbs)
+286                    else:
+287                        print("Could not find a .db file.")
+288                        self.dbpath = Pathier(input("Enter path to a .db
 file: "))
-281        if not self.dbpath.exists():
-282            raise FileNotFoundError(f"{self.dbpath} does not exist.")
-283        if not self.dbpath.is_file():
-284            raise ValueError(f"{self.dbpath} is not a file.")
+289        if not self.dbpath.exists():
+290            raise FileNotFoundError(f"{self.dbpath} does not exist.")
+291        if not self.dbpath.is_file():
+292            raise ValueError(f"{self.dbpath} is not a file.")
 Scan the current directory for a .db file to use. If not found, prompt the user
 for one or to try again recursively.
 ** Inherited Members **
   ⁰
 def main(): View Source
-287def main():
-288    DBManager().cmdloop()
+295def main():
+296    DBShell().cmdloop()
```

### Comparing `databased-1.6.0/docs/databased/dbparsers.html` & `databased-2.0.0/docs/databased/dbparsers.html`

 * *Files 2% similar despite different names*

```diff
@@ -27,14 +27,17 @@
                    pattern=".+" required>
 
 
 
         <h2>API Documentation</h2>
             <ul class="memberlist">
             <li>
+                    <a class="function" href="#get_info_parser">get_info_parser</a>
+            </li>
+            <li>
                     <a class="function" href="#get_create_table_parser">get_create_table_parser</a>
             </li>
             <li>
                     <a class="function" href="#get_add_row_parser">get_add_row_parser</a>
             </li>
             <li>
                     <a class="function" href="#get_search_parser">get_search_parser</a>
@@ -109,192 +112,249 @@
 </span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; When selecting rows using a string, the string can be a substring instead of an exact match.</span>
 </span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="s2">        i.e. &quot;-t names -m first theo&quot; only returns rows from names where the first name is exactly &#39;theo&#39;.</span>
 </span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="s2">        &quot;-t names -m first theo -p&quot; would return rows with first names of &#39;theo&#39;, but also rows with names like &#39;theodore&#39;.  &quot;&quot;&quot;</span><span class="p">,</span>
 </span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>    <span class="p">)</span>
 </span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>    <span class="k">return</span> <span class="n">parser</span>
 </span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a>
 </span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>
-</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="k">def</span> <span class="nf">get_create_table_parser</span><span class="p">(</span><span class="n">add_help</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for adding a table to the database.&quot;&quot;&quot;</span>
-</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">add_help</span><span class="o">=</span><span class="n">add_help</span><span class="p">)</span>
+</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="k">def</span> <span class="nf">get_info_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>    <span class="sd">&quot;&quot;&quot;Returns info parser.&quot;&quot;&quot;</span>
+</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">()</span>
 </span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>        <span class="s2">&quot;table_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of the table to add. &quot;&quot;&quot;</span>
-</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>    <span class="p">)</span>
-</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
-</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
-</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
-</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; A list of column definitions for the table.</span>
-</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="s2">        i.e. &#39;mytable -c &quot;username text unique&quot; &quot;date_registered timestamp&quot; &quot;email_verified int default 0&quot;&#39;&quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>    <span class="p">)</span>
-</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>    <span class="k">return</span> <span class="n">parser</span>
-</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>
-</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>
-</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a><span class="k">def</span> <span class="nf">get_add_row_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for adding a row to a table.&quot;&quot;&quot;</span>
-</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">get_create_table_parser</span><span class="p">(</span><span class="kc">False</span><span class="p">)])</span>
-</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>        <span class="s2">&quot;-v&quot;</span><span class="p">,</span>
-</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>        <span class="s2">&quot;--values&quot;</span><span class="p">,</span>
-</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
-</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; If -c/--columns is supplied, it and this flag must have the same number of elements.</span>
-</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a><span class="s2">        If -c/--columns is not supplied, an element must be supplied to this flag for every column in the table. &quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>    <span class="p">)</span>
-</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>    <span class="k">return</span> <span class="n">parser</span>
-</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>
-</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>
-</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a><span class="k">def</span> <span class="nf">get_search_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>    <span class="sd">&quot;&quot;&quot;Returns a search parser.&quot;&quot;&quot;</span>
-</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">()</span>
-</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>        <span class="s2">&quot;search_string&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Search all columns for this substring. &quot;&quot;&quot;</span>
-</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>    <span class="p">)</span>
-</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>
-</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>        <span class="s2">&quot;--tables&quot;</span><span class="p">,</span>
-</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
-</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Limits search to a specific list of tables&quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>    <span class="p">)</span>
-</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
-</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
-</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
-</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Limits search to these columns. &quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>    <span class="p">)</span>
-</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>    <span class="k">return</span> <span class="n">parser</span>
-</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>
-</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>
-</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a><span class="k">def</span> <span class="nf">get_lookup_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for row lookup functions.&quot;&quot;&quot;</span>
-</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">_get_base_parser</span><span class="p">()])</span>
-</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
-</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
-</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
-</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Limits what columns are returned.&quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>    <span class="p">)</span>
-</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>        <span class="s2">&quot;-o&quot;</span><span class="p">,</span>
-</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>        <span class="s2">&quot;--order_by&quot;</span><span class="p">,</span>
-</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
-</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of a column to sort results by.</span>
-</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a><span class="s2">        Can include &#39;desc&#39; as part of the argument.&quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>    <span class="p">)</span>
-</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>        <span class="s2">&quot;-l&quot;</span><span class="p">,</span>
-</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>        <span class="s2">&quot;--limit&quot;</span><span class="p">,</span>
-</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
-</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
-</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Only return this many results. &quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>    <span class="p">)</span>
-</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>    <span class="k">return</span> <span class="n">parser</span>
-</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>
-</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>
-</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a><span class="k">def</span> <span class="nf">get_update_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for update function.&quot;&quot;&quot;</span>
-</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">_get_base_parser</span><span class="p">()])</span>
-</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="s2">&quot;--column&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The column to update. &quot;&quot;&quot;</span>
-</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>    <span class="p">)</span>
-</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>        <span class="s2">&quot;-v&quot;</span><span class="p">,</span>
-</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>        <span class="s2">&quot;--new_value&quot;</span><span class="p">,</span>
-</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>        <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
-</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The new value to update with. &quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>    <span class="p">)</span>
-</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>    <span class="k">return</span> <span class="n">parser</span>
-</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>
-</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>
-</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a><span class="k">def</span> <span class="nf">get_add_column_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for the add column function.&quot;&quot;&quot;</span>
-</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">()</span>
-</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>        <span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of the column to add. &quot;&quot;&quot;</span>
-</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>    <span class="p">)</span>
-</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>        <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The data type of the column to add. &quot;&quot;&quot;</span>
-</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>    <span class="p">)</span>
-</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>
-</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>        <span class="s2">&quot;--tables&quot;</span><span class="p">,</span>
-</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
-</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Table(s) to add the column to.</span>
-</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a><span class="s2">        If not specified, the column will be added to every table in the database.&quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>    <span class="p">)</span>
-</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>        <span class="s2">&quot;-d&quot;</span><span class="p">,</span>
-</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>        <span class="s2">&quot;--default_value&quot;</span><span class="p">,</span>
-</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
-</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Default value for the new column. &quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>    <span class="p">)</span>
-</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>    <span class="k">return</span> <span class="n">parser</span>
-</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>
-</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>
-</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a><span class="c1"># ============================================================post parsers============================================================</span>
-</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a><span class="k">def</span> <span class="nf">convert_match_pairs</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
-</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>    <span class="sd">&quot;&quot;&quot;Create a list of tuples from match_pairs.&quot;&quot;&quot;</span>
-</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">:</span>
-</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>        <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span> <span class="o">=</span> <span class="p">[</span>
-</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>            <span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
-</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>            <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">[::</span><span class="mi">2</span><span class="p">],</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">])</span>
-</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>        <span class="p">]</span>
-</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>    <span class="k">return</span> <span class="n">args</span>
-</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>
-</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>
-</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a><span class="k">def</span> <span class="nf">verify_matching_length</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
-</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>    <span class="sd">&quot;&quot;&quot;Raise an error if -c/--columns is greater than zero and has</span>
-</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a><span class="sd">    a different number of elements than -v/--values.&quot;&quot;&quot;</span>
-</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
-</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
-</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>            <span class="sa">f</span><span class="s2">&quot;Column/Value length mismatch: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns and </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="si">}</span><span class="s2"> values provided.&quot;</span>
-</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>        <span class="p">)</span>
-</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>    <span class="k">return</span> <span class="n">args</span>
+</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>
+</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>        <span class="s2">&quot;--tables&quot;</span><span class="p">,</span>
+</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
+</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Only display info for this table(s). &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>    <span class="p">)</span>
+</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>        <span class="s2">&quot;-rc&quot;</span><span class="p">,</span>
+</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>        <span class="s2">&quot;--rowcount&quot;</span><span class="p">,</span>
+</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
+</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Count and display the number of rows for each table. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>    <span class="p">)</span>
+</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>    <span class="k">return</span> <span class="n">parser</span>
+</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>
+</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>
+</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="k">def</span> <span class="nf">get_create_table_parser</span><span class="p">(</span><span class="n">add_help</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for adding a table to the database.&quot;&quot;&quot;</span>
+</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">add_help</span><span class="o">=</span><span class="n">add_help</span><span class="p">)</span>
+</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>        <span class="s2">&quot;table_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of the table to add. &quot;&quot;&quot;</span>
+</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>    <span class="p">)</span>
+</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
+</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
+</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
+</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; A list of column definitions for the table.</span>
+</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a><span class="s2">        i.e. &#39;mytable -c &quot;username text unique&quot; &quot;date_registered timestamp&quot; &quot;email_verified int default 0&quot;&#39;&quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>    <span class="p">)</span>
+</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>    <span class="k">return</span> <span class="n">parser</span>
+</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>
+</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>
+</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a><span class="k">def</span> <span class="nf">get_add_row_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for adding a row to a table.&quot;&quot;&quot;</span>
+</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">get_create_table_parser</span><span class="p">(</span><span class="kc">False</span><span class="p">)])</span>
+</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>        <span class="s2">&quot;-v&quot;</span><span class="p">,</span>
+</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>        <span class="s2">&quot;--values&quot;</span><span class="p">,</span>
+</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
+</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; If -c/--columns is supplied, it and this flag must have the same number of elements.</span>
+</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a><span class="s2">        If -c/--columns is not supplied, an element must be supplied to this flag for every column in the table. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>    <span class="p">)</span>
+</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>    <span class="k">return</span> <span class="n">parser</span>
+</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>
+</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>
+</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="k">def</span> <span class="nf">get_search_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>    <span class="sd">&quot;&quot;&quot;Returns a search parser.&quot;&quot;&quot;</span>
+</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">()</span>
+</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>        <span class="s2">&quot;search_string&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Search all columns for this substring. &quot;&quot;&quot;</span>
+</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>    <span class="p">)</span>
+</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>
+</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>        <span class="s2">&quot;--tables&quot;</span><span class="p">,</span>
+</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
+</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Limits search to a specific list of tables&quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>    <span class="p">)</span>
+</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
+</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
+</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
+</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Limits search to these columns. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>    <span class="p">)</span>
+</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>    <span class="k">return</span> <span class="n">parser</span>
+</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>
+</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>
+</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a><span class="k">def</span> <span class="nf">get_lookup_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for row lookup functions.&quot;&quot;&quot;</span>
+</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">_get_base_parser</span><span class="p">()])</span>
+</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
+</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
+</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
+</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Limits what columns are returned.&quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>    <span class="p">)</span>
+</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>        <span class="s2">&quot;-o&quot;</span><span class="p">,</span>
+</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>        <span class="s2">&quot;--order_by&quot;</span><span class="p">,</span>
+</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
+</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of a column to sort results by.</span>
+</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a><span class="s2">        Can include &#39;desc&#39; as part of the argument.&quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>    <span class="p">)</span>
+</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="s2">&quot;-l&quot;</span><span class="p">,</span>
+</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>        <span class="s2">&quot;--limit&quot;</span><span class="p">,</span>
+</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
+</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
+</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Only return this many results. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>    <span class="p">)</span>
+</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>    <span class="k">return</span> <span class="n">parser</span>
+</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>
+</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>
+</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a><span class="k">def</span> <span class="nf">get_update_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for update function.&quot;&quot;&quot;</span>
+</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">_get_base_parser</span><span class="p">()])</span>
+</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="s2">&quot;--column&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The column to update. &quot;&quot;&quot;</span>
+</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>    <span class="p">)</span>
+</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>        <span class="s2">&quot;-v&quot;</span><span class="p">,</span>
+</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>        <span class="s2">&quot;--new_value&quot;</span><span class="p">,</span>
+</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>        <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
+</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The new value to update with. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>    <span class="p">)</span>
+</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>    <span class="k">return</span> <span class="n">parser</span>
+</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>
+</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>
+</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a><span class="k">def</span> <span class="nf">get_add_column_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for the add column function.&quot;&quot;&quot;</span>
+</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">()</span>
+</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>        <span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of the column to add. &quot;&quot;&quot;</span>
+</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>    <span class="p">)</span>
+</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>        <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The data type of the column to add. &quot;&quot;&quot;</span>
+</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>    <span class="p">)</span>
+</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>
+</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>        <span class="s2">&quot;--tables&quot;</span><span class="p">,</span>
+</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
+</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Table(s) to add the column to.</span>
+</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a><span class="s2">        If not specified, the column will be added to every table in the database.&quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>    <span class="p">)</span>
+</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>        <span class="s2">&quot;-d&quot;</span><span class="p">,</span>
+</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>        <span class="s2">&quot;--default_value&quot;</span><span class="p">,</span>
+</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
+</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Default value for the new column. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>    <span class="p">)</span>
+</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>    <span class="k">return</span> <span class="n">parser</span>
+</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>
+</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>
+</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a><span class="c1"># ============================================================post parsers============================================================</span>
+</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a><span class="k">def</span> <span class="nf">convert_match_pairs</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
+</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>    <span class="sd">&quot;&quot;&quot;Create a list of tuples from match_pairs.&quot;&quot;&quot;</span>
+</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">:</span>
+</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>        <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span> <span class="o">=</span> <span class="p">[</span>
+</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>            <span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
+</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>            <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">[::</span><span class="mi">2</span><span class="p">],</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">])</span>
+</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>        <span class="p">]</span>
+</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>    <span class="k">return</span> <span class="n">args</span>
+</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>
+</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>
+</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a><span class="k">def</span> <span class="nf">verify_matching_length</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
+</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>    <span class="sd">&quot;&quot;&quot;Raise an error if -c/--columns is greater than zero and has</span>
+</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a><span class="sd">    a different number of elements than -v/--values.&quot;&quot;&quot;</span>
+</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
+</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
+</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>            <span class="sa">f</span><span class="s2">&quot;Column/Value length mismatch: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns and </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="si">}</span><span class="s2"> values provided.&quot;</span>
+</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>        <span class="p">)</span>
+</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>    <span class="k">return</span> <span class="n">args</span>
 </span></pre></div>
 
 
             </section>
+                <section id="get_info_parser">
+                            <input id="get_info_parser-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
+<div class="attr function">
+            
+        <span class="def">def</span>
+        <span class="name">get_info_parser</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span>:</span></span>
+
+                <label class="view-source-button" for="get_info_parser-view-source"><span>View Source</span></label>
+
+    </div>
+    <a class="headerlink" href="#get_info_parser"></a>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="get_info_parser-40"><a href="#get_info_parser-40"><span class="linenos">40</span></a><span class="k">def</span> <span class="nf">get_info_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="get_info_parser-41"><a href="#get_info_parser-41"><span class="linenos">41</span></a>    <span class="sd">&quot;&quot;&quot;Returns info parser.&quot;&quot;&quot;</span>
+</span><span id="get_info_parser-42"><a href="#get_info_parser-42"><span class="linenos">42</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">()</span>
+</span><span id="get_info_parser-43"><a href="#get_info_parser-43"><span class="linenos">43</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_info_parser-44"><a href="#get_info_parser-44"><span class="linenos">44</span></a>        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>
+</span><span id="get_info_parser-45"><a href="#get_info_parser-45"><span class="linenos">45</span></a>        <span class="s2">&quot;--tables&quot;</span><span class="p">,</span>
+</span><span id="get_info_parser-46"><a href="#get_info_parser-46"><span class="linenos">46</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="get_info_parser-47"><a href="#get_info_parser-47"><span class="linenos">47</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="get_info_parser-48"><a href="#get_info_parser-48"><span class="linenos">48</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
+</span><span id="get_info_parser-49"><a href="#get_info_parser-49"><span class="linenos">49</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Only display info for this table(s). &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_info_parser-50"><a href="#get_info_parser-50"><span class="linenos">50</span></a>    <span class="p">)</span>
+</span><span id="get_info_parser-51"><a href="#get_info_parser-51"><span class="linenos">51</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_info_parser-52"><a href="#get_info_parser-52"><span class="linenos">52</span></a>        <span class="s2">&quot;-rc&quot;</span><span class="p">,</span>
+</span><span id="get_info_parser-53"><a href="#get_info_parser-53"><span class="linenos">53</span></a>        <span class="s2">&quot;--rowcount&quot;</span><span class="p">,</span>
+</span><span id="get_info_parser-54"><a href="#get_info_parser-54"><span class="linenos">54</span></a>        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
+</span><span id="get_info_parser-55"><a href="#get_info_parser-55"><span class="linenos">55</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Count and display the number of rows for each table. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_info_parser-56"><a href="#get_info_parser-56"><span class="linenos">56</span></a>    <span class="p">)</span>
+</span><span id="get_info_parser-57"><a href="#get_info_parser-57"><span class="linenos">57</span></a>    <span class="k">return</span> <span class="n">parser</span>
+</span></pre></div>
+
+
+            <div class="docstring"><p>Returns info parser.</p>
+</div>
+
+
+                </section>
                 <section id="get_create_table_parser">
                             <input id="get_create_table_parser-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
 <div class="attr function">
             
         <span class="def">def</span>
         <span class="name">get_create_table_parser</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">add_help</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span>:</span></span>
 
                 <label class="view-source-button" for="get_create_table_parser-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#get_create_table_parser"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="get_create_table_parser-40"><a href="#get_create_table_parser-40"><span class="linenos">40</span></a><span class="k">def</span> <span class="nf">get_create_table_parser</span><span class="p">(</span><span class="n">add_help</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="get_create_table_parser-41"><a href="#get_create_table_parser-41"><span class="linenos">41</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for adding a table to the database.&quot;&quot;&quot;</span>
-</span><span id="get_create_table_parser-42"><a href="#get_create_table_parser-42"><span class="linenos">42</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">add_help</span><span class="o">=</span><span class="n">add_help</span><span class="p">)</span>
-</span><span id="get_create_table_parser-43"><a href="#get_create_table_parser-43"><span class="linenos">43</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_create_table_parser-44"><a href="#get_create_table_parser-44"><span class="linenos">44</span></a>        <span class="s2">&quot;table_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of the table to add. &quot;&quot;&quot;</span>
-</span><span id="get_create_table_parser-45"><a href="#get_create_table_parser-45"><span class="linenos">45</span></a>    <span class="p">)</span>
-</span><span id="get_create_table_parser-46"><a href="#get_create_table_parser-46"><span class="linenos">46</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_create_table_parser-47"><a href="#get_create_table_parser-47"><span class="linenos">47</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
-</span><span id="get_create_table_parser-48"><a href="#get_create_table_parser-48"><span class="linenos">48</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
-</span><span id="get_create_table_parser-49"><a href="#get_create_table_parser-49"><span class="linenos">49</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="get_create_table_parser-50"><a href="#get_create_table_parser-50"><span class="linenos">50</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="get_create_table_parser-51"><a href="#get_create_table_parser-51"><span class="linenos">51</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
-</span><span id="get_create_table_parser-52"><a href="#get_create_table_parser-52"><span class="linenos">52</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; A list of column definitions for the table.</span>
-</span><span id="get_create_table_parser-53"><a href="#get_create_table_parser-53"><span class="linenos">53</span></a><span class="s2">        i.e. &#39;mytable -c &quot;username text unique&quot; &quot;date_registered timestamp&quot; &quot;email_verified int default 0&quot;&#39;&quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="get_create_table_parser-54"><a href="#get_create_table_parser-54"><span class="linenos">54</span></a>    <span class="p">)</span>
-</span><span id="get_create_table_parser-55"><a href="#get_create_table_parser-55"><span class="linenos">55</span></a>    <span class="k">return</span> <span class="n">parser</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="get_create_table_parser-60"><a href="#get_create_table_parser-60"><span class="linenos">60</span></a><span class="k">def</span> <span class="nf">get_create_table_parser</span><span class="p">(</span><span class="n">add_help</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="get_create_table_parser-61"><a href="#get_create_table_parser-61"><span class="linenos">61</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for adding a table to the database.&quot;&quot;&quot;</span>
+</span><span id="get_create_table_parser-62"><a href="#get_create_table_parser-62"><span class="linenos">62</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">add_help</span><span class="o">=</span><span class="n">add_help</span><span class="p">)</span>
+</span><span id="get_create_table_parser-63"><a href="#get_create_table_parser-63"><span class="linenos">63</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_create_table_parser-64"><a href="#get_create_table_parser-64"><span class="linenos">64</span></a>        <span class="s2">&quot;table_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of the table to add. &quot;&quot;&quot;</span>
+</span><span id="get_create_table_parser-65"><a href="#get_create_table_parser-65"><span class="linenos">65</span></a>    <span class="p">)</span>
+</span><span id="get_create_table_parser-66"><a href="#get_create_table_parser-66"><span class="linenos">66</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_create_table_parser-67"><a href="#get_create_table_parser-67"><span class="linenos">67</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
+</span><span id="get_create_table_parser-68"><a href="#get_create_table_parser-68"><span class="linenos">68</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
+</span><span id="get_create_table_parser-69"><a href="#get_create_table_parser-69"><span class="linenos">69</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="get_create_table_parser-70"><a href="#get_create_table_parser-70"><span class="linenos">70</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="get_create_table_parser-71"><a href="#get_create_table_parser-71"><span class="linenos">71</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
+</span><span id="get_create_table_parser-72"><a href="#get_create_table_parser-72"><span class="linenos">72</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; A list of column definitions for the table.</span>
+</span><span id="get_create_table_parser-73"><a href="#get_create_table_parser-73"><span class="linenos">73</span></a><span class="s2">        i.e. &#39;mytable -c &quot;username text unique&quot; &quot;date_registered timestamp&quot; &quot;email_verified int default 0&quot;&#39;&quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_create_table_parser-74"><a href="#get_create_table_parser-74"><span class="linenos">74</span></a>    <span class="p">)</span>
+</span><span id="get_create_table_parser-75"><a href="#get_create_table_parser-75"><span class="linenos">75</span></a>    <span class="k">return</span> <span class="n">parser</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Returns a parser for adding a table to the database.</p>
 </div>
 
 
@@ -306,26 +366,26 @@
         <span class="def">def</span>
         <span class="name">get_add_row_parser</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span>:</span></span>
 
                 <label class="view-source-button" for="get_add_row_parser-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#get_add_row_parser"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="get_add_row_parser-58"><a href="#get_add_row_parser-58"><span class="linenos">58</span></a><span class="k">def</span> <span class="nf">get_add_row_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="get_add_row_parser-59"><a href="#get_add_row_parser-59"><span class="linenos">59</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for adding a row to a table.&quot;&quot;&quot;</span>
-</span><span id="get_add_row_parser-60"><a href="#get_add_row_parser-60"><span class="linenos">60</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">get_create_table_parser</span><span class="p">(</span><span class="kc">False</span><span class="p">)])</span>
-</span><span id="get_add_row_parser-61"><a href="#get_add_row_parser-61"><span class="linenos">61</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_add_row_parser-62"><a href="#get_add_row_parser-62"><span class="linenos">62</span></a>        <span class="s2">&quot;-v&quot;</span><span class="p">,</span>
-</span><span id="get_add_row_parser-63"><a href="#get_add_row_parser-63"><span class="linenos">63</span></a>        <span class="s2">&quot;--values&quot;</span><span class="p">,</span>
-</span><span id="get_add_row_parser-64"><a href="#get_add_row_parser-64"><span class="linenos">64</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="get_add_row_parser-65"><a href="#get_add_row_parser-65"><span class="linenos">65</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
-</span><span id="get_add_row_parser-66"><a href="#get_add_row_parser-66"><span class="linenos">66</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; If -c/--columns is supplied, it and this flag must have the same number of elements.</span>
-</span><span id="get_add_row_parser-67"><a href="#get_add_row_parser-67"><span class="linenos">67</span></a><span class="s2">        If -c/--columns is not supplied, an element must be supplied to this flag for every column in the table. &quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="get_add_row_parser-68"><a href="#get_add_row_parser-68"><span class="linenos">68</span></a>    <span class="p">)</span>
-</span><span id="get_add_row_parser-69"><a href="#get_add_row_parser-69"><span class="linenos">69</span></a>    <span class="k">return</span> <span class="n">parser</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="get_add_row_parser-78"><a href="#get_add_row_parser-78"><span class="linenos">78</span></a><span class="k">def</span> <span class="nf">get_add_row_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="get_add_row_parser-79"><a href="#get_add_row_parser-79"><span class="linenos">79</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for adding a row to a table.&quot;&quot;&quot;</span>
+</span><span id="get_add_row_parser-80"><a href="#get_add_row_parser-80"><span class="linenos">80</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">get_create_table_parser</span><span class="p">(</span><span class="kc">False</span><span class="p">)])</span>
+</span><span id="get_add_row_parser-81"><a href="#get_add_row_parser-81"><span class="linenos">81</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_add_row_parser-82"><a href="#get_add_row_parser-82"><span class="linenos">82</span></a>        <span class="s2">&quot;-v&quot;</span><span class="p">,</span>
+</span><span id="get_add_row_parser-83"><a href="#get_add_row_parser-83"><span class="linenos">83</span></a>        <span class="s2">&quot;--values&quot;</span><span class="p">,</span>
+</span><span id="get_add_row_parser-84"><a href="#get_add_row_parser-84"><span class="linenos">84</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="get_add_row_parser-85"><a href="#get_add_row_parser-85"><span class="linenos">85</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
+</span><span id="get_add_row_parser-86"><a href="#get_add_row_parser-86"><span class="linenos">86</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; If -c/--columns is supplied, it and this flag must have the same number of elements.</span>
+</span><span id="get_add_row_parser-87"><a href="#get_add_row_parser-87"><span class="linenos">87</span></a><span class="s2">        If -c/--columns is not supplied, an element must be supplied to this flag for every column in the table. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_add_row_parser-88"><a href="#get_add_row_parser-88"><span class="linenos">88</span></a>    <span class="p">)</span>
+</span><span id="get_add_row_parser-89"><a href="#get_add_row_parser-89"><span class="linenos">89</span></a>    <span class="k">return</span> <span class="n">parser</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Returns a parser for adding a row to a table.</p>
 </div>
 
 
@@ -337,37 +397,37 @@
         <span class="def">def</span>
         <span class="name">get_search_parser</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span>:</span></span>
 
                 <label class="view-source-button" for="get_search_parser-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#get_search_parser"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="get_search_parser-72"><a href="#get_search_parser-72"><span class="linenos">72</span></a><span class="k">def</span> <span class="nf">get_search_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="get_search_parser-73"><a href="#get_search_parser-73"><span class="linenos">73</span></a>    <span class="sd">&quot;&quot;&quot;Returns a search parser.&quot;&quot;&quot;</span>
-</span><span id="get_search_parser-74"><a href="#get_search_parser-74"><span class="linenos">74</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">()</span>
-</span><span id="get_search_parser-75"><a href="#get_search_parser-75"><span class="linenos">75</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_search_parser-76"><a href="#get_search_parser-76"><span class="linenos">76</span></a>        <span class="s2">&quot;search_string&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Search all columns for this substring. &quot;&quot;&quot;</span>
-</span><span id="get_search_parser-77"><a href="#get_search_parser-77"><span class="linenos">77</span></a>    <span class="p">)</span>
-</span><span id="get_search_parser-78"><a href="#get_search_parser-78"><span class="linenos">78</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_search_parser-79"><a href="#get_search_parser-79"><span class="linenos">79</span></a>        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>
-</span><span id="get_search_parser-80"><a href="#get_search_parser-80"><span class="linenos">80</span></a>        <span class="s2">&quot;--tables&quot;</span><span class="p">,</span>
-</span><span id="get_search_parser-81"><a href="#get_search_parser-81"><span class="linenos">81</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="get_search_parser-82"><a href="#get_search_parser-82"><span class="linenos">82</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="get_search_parser-83"><a href="#get_search_parser-83"><span class="linenos">83</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
-</span><span id="get_search_parser-84"><a href="#get_search_parser-84"><span class="linenos">84</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Limits search to a specific list of tables&quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="get_search_parser-85"><a href="#get_search_parser-85"><span class="linenos">85</span></a>    <span class="p">)</span>
-</span><span id="get_search_parser-86"><a href="#get_search_parser-86"><span class="linenos">86</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_search_parser-87"><a href="#get_search_parser-87"><span class="linenos">87</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
-</span><span id="get_search_parser-88"><a href="#get_search_parser-88"><span class="linenos">88</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
-</span><span id="get_search_parser-89"><a href="#get_search_parser-89"><span class="linenos">89</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="get_search_parser-90"><a href="#get_search_parser-90"><span class="linenos">90</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="get_search_parser-91"><a href="#get_search_parser-91"><span class="linenos">91</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
-</span><span id="get_search_parser-92"><a href="#get_search_parser-92"><span class="linenos">92</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Limits search to these columns. &quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="get_search_parser-93"><a href="#get_search_parser-93"><span class="linenos">93</span></a>    <span class="p">)</span>
-</span><span id="get_search_parser-94"><a href="#get_search_parser-94"><span class="linenos">94</span></a>    <span class="k">return</span> <span class="n">parser</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="get_search_parser-92"><a href="#get_search_parser-92"><span class="linenos"> 92</span></a><span class="k">def</span> <span class="nf">get_search_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="get_search_parser-93"><a href="#get_search_parser-93"><span class="linenos"> 93</span></a>    <span class="sd">&quot;&quot;&quot;Returns a search parser.&quot;&quot;&quot;</span>
+</span><span id="get_search_parser-94"><a href="#get_search_parser-94"><span class="linenos"> 94</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">()</span>
+</span><span id="get_search_parser-95"><a href="#get_search_parser-95"><span class="linenos"> 95</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_search_parser-96"><a href="#get_search_parser-96"><span class="linenos"> 96</span></a>        <span class="s2">&quot;search_string&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Search all columns for this substring. &quot;&quot;&quot;</span>
+</span><span id="get_search_parser-97"><a href="#get_search_parser-97"><span class="linenos"> 97</span></a>    <span class="p">)</span>
+</span><span id="get_search_parser-98"><a href="#get_search_parser-98"><span class="linenos"> 98</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_search_parser-99"><a href="#get_search_parser-99"><span class="linenos"> 99</span></a>        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>
+</span><span id="get_search_parser-100"><a href="#get_search_parser-100"><span class="linenos">100</span></a>        <span class="s2">&quot;--tables&quot;</span><span class="p">,</span>
+</span><span id="get_search_parser-101"><a href="#get_search_parser-101"><span class="linenos">101</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="get_search_parser-102"><a href="#get_search_parser-102"><span class="linenos">102</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="get_search_parser-103"><a href="#get_search_parser-103"><span class="linenos">103</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
+</span><span id="get_search_parser-104"><a href="#get_search_parser-104"><span class="linenos">104</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Limits search to a specific list of tables&quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_search_parser-105"><a href="#get_search_parser-105"><span class="linenos">105</span></a>    <span class="p">)</span>
+</span><span id="get_search_parser-106"><a href="#get_search_parser-106"><span class="linenos">106</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_search_parser-107"><a href="#get_search_parser-107"><span class="linenos">107</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
+</span><span id="get_search_parser-108"><a href="#get_search_parser-108"><span class="linenos">108</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
+</span><span id="get_search_parser-109"><a href="#get_search_parser-109"><span class="linenos">109</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="get_search_parser-110"><a href="#get_search_parser-110"><span class="linenos">110</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="get_search_parser-111"><a href="#get_search_parser-111"><span class="linenos">111</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
+</span><span id="get_search_parser-112"><a href="#get_search_parser-112"><span class="linenos">112</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Limits search to these columns. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_search_parser-113"><a href="#get_search_parser-113"><span class="linenos">113</span></a>    <span class="p">)</span>
+</span><span id="get_search_parser-114"><a href="#get_search_parser-114"><span class="linenos">114</span></a>    <span class="k">return</span> <span class="n">parser</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Returns a search parser.</p>
 </div>
 
 
@@ -379,41 +439,41 @@
         <span class="def">def</span>
         <span class="name">get_lookup_parser</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span>:</span></span>
 
                 <label class="view-source-button" for="get_lookup_parser-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#get_lookup_parser"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="get_lookup_parser-97"><a href="#get_lookup_parser-97"><span class="linenos"> 97</span></a><span class="k">def</span> <span class="nf">get_lookup_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="get_lookup_parser-98"><a href="#get_lookup_parser-98"><span class="linenos"> 98</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for row lookup functions.&quot;&quot;&quot;</span>
-</span><span id="get_lookup_parser-99"><a href="#get_lookup_parser-99"><span class="linenos"> 99</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">_get_base_parser</span><span class="p">()])</span>
-</span><span id="get_lookup_parser-100"><a href="#get_lookup_parser-100"><span class="linenos">100</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_lookup_parser-101"><a href="#get_lookup_parser-101"><span class="linenos">101</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
-</span><span id="get_lookup_parser-102"><a href="#get_lookup_parser-102"><span class="linenos">102</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
-</span><span id="get_lookup_parser-103"><a href="#get_lookup_parser-103"><span class="linenos">103</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="get_lookup_parser-104"><a href="#get_lookup_parser-104"><span class="linenos">104</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="get_lookup_parser-105"><a href="#get_lookup_parser-105"><span class="linenos">105</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
-</span><span id="get_lookup_parser-106"><a href="#get_lookup_parser-106"><span class="linenos">106</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Limits what columns are returned.&quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="get_lookup_parser-107"><a href="#get_lookup_parser-107"><span class="linenos">107</span></a>    <span class="p">)</span>
-</span><span id="get_lookup_parser-108"><a href="#get_lookup_parser-108"><span class="linenos">108</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_lookup_parser-109"><a href="#get_lookup_parser-109"><span class="linenos">109</span></a>        <span class="s2">&quot;-o&quot;</span><span class="p">,</span>
-</span><span id="get_lookup_parser-110"><a href="#get_lookup_parser-110"><span class="linenos">110</span></a>        <span class="s2">&quot;--order_by&quot;</span><span class="p">,</span>
-</span><span id="get_lookup_parser-111"><a href="#get_lookup_parser-111"><span class="linenos">111</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="get_lookup_parser-112"><a href="#get_lookup_parser-112"><span class="linenos">112</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
-</span><span id="get_lookup_parser-113"><a href="#get_lookup_parser-113"><span class="linenos">113</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of a column to sort results by.</span>
-</span><span id="get_lookup_parser-114"><a href="#get_lookup_parser-114"><span class="linenos">114</span></a><span class="s2">        Can include &#39;desc&#39; as part of the argument.&quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="get_lookup_parser-115"><a href="#get_lookup_parser-115"><span class="linenos">115</span></a>    <span class="p">)</span>
-</span><span id="get_lookup_parser-116"><a href="#get_lookup_parser-116"><span class="linenos">116</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_lookup_parser-117"><a href="#get_lookup_parser-117"><span class="linenos">117</span></a>        <span class="s2">&quot;-l&quot;</span><span class="p">,</span>
-</span><span id="get_lookup_parser-118"><a href="#get_lookup_parser-118"><span class="linenos">118</span></a>        <span class="s2">&quot;--limit&quot;</span><span class="p">,</span>
-</span><span id="get_lookup_parser-119"><a href="#get_lookup_parser-119"><span class="linenos">119</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
-</span><span id="get_lookup_parser-120"><a href="#get_lookup_parser-120"><span class="linenos">120</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
-</span><span id="get_lookup_parser-121"><a href="#get_lookup_parser-121"><span class="linenos">121</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Only return this many results. &quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="get_lookup_parser-122"><a href="#get_lookup_parser-122"><span class="linenos">122</span></a>    <span class="p">)</span>
-</span><span id="get_lookup_parser-123"><a href="#get_lookup_parser-123"><span class="linenos">123</span></a>    <span class="k">return</span> <span class="n">parser</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="get_lookup_parser-117"><a href="#get_lookup_parser-117"><span class="linenos">117</span></a><span class="k">def</span> <span class="nf">get_lookup_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="get_lookup_parser-118"><a href="#get_lookup_parser-118"><span class="linenos">118</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for row lookup functions.&quot;&quot;&quot;</span>
+</span><span id="get_lookup_parser-119"><a href="#get_lookup_parser-119"><span class="linenos">119</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">_get_base_parser</span><span class="p">()])</span>
+</span><span id="get_lookup_parser-120"><a href="#get_lookup_parser-120"><span class="linenos">120</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_lookup_parser-121"><a href="#get_lookup_parser-121"><span class="linenos">121</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
+</span><span id="get_lookup_parser-122"><a href="#get_lookup_parser-122"><span class="linenos">122</span></a>        <span class="s2">&quot;--columns&quot;</span><span class="p">,</span>
+</span><span id="get_lookup_parser-123"><a href="#get_lookup_parser-123"><span class="linenos">123</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="get_lookup_parser-124"><a href="#get_lookup_parser-124"><span class="linenos">124</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="get_lookup_parser-125"><a href="#get_lookup_parser-125"><span class="linenos">125</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
+</span><span id="get_lookup_parser-126"><a href="#get_lookup_parser-126"><span class="linenos">126</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Limits what columns are returned.&quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_lookup_parser-127"><a href="#get_lookup_parser-127"><span class="linenos">127</span></a>    <span class="p">)</span>
+</span><span id="get_lookup_parser-128"><a href="#get_lookup_parser-128"><span class="linenos">128</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_lookup_parser-129"><a href="#get_lookup_parser-129"><span class="linenos">129</span></a>        <span class="s2">&quot;-o&quot;</span><span class="p">,</span>
+</span><span id="get_lookup_parser-130"><a href="#get_lookup_parser-130"><span class="linenos">130</span></a>        <span class="s2">&quot;--order_by&quot;</span><span class="p">,</span>
+</span><span id="get_lookup_parser-131"><a href="#get_lookup_parser-131"><span class="linenos">131</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="get_lookup_parser-132"><a href="#get_lookup_parser-132"><span class="linenos">132</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
+</span><span id="get_lookup_parser-133"><a href="#get_lookup_parser-133"><span class="linenos">133</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of a column to sort results by.</span>
+</span><span id="get_lookup_parser-134"><a href="#get_lookup_parser-134"><span class="linenos">134</span></a><span class="s2">        Can include &#39;desc&#39; as part of the argument.&quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_lookup_parser-135"><a href="#get_lookup_parser-135"><span class="linenos">135</span></a>    <span class="p">)</span>
+</span><span id="get_lookup_parser-136"><a href="#get_lookup_parser-136"><span class="linenos">136</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_lookup_parser-137"><a href="#get_lookup_parser-137"><span class="linenos">137</span></a>        <span class="s2">&quot;-l&quot;</span><span class="p">,</span>
+</span><span id="get_lookup_parser-138"><a href="#get_lookup_parser-138"><span class="linenos">138</span></a>        <span class="s2">&quot;--limit&quot;</span><span class="p">,</span>
+</span><span id="get_lookup_parser-139"><a href="#get_lookup_parser-139"><span class="linenos">139</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
+</span><span id="get_lookup_parser-140"><a href="#get_lookup_parser-140"><span class="linenos">140</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
+</span><span id="get_lookup_parser-141"><a href="#get_lookup_parser-141"><span class="linenos">141</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Only return this many results. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_lookup_parser-142"><a href="#get_lookup_parser-142"><span class="linenos">142</span></a>    <span class="p">)</span>
+</span><span id="get_lookup_parser-143"><a href="#get_lookup_parser-143"><span class="linenos">143</span></a>    <span class="k">return</span> <span class="n">parser</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Returns a parser for row lookup functions.</p>
 </div>
 
 
@@ -425,27 +485,27 @@
         <span class="def">def</span>
         <span class="name">get_update_parser</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span>:</span></span>
 
                 <label class="view-source-button" for="get_update_parser-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#get_update_parser"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="get_update_parser-126"><a href="#get_update_parser-126"><span class="linenos">126</span></a><span class="k">def</span> <span class="nf">get_update_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="get_update_parser-127"><a href="#get_update_parser-127"><span class="linenos">127</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for update function.&quot;&quot;&quot;</span>
-</span><span id="get_update_parser-128"><a href="#get_update_parser-128"><span class="linenos">128</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">_get_base_parser</span><span class="p">()])</span>
-</span><span id="get_update_parser-129"><a href="#get_update_parser-129"><span class="linenos">129</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_update_parser-130"><a href="#get_update_parser-130"><span class="linenos">130</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="s2">&quot;--column&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The column to update. &quot;&quot;&quot;</span>
-</span><span id="get_update_parser-131"><a href="#get_update_parser-131"><span class="linenos">131</span></a>    <span class="p">)</span>
-</span><span id="get_update_parser-132"><a href="#get_update_parser-132"><span class="linenos">132</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_update_parser-133"><a href="#get_update_parser-133"><span class="linenos">133</span></a>        <span class="s2">&quot;-v&quot;</span><span class="p">,</span>
-</span><span id="get_update_parser-134"><a href="#get_update_parser-134"><span class="linenos">134</span></a>        <span class="s2">&quot;--new_value&quot;</span><span class="p">,</span>
-</span><span id="get_update_parser-135"><a href="#get_update_parser-135"><span class="linenos">135</span></a>        <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
-</span><span id="get_update_parser-136"><a href="#get_update_parser-136"><span class="linenos">136</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The new value to update with. &quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="get_update_parser-137"><a href="#get_update_parser-137"><span class="linenos">137</span></a>    <span class="p">)</span>
-</span><span id="get_update_parser-138"><a href="#get_update_parser-138"><span class="linenos">138</span></a>    <span class="k">return</span> <span class="n">parser</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="get_update_parser-146"><a href="#get_update_parser-146"><span class="linenos">146</span></a><span class="k">def</span> <span class="nf">get_update_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="get_update_parser-147"><a href="#get_update_parser-147"><span class="linenos">147</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for update function.&quot;&quot;&quot;</span>
+</span><span id="get_update_parser-148"><a href="#get_update_parser-148"><span class="linenos">148</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">_get_base_parser</span><span class="p">()])</span>
+</span><span id="get_update_parser-149"><a href="#get_update_parser-149"><span class="linenos">149</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_update_parser-150"><a href="#get_update_parser-150"><span class="linenos">150</span></a>        <span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="s2">&quot;--column&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The column to update. &quot;&quot;&quot;</span>
+</span><span id="get_update_parser-151"><a href="#get_update_parser-151"><span class="linenos">151</span></a>    <span class="p">)</span>
+</span><span id="get_update_parser-152"><a href="#get_update_parser-152"><span class="linenos">152</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_update_parser-153"><a href="#get_update_parser-153"><span class="linenos">153</span></a>        <span class="s2">&quot;-v&quot;</span><span class="p">,</span>
+</span><span id="get_update_parser-154"><a href="#get_update_parser-154"><span class="linenos">154</span></a>        <span class="s2">&quot;--new_value&quot;</span><span class="p">,</span>
+</span><span id="get_update_parser-155"><a href="#get_update_parser-155"><span class="linenos">155</span></a>        <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
+</span><span id="get_update_parser-156"><a href="#get_update_parser-156"><span class="linenos">156</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The new value to update with. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_update_parser-157"><a href="#get_update_parser-157"><span class="linenos">157</span></a>    <span class="p">)</span>
+</span><span id="get_update_parser-158"><a href="#get_update_parser-158"><span class="linenos">158</span></a>    <span class="k">return</span> <span class="n">parser</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Returns a parser for update function.</p>
 </div>
 
 
@@ -457,39 +517,39 @@
         <span class="def">def</span>
         <span class="name">get_add_column_parser</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span>:</span></span>
 
                 <label class="view-source-button" for="get_add_column_parser-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#get_add_column_parser"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="get_add_column_parser-141"><a href="#get_add_column_parser-141"><span class="linenos">141</span></a><span class="k">def</span> <span class="nf">get_add_column_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
-</span><span id="get_add_column_parser-142"><a href="#get_add_column_parser-142"><span class="linenos">142</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for the add column function.&quot;&quot;&quot;</span>
-</span><span id="get_add_column_parser-143"><a href="#get_add_column_parser-143"><span class="linenos">143</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">()</span>
-</span><span id="get_add_column_parser-144"><a href="#get_add_column_parser-144"><span class="linenos">144</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_add_column_parser-145"><a href="#get_add_column_parser-145"><span class="linenos">145</span></a>        <span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of the column to add. &quot;&quot;&quot;</span>
-</span><span id="get_add_column_parser-146"><a href="#get_add_column_parser-146"><span class="linenos">146</span></a>    <span class="p">)</span>
-</span><span id="get_add_column_parser-147"><a href="#get_add_column_parser-147"><span class="linenos">147</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_add_column_parser-148"><a href="#get_add_column_parser-148"><span class="linenos">148</span></a>        <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The data type of the column to add. &quot;&quot;&quot;</span>
-</span><span id="get_add_column_parser-149"><a href="#get_add_column_parser-149"><span class="linenos">149</span></a>    <span class="p">)</span>
-</span><span id="get_add_column_parser-150"><a href="#get_add_column_parser-150"><span class="linenos">150</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_add_column_parser-151"><a href="#get_add_column_parser-151"><span class="linenos">151</span></a>        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>
-</span><span id="get_add_column_parser-152"><a href="#get_add_column_parser-152"><span class="linenos">152</span></a>        <span class="s2">&quot;--tables&quot;</span><span class="p">,</span>
-</span><span id="get_add_column_parser-153"><a href="#get_add_column_parser-153"><span class="linenos">153</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
-</span><span id="get_add_column_parser-154"><a href="#get_add_column_parser-154"><span class="linenos">154</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
-</span><span id="get_add_column_parser-155"><a href="#get_add_column_parser-155"><span class="linenos">155</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
-</span><span id="get_add_column_parser-156"><a href="#get_add_column_parser-156"><span class="linenos">156</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Table(s) to add the column to.</span>
-</span><span id="get_add_column_parser-157"><a href="#get_add_column_parser-157"><span class="linenos">157</span></a><span class="s2">        If not specified, the column will be added to every table in the database.&quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="get_add_column_parser-158"><a href="#get_add_column_parser-158"><span class="linenos">158</span></a>    <span class="p">)</span>
-</span><span id="get_add_column_parser-159"><a href="#get_add_column_parser-159"><span class="linenos">159</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
-</span><span id="get_add_column_parser-160"><a href="#get_add_column_parser-160"><span class="linenos">160</span></a>        <span class="s2">&quot;-d&quot;</span><span class="p">,</span>
-</span><span id="get_add_column_parser-161"><a href="#get_add_column_parser-161"><span class="linenos">161</span></a>        <span class="s2">&quot;--default_value&quot;</span><span class="p">,</span>
-</span><span id="get_add_column_parser-162"><a href="#get_add_column_parser-162"><span class="linenos">162</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
-</span><span id="get_add_column_parser-163"><a href="#get_add_column_parser-163"><span class="linenos">163</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Default value for the new column. &quot;&quot;&quot;</span><span class="p">,</span>
-</span><span id="get_add_column_parser-164"><a href="#get_add_column_parser-164"><span class="linenos">164</span></a>    <span class="p">)</span>
-</span><span id="get_add_column_parser-165"><a href="#get_add_column_parser-165"><span class="linenos">165</span></a>    <span class="k">return</span> <span class="n">parser</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="get_add_column_parser-161"><a href="#get_add_column_parser-161"><span class="linenos">161</span></a><span class="k">def</span> <span class="nf">get_add_column_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">:</span>
+</span><span id="get_add_column_parser-162"><a href="#get_add_column_parser-162"><span class="linenos">162</span></a>    <span class="sd">&quot;&quot;&quot;Returns a parser for the add column function.&quot;&quot;&quot;</span>
+</span><span id="get_add_column_parser-163"><a href="#get_add_column_parser-163"><span class="linenos">163</span></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argshell</span><span class="o">.</span><span class="n">ArgShellParser</span><span class="p">()</span>
+</span><span id="get_add_column_parser-164"><a href="#get_add_column_parser-164"><span class="linenos">164</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_add_column_parser-165"><a href="#get_add_column_parser-165"><span class="linenos">165</span></a>        <span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The name of the column to add. &quot;&quot;&quot;</span>
+</span><span id="get_add_column_parser-166"><a href="#get_add_column_parser-166"><span class="linenos">166</span></a>    <span class="p">)</span>
+</span><span id="get_add_column_parser-167"><a href="#get_add_column_parser-167"><span class="linenos">167</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_add_column_parser-168"><a href="#get_add_column_parser-168"><span class="linenos">168</span></a>        <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; The data type of the column to add. &quot;&quot;&quot;</span>
+</span><span id="get_add_column_parser-169"><a href="#get_add_column_parser-169"><span class="linenos">169</span></a>    <span class="p">)</span>
+</span><span id="get_add_column_parser-170"><a href="#get_add_column_parser-170"><span class="linenos">170</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_add_column_parser-171"><a href="#get_add_column_parser-171"><span class="linenos">171</span></a>        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>
+</span><span id="get_add_column_parser-172"><a href="#get_add_column_parser-172"><span class="linenos">172</span></a>        <span class="s2">&quot;--tables&quot;</span><span class="p">,</span>
+</span><span id="get_add_column_parser-173"><a href="#get_add_column_parser-173"><span class="linenos">173</span></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
+</span><span id="get_add_column_parser-174"><a href="#get_add_column_parser-174"><span class="linenos">174</span></a>        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
+</span><span id="get_add_column_parser-175"><a href="#get_add_column_parser-175"><span class="linenos">175</span></a>        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
+</span><span id="get_add_column_parser-176"><a href="#get_add_column_parser-176"><span class="linenos">176</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Table(s) to add the column to.</span>
+</span><span id="get_add_column_parser-177"><a href="#get_add_column_parser-177"><span class="linenos">177</span></a><span class="s2">        If not specified, the column will be added to every table in the database.&quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_add_column_parser-178"><a href="#get_add_column_parser-178"><span class="linenos">178</span></a>    <span class="p">)</span>
+</span><span id="get_add_column_parser-179"><a href="#get_add_column_parser-179"><span class="linenos">179</span></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
+</span><span id="get_add_column_parser-180"><a href="#get_add_column_parser-180"><span class="linenos">180</span></a>        <span class="s2">&quot;-d&quot;</span><span class="p">,</span>
+</span><span id="get_add_column_parser-181"><a href="#get_add_column_parser-181"><span class="linenos">181</span></a>        <span class="s2">&quot;--default_value&quot;</span><span class="p">,</span>
+</span><span id="get_add_column_parser-182"><a href="#get_add_column_parser-182"><span class="linenos">182</span></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
+</span><span id="get_add_column_parser-183"><a href="#get_add_column_parser-183"><span class="linenos">183</span></a>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; Default value for the new column. &quot;&quot;&quot;</span><span class="p">,</span>
+</span><span id="get_add_column_parser-184"><a href="#get_add_column_parser-184"><span class="linenos">184</span></a>    <span class="p">)</span>
+</span><span id="get_add_column_parser-185"><a href="#get_add_column_parser-185"><span class="linenos">185</span></a>    <span class="k">return</span> <span class="n">parser</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Returns a parser for the add column function.</p>
 </div>
 
 
@@ -501,22 +561,22 @@
         <span class="def">def</span>
         <span class="name">convert_match_pairs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span></span><span class="return-annotation">) -> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span>:</span></span>
 
                 <label class="view-source-button" for="convert_match_pairs-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#convert_match_pairs"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="convert_match_pairs-169"><a href="#convert_match_pairs-169"><span class="linenos">169</span></a><span class="k">def</span> <span class="nf">convert_match_pairs</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
-</span><span id="convert_match_pairs-170"><a href="#convert_match_pairs-170"><span class="linenos">170</span></a>    <span class="sd">&quot;&quot;&quot;Create a list of tuples from match_pairs.&quot;&quot;&quot;</span>
-</span><span id="convert_match_pairs-171"><a href="#convert_match_pairs-171"><span class="linenos">171</span></a>    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">:</span>
-</span><span id="convert_match_pairs-172"><a href="#convert_match_pairs-172"><span class="linenos">172</span></a>        <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span> <span class="o">=</span> <span class="p">[</span>
-</span><span id="convert_match_pairs-173"><a href="#convert_match_pairs-173"><span class="linenos">173</span></a>            <span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
-</span><span id="convert_match_pairs-174"><a href="#convert_match_pairs-174"><span class="linenos">174</span></a>            <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">[::</span><span class="mi">2</span><span class="p">],</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">])</span>
-</span><span id="convert_match_pairs-175"><a href="#convert_match_pairs-175"><span class="linenos">175</span></a>        <span class="p">]</span>
-</span><span id="convert_match_pairs-176"><a href="#convert_match_pairs-176"><span class="linenos">176</span></a>    <span class="k">return</span> <span class="n">args</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="convert_match_pairs-189"><a href="#convert_match_pairs-189"><span class="linenos">189</span></a><span class="k">def</span> <span class="nf">convert_match_pairs</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
+</span><span id="convert_match_pairs-190"><a href="#convert_match_pairs-190"><span class="linenos">190</span></a>    <span class="sd">&quot;&quot;&quot;Create a list of tuples from match_pairs.&quot;&quot;&quot;</span>
+</span><span id="convert_match_pairs-191"><a href="#convert_match_pairs-191"><span class="linenos">191</span></a>    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">:</span>
+</span><span id="convert_match_pairs-192"><a href="#convert_match_pairs-192"><span class="linenos">192</span></a>        <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span> <span class="o">=</span> <span class="p">[</span>
+</span><span id="convert_match_pairs-193"><a href="#convert_match_pairs-193"><span class="linenos">193</span></a>            <span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
+</span><span id="convert_match_pairs-194"><a href="#convert_match_pairs-194"><span class="linenos">194</span></a>            <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">[::</span><span class="mi">2</span><span class="p">],</span> <span class="n">args</span><span class="o">.</span><span class="n">match_pairs</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">])</span>
+</span><span id="convert_match_pairs-195"><a href="#convert_match_pairs-195"><span class="linenos">195</span></a>        <span class="p">]</span>
+</span><span id="convert_match_pairs-196"><a href="#convert_match_pairs-196"><span class="linenos">196</span></a>    <span class="k">return</span> <span class="n">args</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Create a list of tuples from match_pairs.</p>
 </div>
 
 
@@ -528,22 +588,22 @@
         <span class="def">def</span>
         <span class="name">verify_matching_length</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span></span><span class="return-annotation">) -> <span class="n">argshell</span><span class="o">.</span><span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span>:</span></span>
 
                 <label class="view-source-button" for="verify_matching_length-view-source"><span>View Source</span></label>
 
     </div>
     <a class="headerlink" href="#verify_matching_length"></a>
-            <div class="pdoc-code codehilite"><pre><span></span><span id="verify_matching_length-179"><a href="#verify_matching_length-179"><span class="linenos">179</span></a><span class="k">def</span> <span class="nf">verify_matching_length</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
-</span><span id="verify_matching_length-180"><a href="#verify_matching_length-180"><span class="linenos">180</span></a>    <span class="sd">&quot;&quot;&quot;Raise an error if -c/--columns is greater than zero and has</span>
-</span><span id="verify_matching_length-181"><a href="#verify_matching_length-181"><span class="linenos">181</span></a><span class="sd">    a different number of elements than -v/--values.&quot;&quot;&quot;</span>
-</span><span id="verify_matching_length-182"><a href="#verify_matching_length-182"><span class="linenos">182</span></a>    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
-</span><span id="verify_matching_length-183"><a href="#verify_matching_length-183"><span class="linenos">183</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
-</span><span id="verify_matching_length-184"><a href="#verify_matching_length-184"><span class="linenos">184</span></a>            <span class="sa">f</span><span class="s2">&quot;Column/Value length mismatch: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns and </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="si">}</span><span class="s2"> values provided.&quot;</span>
-</span><span id="verify_matching_length-185"><a href="#verify_matching_length-185"><span class="linenos">185</span></a>        <span class="p">)</span>
-</span><span id="verify_matching_length-186"><a href="#verify_matching_length-186"><span class="linenos">186</span></a>    <span class="k">return</span> <span class="n">args</span>
+            <div class="pdoc-code codehilite"><pre><span></span><span id="verify_matching_length-199"><a href="#verify_matching_length-199"><span class="linenos">199</span></a><span class="k">def</span> <span class="nf">verify_matching_length</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argshell</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
+</span><span id="verify_matching_length-200"><a href="#verify_matching_length-200"><span class="linenos">200</span></a>    <span class="sd">&quot;&quot;&quot;Raise an error if -c/--columns is greater than zero and has</span>
+</span><span id="verify_matching_length-201"><a href="#verify_matching_length-201"><span class="linenos">201</span></a><span class="sd">    a different number of elements than -v/--values.&quot;&quot;&quot;</span>
+</span><span id="verify_matching_length-202"><a href="#verify_matching_length-202"><span class="linenos">202</span></a>    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
+</span><span id="verify_matching_length-203"><a href="#verify_matching_length-203"><span class="linenos">203</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
+</span><span id="verify_matching_length-204"><a href="#verify_matching_length-204"><span class="linenos">204</span></a>            <span class="sa">f</span><span class="s2">&quot;Column/Value length mismatch: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns and </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="si">}</span><span class="s2"> values provided.&quot;</span>
+</span><span id="verify_matching_length-205"><a href="#verify_matching_length-205"><span class="linenos">205</span></a>        <span class="p">)</span>
+</span><span id="verify_matching_length-206"><a href="#verify_matching_length-206"><span class="linenos">206</span></a>    <span class="k">return</span> <span class="n">args</span>
 </span></pre></div>
 
 
             <div class="docstring"><p>Raise an error if -c/--columns is greater than zero and has
 a different number of elements than -v/--values.</p>
 </div>
```

#### html2text {}

```diff
@@ -1,12 +1,13 @@
 
 
   ⁰
 ____ databased [Unknown INPUT type]
 ***** API Documentation *****
+    * get_info_parser
     * get_create_table_parser
     * get_add_row_parser
     * get_search_parser
     * get_lookup_parser
     * get_update_parser
     * get_add_column_parser
     * convert_match_pairs
@@ -55,336 +56,377 @@
 first name is exactly 'theo'.
 _34        "-t names -m first theo -p" would return rows with first names of
 'theo', but also rows with names like 'theodore'.  """,
 _35    )
 _36    return parser
 _37
 _38
-_39def get_create_table_parser(add_help: bool = True) -
-> argshell.ArgShellParser:
-_40    """Returns a parser for adding a table to the database."""
-_41    parser = argshell.ArgShellParser(add_help=add_help)
+_39def get_info_parser() -> argshell.ArgShellParser:
+_40    """Returns info parser."""
+_41    parser = argshell.ArgShellParser()
 _42    parser.add_argument(
-_43        "table_name", type=str, help=""" The name of the table to add. """
-_44    )
-_45    parser.add_argument(
-_46        "-c",
-_47        "--columns",
-_48        type=str,
-_49        nargs="*",
-_50        default=[],
-_51        help=""" A list of column definitions for the table.
-_52        i.e. 'mytable -c "username text unique" "date_registered timestamp"
+_43        "-t",
+_44        "--tables",
+_45        type=str,
+_46        nargs="*",
+_47        default=[],
+_48        help=""" Only display info for this table(s). """,
+_49    )
+_50    parser.add_argument(
+_51        "-rc",
+_52        "--rowcount",
+_53        action="store_true",
+_54        help=""" Count and display the number of rows for each table. """,
+_55    )
+_56    return parser
+_57
+_58
+_59def get_create_table_parser(add_help: bool = True) -
+> argshell.ArgShellParser:
+_60    """Returns a parser for adding a table to the database."""
+_61    parser = argshell.ArgShellParser(add_help=add_help)
+_62    parser.add_argument(
+_63        "table_name", type=str, help=""" The name of the table to add. """
+_64    )
+_65    parser.add_argument(
+_66        "-c",
+_67        "--columns",
+_68        type=str,
+_69        nargs="*",
+_70        default=[],
+_71        help=""" A list of column definitions for the table.
+_72        i.e. 'mytable -c "username text unique" "date_registered timestamp"
 "email_verified int default 0"'""",
-_53    )
-_54    return parser
-_55
-_56
-_57def get_add_row_parser() -> argshell.ArgShellParser:
-_58    """Returns a parser for adding a row to a table."""
-_59    parser = argshell.ArgShellParser(parents=[get_create_table_parser
+_73    )
+_74    return parser
+_75
+_76
+_77def get_add_row_parser() -> argshell.ArgShellParser:
+_78    """Returns a parser for adding a row to a table."""
+_79    parser = argshell.ArgShellParser(parents=[get_create_table_parser
 (False)])
-_60    parser.add_argument(
-_61        "-v",
-_62        "--values",
-_63        nargs="*",
-_64        default=[],
-_65        help=""" If -c/--columns is supplied, it and this flag must have the
+_80    parser.add_argument(
+_81        "-v",
+_82        "--values",
+_83        nargs="*",
+_84        default=[],
+_85        help=""" If -c/--columns is supplied, it and this flag must have the
 same number of elements.
-_66        If -c/--columns is not supplied, an element must be supplied to this
+_86        If -c/--columns is not supplied, an element must be supplied to this
 flag for every column in the table. """,
-_67    )
-_68    return parser
-_69
-_70
-_71def get_search_parser() -> argshell.ArgShellParser:
-_72    """Returns a search parser."""
-_73    parser = argshell.ArgShellParser()
-_74    parser.add_argument(
-_75        "search_string", type=str, help=""" Search all columns for this
+_87    )
+_88    return parser
+_89
+_90
+_91def get_search_parser() -> argshell.ArgShellParser:
+_92    """Returns a search parser."""
+_93    parser = argshell.ArgShellParser()
+_94    parser.add_argument(
+_95        "search_string", type=str, help=""" Search all columns for this
 substring. """
-_76    )
-_77    parser.add_argument(
-_78        "-t",
-_79        "--tables",
-_80        type=str,
-_81        nargs="*",
-_82        default=None,
-_83        help="""Limits search to a specific list of tables""",
-_84    )
-_85    parser.add_argument(
-_86        "-c",
-_87        "--columns",
-_88        type=str,
-_89        nargs="*",
-_90        default=None,
-_91        help=""" Limits search to these columns. """,
-_92    )
-_93    return parser
-_94
-_95
-_96def get_lookup_parser() -> argshell.ArgShellParser:
-_97    """Returns a parser for row lookup functions."""
-_98    parser = argshell.ArgShellParser(parents=[_get_base_parser()])
-_99    parser.add_argument(
-100        "-c",
-101        "--columns",
-102        type=str,
-103        nargs="*",
-104        default=[],
-105        help=""" Limits what columns are returned.""",
-106    )
-107    parser.add_argument(
-108        "-o",
-109        "--order_by",
-110        type=str,
-111        default=None,
-112        help=""" The name of a column to sort results by.
-113        Can include 'desc' as part of the argument.""",
-114    )
-115    parser.add_argument(
-116        "-l",
-117        "--limit",
-118        type=int,
-119        default=None,
-120        help=""" Only return this many results. """,
-121    )
-122    return parser
-123
-124
-125def get_update_parser() -> argshell.ArgShellParser:
-126    """Returns a parser for update function."""
-127    parser = argshell.ArgShellParser(parents=[_get_base_parser()])
-128    parser.add_argument(
-129        "-c", "--column", required=True, type=str, help=""" The column to
+_96    )
+_97    parser.add_argument(
+_98        "-t",
+_99        "--tables",
+100        type=str,
+101        nargs="*",
+102        default=None,
+103        help="""Limits search to a specific list of tables""",
+104    )
+105    parser.add_argument(
+106        "-c",
+107        "--columns",
+108        type=str,
+109        nargs="*",
+110        default=None,
+111        help=""" Limits search to these columns. """,
+112    )
+113    return parser
+114
+115
+116def get_lookup_parser() -> argshell.ArgShellParser:
+117    """Returns a parser for row lookup functions."""
+118    parser = argshell.ArgShellParser(parents=[_get_base_parser()])
+119    parser.add_argument(
+120        "-c",
+121        "--columns",
+122        type=str,
+123        nargs="*",
+124        default=[],
+125        help=""" Limits what columns are returned.""",
+126    )
+127    parser.add_argument(
+128        "-o",
+129        "--order_by",
+130        type=str,
+131        default=None,
+132        help=""" The name of a column to sort results by.
+133        Can include 'desc' as part of the argument.""",
+134    )
+135    parser.add_argument(
+136        "-l",
+137        "--limit",
+138        type=int,
+139        default=None,
+140        help=""" Only return this many results. """,
+141    )
+142    return parser
+143
+144
+145def get_update_parser() -> argshell.ArgShellParser:
+146    """Returns a parser for update function."""
+147    parser = argshell.ArgShellParser(parents=[_get_base_parser()])
+148    parser.add_argument(
+149        "-c", "--column", required=True, type=str, help=""" The column to
 update. """
-130    )
-131    parser.add_argument(
-132        "-v",
-133        "--new_value",
-134        required=True,
-135        help=""" The new value to update with. """,
-136    )
-137    return parser
-138
-139
-140def get_add_column_parser() -> argshell.ArgShellParser:
-141    """Returns a parser for the add column function."""
-142    parser = argshell.ArgShellParser()
-143    parser.add_argument(
-144        "column_name", type=str, help=""" The name of the column to add. """
-145    )
-146    parser.add_argument(
-147        "type", type=str, help=""" The data type of the column to add. """
-148    )
-149    parser.add_argument(
-150        "-t",
-151        "--tables",
-152        type=str,
-153        nargs="*",
-154        default=[],
-155        help="""Table(s) to add the column to.
-156        If not specified, the column will be added to every table in the
+150    )
+151    parser.add_argument(
+152        "-v",
+153        "--new_value",
+154        required=True,
+155        help=""" The new value to update with. """,
+156    )
+157    return parser
+158
+159
+160def get_add_column_parser() -> argshell.ArgShellParser:
+161    """Returns a parser for the add column function."""
+162    parser = argshell.ArgShellParser()
+163    parser.add_argument(
+164        "column_name", type=str, help=""" The name of the column to add. """
+165    )
+166    parser.add_argument(
+167        "type", type=str, help=""" The data type of the column to add. """
+168    )
+169    parser.add_argument(
+170        "-t",
+171        "--tables",
+172        type=str,
+173        nargs="*",
+174        default=[],
+175        help="""Table(s) to add the column to.
+176        If not specified, the column will be added to every table in the
 database.""",
-157    )
-158    parser.add_argument(
-159        "-d",
-160        "--default_value",
-161        default=None,
-162        help=""" Default value for the new column. """,
-163    )
-164    return parser
-165
-166
-167# ============================================================post
+177    )
+178    parser.add_argument(
+179        "-d",
+180        "--default_value",
+181        default=None,
+182        help=""" Default value for the new column. """,
+183    )
+184    return parser
+185
+186
+187# ============================================================post
 parsers============================================================
-168def convert_match_pairs(args: argshell.Namespace) -> argshell.Namespace:
-169    """Create a list of tuples from match_pairs."""
-170    if args.match_pairs:
-171        args.match_pairs = [
-172            (col, val)
-173            for col, val in zip(args.match_pairs[::2], args.match_pairs[1::
+188def convert_match_pairs(args: argshell.Namespace) -> argshell.Namespace:
+189    """Create a list of tuples from match_pairs."""
+190    if args.match_pairs:
+191        args.match_pairs = [
+192            (col, val)
+193            for col, val in zip(args.match_pairs[::2], args.match_pairs[1::
 2])
-174        ]
-175    return args
-176
-177
-178def verify_matching_length(args: argshell.Namespace) -> argshell.Namespace:
-179    """Raise an error if -c/--columns is greater than zero and has
-180    a different number of elements than -v/--values."""
-181    if args.columns and len(args.columns) != len(args.values):
-182        raise ValueError(
-183            f"Column/Value length mismatch: {len(args.columns)} columns and
+194        ]
+195    return args
+196
+197
+198def verify_matching_length(args: argshell.Namespace) -> argshell.Namespace:
+199    """Raise an error if -c/--columns is greater than zero and has
+200    a different number of elements than -v/--values."""
+201    if args.columns and len(args.columns) != len(args.values):
+202        raise ValueError(
+203            f"Column/Value length mismatch: {len(args.columns)} columns and
 {len(args.values)} values provided."
-184        )
-185    return args
+204        )
+205    return args
+  ⁰
+def get_info_parser() -> argshell.argshell.ArgShellParser: View Source
+40def get_info_parser() -> argshell.ArgShellParser:
+41    """Returns info parser."""
+42    parser = argshell.ArgShellParser()
+43    parser.add_argument(
+44        "-t",
+45        "--tables",
+46        type=str,
+47        nargs="*",
+48        default=[],
+49        help=""" Only display info for this table(s). """,
+50    )
+51    parser.add_argument(
+52        "-rc",
+53        "--rowcount",
+54        action="store_true",
+55        help=""" Count and display the number of rows for each table. """,
+56    )
+57    return parser
+Returns info parser.
   ⁰
 def get_create_table_parser(add_help: bool = True) -
 > argshell.argshell.ArgShellParser: View Source
-40def get_create_table_parser(add_help: bool = True) -
+60def get_create_table_parser(add_help: bool = True) -
 > argshell.ArgShellParser:
-41    """Returns a parser for adding a table to the database."""
-42    parser = argshell.ArgShellParser(add_help=add_help)
-43    parser.add_argument(
-44        "table_name", type=str, help=""" The name of the table to add. """
-45    )
-46    parser.add_argument(
-47        "-c",
-48        "--columns",
-49        type=str,
-50        nargs="*",
-51        default=[],
-52        help=""" A list of column definitions for the table.
-53        i.e. 'mytable -c "username text unique" "date_registered timestamp"
+61    """Returns a parser for adding a table to the database."""
+62    parser = argshell.ArgShellParser(add_help=add_help)
+63    parser.add_argument(
+64        "table_name", type=str, help=""" The name of the table to add. """
+65    )
+66    parser.add_argument(
+67        "-c",
+68        "--columns",
+69        type=str,
+70        nargs="*",
+71        default=[],
+72        help=""" A list of column definitions for the table.
+73        i.e. 'mytable -c "username text unique" "date_registered timestamp"
 "email_verified int default 0"'""",
-54    )
-55    return parser
+74    )
+75    return parser
 Returns a parser for adding a table to the database.
   ⁰
 def get_add_row_parser() -> argshell.argshell.ArgShellParser: View Source
-58def get_add_row_parser() -> argshell.ArgShellParser:
-59    """Returns a parser for adding a row to a table."""
-60    parser = argshell.ArgShellParser(parents=[get_create_table_parser
+78def get_add_row_parser() -> argshell.ArgShellParser:
+79    """Returns a parser for adding a row to a table."""
+80    parser = argshell.ArgShellParser(parents=[get_create_table_parser
 (False)])
-61    parser.add_argument(
-62        "-v",
-63        "--values",
-64        nargs="*",
-65        default=[],
-66        help=""" If -c/--columns is supplied, it and this flag must have the
+81    parser.add_argument(
+82        "-v",
+83        "--values",
+84        nargs="*",
+85        default=[],
+86        help=""" If -c/--columns is supplied, it and this flag must have the
 same number of elements.
-67        If -c/--columns is not supplied, an element must be supplied to this
+87        If -c/--columns is not supplied, an element must be supplied to this
 flag for every column in the table. """,
-68    )
-69    return parser
+88    )
+89    return parser
 Returns a parser for adding a row to a table.
   ⁰
 def get_search_parser() -> argshell.argshell.ArgShellParser: View Source
-72def get_search_parser() -> argshell.ArgShellParser:
-73    """Returns a search parser."""
-74    parser = argshell.ArgShellParser()
-75    parser.add_argument(
-76        "search_string", type=str, help=""" Search all columns for this
+_92def get_search_parser() -> argshell.ArgShellParser:
+_93    """Returns a search parser."""
+_94    parser = argshell.ArgShellParser()
+_95    parser.add_argument(
+_96        "search_string", type=str, help=""" Search all columns for this
 substring. """
-77    )
-78    parser.add_argument(
-79        "-t",
-80        "--tables",
-81        type=str,
-82        nargs="*",
-83        default=None,
-84        help="""Limits search to a specific list of tables""",
-85    )
-86    parser.add_argument(
-87        "-c",
-88        "--columns",
-89        type=str,
-90        nargs="*",
-91        default=None,
-92        help=""" Limits search to these columns. """,
-93    )
-94    return parser
+_97    )
+_98    parser.add_argument(
+_99        "-t",
+100        "--tables",
+101        type=str,
+102        nargs="*",
+103        default=None,
+104        help="""Limits search to a specific list of tables""",
+105    )
+106    parser.add_argument(
+107        "-c",
+108        "--columns",
+109        type=str,
+110        nargs="*",
+111        default=None,
+112        help=""" Limits search to these columns. """,
+113    )
+114    return parser
 Returns a search parser.
   ⁰
 def get_lookup_parser() -> argshell.argshell.ArgShellParser: View Source
-_97def get_lookup_parser() -> argshell.ArgShellParser:
-_98    """Returns a parser for row lookup functions."""
-_99    parser = argshell.ArgShellParser(parents=[_get_base_parser()])
-100    parser.add_argument(
-101        "-c",
-102        "--columns",
-103        type=str,
-104        nargs="*",
-105        default=[],
-106        help=""" Limits what columns are returned.""",
-107    )
-108    parser.add_argument(
-109        "-o",
-110        "--order_by",
-111        type=str,
-112        default=None,
-113        help=""" The name of a column to sort results by.
-114        Can include 'desc' as part of the argument.""",
-115    )
-116    parser.add_argument(
-117        "-l",
-118        "--limit",
-119        type=int,
-120        default=None,
-121        help=""" Only return this many results. """,
-122    )
-123    return parser
+117def get_lookup_parser() -> argshell.ArgShellParser:
+118    """Returns a parser for row lookup functions."""
+119    parser = argshell.ArgShellParser(parents=[_get_base_parser()])
+120    parser.add_argument(
+121        "-c",
+122        "--columns",
+123        type=str,
+124        nargs="*",
+125        default=[],
+126        help=""" Limits what columns are returned.""",
+127    )
+128    parser.add_argument(
+129        "-o",
+130        "--order_by",
+131        type=str,
+132        default=None,
+133        help=""" The name of a column to sort results by.
+134        Can include 'desc' as part of the argument.""",
+135    )
+136    parser.add_argument(
+137        "-l",
+138        "--limit",
+139        type=int,
+140        default=None,
+141        help=""" Only return this many results. """,
+142    )
+143    return parser
 Returns a parser for row lookup functions.
   ⁰
 def get_update_parser() -> argshell.argshell.ArgShellParser: View Source
-126def get_update_parser() -> argshell.ArgShellParser:
-127    """Returns a parser for update function."""
-128    parser = argshell.ArgShellParser(parents=[_get_base_parser()])
-129    parser.add_argument(
-130        "-c", "--column", required=True, type=str, help=""" The column to
+146def get_update_parser() -> argshell.ArgShellParser:
+147    """Returns a parser for update function."""
+148    parser = argshell.ArgShellParser(parents=[_get_base_parser()])
+149    parser.add_argument(
+150        "-c", "--column", required=True, type=str, help=""" The column to
 update. """
-131    )
-132    parser.add_argument(
-133        "-v",
-134        "--new_value",
-135        required=True,
-136        help=""" The new value to update with. """,
-137    )
-138    return parser
+151    )
+152    parser.add_argument(
+153        "-v",
+154        "--new_value",
+155        required=True,
+156        help=""" The new value to update with. """,
+157    )
+158    return parser
 Returns a parser for update function.
   ⁰
 def get_add_column_parser() -> argshell.argshell.ArgShellParser: View Source
-141def get_add_column_parser() -> argshell.ArgShellParser:
-142    """Returns a parser for the add column function."""
-143    parser = argshell.ArgShellParser()
-144    parser.add_argument(
-145        "column_name", type=str, help=""" The name of the column to add. """
-146    )
-147    parser.add_argument(
-148        "type", type=str, help=""" The data type of the column to add. """
-149    )
-150    parser.add_argument(
-151        "-t",
-152        "--tables",
-153        type=str,
-154        nargs="*",
-155        default=[],
-156        help="""Table(s) to add the column to.
-157        If not specified, the column will be added to every table in the
+161def get_add_column_parser() -> argshell.ArgShellParser:
+162    """Returns a parser for the add column function."""
+163    parser = argshell.ArgShellParser()
+164    parser.add_argument(
+165        "column_name", type=str, help=""" The name of the column to add. """
+166    )
+167    parser.add_argument(
+168        "type", type=str, help=""" The data type of the column to add. """
+169    )
+170    parser.add_argument(
+171        "-t",
+172        "--tables",
+173        type=str,
+174        nargs="*",
+175        default=[],
+176        help="""Table(s) to add the column to.
+177        If not specified, the column will be added to every table in the
 database.""",
-158    )
-159    parser.add_argument(
-160        "-d",
-161        "--default_value",
-162        default=None,
-163        help=""" Default value for the new column. """,
-164    )
-165    return parser
+178    )
+179    parser.add_argument(
+180        "-d",
+181        "--default_value",
+182        default=None,
+183        help=""" Default value for the new column. """,
+184    )
+185    return parser
 Returns a parser for the add column function.
   ⁰
 def convert_match_pairs(args: argshell.argshell.Namespace) -
 > argshell.argshell.Namespace: View Source
-169def convert_match_pairs(args: argshell.Namespace) -> argshell.Namespace:
-170    """Create a list of tuples from match_pairs."""
-171    if args.match_pairs:
-172        args.match_pairs = [
-173            (col, val)
-174            for col, val in zip(args.match_pairs[::2], args.match_pairs[1::
+189def convert_match_pairs(args: argshell.Namespace) -> argshell.Namespace:
+190    """Create a list of tuples from match_pairs."""
+191    if args.match_pairs:
+192        args.match_pairs = [
+193            (col, val)
+194            for col, val in zip(args.match_pairs[::2], args.match_pairs[1::
 2])
-175        ]
-176    return args
+195        ]
+196    return args
 Create a list of tuples from match_pairs.
   ⁰
 def verify_matching_length(args: argshell.argshell.Namespace) -
 > argshell.argshell.Namespace: View Source
-179def verify_matching_length(args: argshell.Namespace) -> argshell.Namespace:
-180    """Raise an error if -c/--columns is greater than zero and has
-181    a different number of elements than -v/--values."""
-182    if args.columns and len(args.columns) != len(args.values):
-183        raise ValueError(
-184            f"Column/Value length mismatch: {len(args.columns)} columns and
+199def verify_matching_length(args: argshell.Namespace) -> argshell.Namespace:
+200    """Raise an error if -c/--columns is greater than zero and has
+201    a different number of elements than -v/--values."""
+202    if args.columns and len(args.columns) != len(args.values):
+203        raise ValueError(
+204            f"Column/Value length mismatch: {len(args.columns)} columns and
 {len(args.values)} values provided."
-185        )
-186    return args
+205        )
+206    return args
 Raise an error if -c/--columns is greater than zero and has a different number
 of elements than -v/--values.
```

### Comparing `databased-1.6.0/src/databased/databased.py` & `databased-2.0.0/src/databased/databased.py`

 * *Files 4% similar despite different names*

```diff
@@ -230,17 +230,19 @@
             return self.cursor.fetchone()[0]
         except:
             return 0
 
     @_connect
     def add_row(
         self, table: str, values: tuple[Any], columns: tuple[str] | None = None
-    ):
+    ) -> bool:
         """Add a row of values to a table.
 
+        Returns whether the addition was successful or not.
+
         #### :params:
 
         `table`: The table to insert values into.
 
         `values`: A tuple of values to be inserted into the table.
 
         `columns`: If `None`, `values` is expected to supply a value for every column in the table.
@@ -255,21 +257,49 @@
                     values,
                 )
             else:
                 self.cursor.execute(
                     f"insert into {table} values({parameterizer});", values
                 )
             self.logger.info(f'Added "{logger_values}" to {table} table.')
+            return True
         except Exception as e:
             if "constraint" not in str(e).lower():
                 self.logger.exception(
                     f'Error adding "{logger_values}" to {table} table.'
                 )
             else:
                 self.logger.debug(str(e))
+            return False
+
+    @_connect
+    def add_rows(
+        self, table: str, values: list[tuple[Any]], columns: tuple[str] | None = None
+    ) -> tuple[int, int]:
+        """Add multiple rows of values to a table.
+
+        Returns a tuple containing the number of successful additions and the number of failed additions.
+
+        #### :params:
+
+        `table`: The table to insert values into.
+
+        `values`: A list of tuples of values to be inserted into the table.
+        Each tuple constitutes a single row to be inserted
+
+        `columns`: If `None`, `values` is expected to supply a value for every column in the table.
+        If `columns` is provided, it should contain the same number of elements as `values`."""
+        successes = 0
+        failures = 0
+        for row in values:
+            if self.add_row(table, row, columns):
+                successes += 1
+            else:
+                failures += 1
+        return (successes, failures)
 
     @_connect
     def get_rows(
         self,
         table: str,
         match_criteria: list[tuple] | dict | None = None,
         exact_match: bool = True,
@@ -376,76 +406,77 @@
         #### :params:
 
         `match_criteria`: Can be a list of 2-tuples where each tuple is `(column_name, value)`
         or a dictionary where keys are column names and values are corresponding values.
 
         `exact_match`: If `False`, the value for a given column will be matched as a substring.
         """
-        num_matches = self.count(table, match_criteria, exact_match)
         conditions = self._get_conditions(match_criteria, exact_match)
         try:
             self.cursor.execute(f"delete from {table} where {conditions};")
+            num_deletions = self.cursor.rowcount
             self.logger.info(
-                f'Deleted {num_matches} from "{table}" where {conditions}".'
+                f'Deleted {num_deletions} rows from "{table}" where {conditions}".'
             )
-            return num_matches
+            return num_deletions
         except Exception as e:
-            self.logger.debug(f'Error deleting from "{table}" where {conditions}.\n{e}')
+            self.logger.debug(
+                f'Error deleting rows from "{table}" where {conditions}.\n{e}'
+            )
             return 0
 
     @_connect
     def update(
         self,
         table: str,
         column_to_update: str,
         new_value: Any,
         match_criteria: list[tuple] | dict | None = None,
-    ) -> bool:
+        exact_match: bool = True,
+    ) -> int:
         """Update the value in `column_to_update` to `new_value` for rows matched with `match_criteria`.
 
         #### :params:
 
         `table`: The table to update rows in.
 
         `column_to_update`: The column to be updated in the matched rows.
 
         `new_value`: The new value to insert.
 
         `match_criteria`: Can be a list of 2-tuples where each tuple is `(columnName, rowValue)`
         or a dictionary where keys are column names and values are corresponding values.
         If `None`, every row in `table` will be updated.
 
-        Returns `True` if successful, `False` if not."""
+        `exact_match`: If `False`, `match_criteria` values will be treated as substrings.
+
+        Returns the number of updated rows."""
         query = f"update {table} set {column_to_update} = ?"
         conditions = ""
         if match_criteria:
-            if self.count(table, match_criteria) == 0:
-                self.logger.info(
-                    f"Couldn't find matching records in {table} table to update to '{new_value}'"
-                )
-                return False
-            conditions = self._get_conditions(match_criteria)
+            conditions = self._get_conditions(match_criteria, exact_match)
             query += f" where {conditions}"
         else:
             conditions = None
         query += ";"
         try:
             self.cursor.execute(
                 query,
                 (new_value,),
             )
+            num_updates = self.cursor.rowcount
             self.logger.info(
-                f'Updated "{column_to_update}" in "{table}" table to "{new_value}" where {conditions}'
+                f'In {num_updates} rows, updated "{column_to_update}" in "{table}" table to "{new_value}" where {conditions}'
             )
-            return True
+            return num_updates
         except Exception as e:
             self.logger.error(
                 f'Failed to update "{column_to_update}" in "{table}" table to "{new_value}" where {conditions}"\n{e}'
             )
-            return False
+            return 0
 
     @_connect
     def drop_table(self, table: str) -> bool:
         """Drop `table` from the database.
 
         Returns `True` if successful, `False` if not."""
         try:
```

### Comparing `databased-1.6.0/src/databased/dbmanager.py` & `databased-2.0.0/src/databased/dbshell.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 import argshell
 from pathier import Pathier
 
 from databased import DataBased, dbparsers
 
 
-class DBManager(argshell.ArgShell):
-    intro = "Starting dbmanager (enter help or ? for arg info)..."
+class DBShell(argshell.ArgShell):
+    intro = "Starting dbshell (enter help or ? for arg info)..."
     prompt = "based>"
     dbpath: Pathier = None  # type: ignore
 
     def do_use_db(self, arg: str):
         """Set which database file to use."""
         dbpath = Pathier(arg)
         if not dbpath.exists():
@@ -50,28 +50,30 @@
 
     @argshell.with_parser(
         dbparsers.get_add_row_parser, [dbparsers.verify_matching_length]
     )
     def do_add_row(self, args: argshell.Namespace):
         """Add a row to a table."""
         with DataBased(self.dbpath) as db:
-            db.add_row(args.table_name, args.values, args.columns or None)
+            if db.add_row(args.table_name, args.values, args.columns or None):
+                print(f"Added row to {args.table_name} table successfully.")
+            else:
+                print(f"Failed to add row to {args.table_name} table.")
 
-    def do_info(self, arg: str):
-        """Print out the names of the database tables, their columns, and the number of rows.
-        Pass a space-separated list of table names to only print info for those specific tables,
-        otherwise all tables will be printed."""
+    @argshell.with_parser(dbparsers.get_info_parser)
+    def do_info(self, args: argshell.Namespace):
+        """Print out the names of the database tables, their columns, and, optionally, the number of rows."""
         print("Getting database info...")
         with DataBased(self.dbpath) as db:
-            tables = arg.split() or db.get_table_names()
+            tables = args.tables or db.get_table_names()
             info = [
                 {
                     "Table Name": table,
                     "Columns": ", ".join(db.get_column_names(table)),
-                    "Number of Rows": db.count(table),
+                    "Number of Rows": db.count(table) if args.rowcount else "n/a",
                 }
                 for table in tables
             ]
         print(DataBased.data_to_string(info))
 
     @argshell.with_parser(dbparsers.get_lookup_parser, [dbparsers.convert_match_pairs])
     def do_show(self, args: argshell.Namespace):
@@ -141,34 +143,40 @@
         """Execute a query against the current database."""
         print(f"Executing {arg}")
         with DataBased(self.dbpath) as db:
             results = db.query(arg)
         try:
             for result in results:
                 print(*result, sep="|-|")
+            print(f"{db.cursor.rowcount} affected rows")
         except Exception as e:
             print(f"{type(e).__name__}: {e}")
 
     @argshell.with_parser(dbparsers.get_update_parser, [dbparsers.convert_match_pairs])
     def do_update(self, args: argshell.Namespace):
         """Update a column to a new value.
         Two required args: the column (-c/--column) to update and the value (-v/--value) to update to.
         Use the -t/--tables flag to limit what tables are updated.
         Use the -m/--match_pairs flag to specify which rows are updated.
+        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.
         >>> based>update -c username -v big_chungus -t users -m username lil_chungus
 
         ^will update the username in the users 'table' to 'big_chungus' where the username is currently 'lil_chungus'^"""
         print("Updating rows...")
         with DataBased(self.dbpath) as db:
             tables = args.tables or db.get_table_names()
             for table in tables:
-                if db.update(table, args.column, args.new_value, args.match_pairs):
-                    print(f"Updating rows in {table} table successful.")
-                else:
-                    print(f"Failed to update rows in {table} table.")
+                num_updates = db.update(
+                    table,
+                    args.column,
+                    args.new_value,
+                    args.match_pairs,
+                    not args.partial_matching,
+                )
+                print(f"Updated {num_updates} rows in {table} table.")
 
     @argshell.with_parser(dbparsers.get_lookup_parser, [dbparsers.convert_match_pairs])
     def do_delete(self, args: argshell.Namespace):
         """Delete rows from the database.
         Use the -t/--tables flag to limit what tables rows are deleted from.
         Use the -m/--match_pairs flag to specify which rows are deleted.
         Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.
@@ -208,26 +216,26 @@
             dbs = cwd.rglob("*.db")
         else:
             dbs = cwd.glob("*.db")
         for db in dbs:
             print(db.separate(cwd.stem))
 
     def do_customize(self, arg: str):
-        """Generate a template file in the current working directory for creating a custom DBManager class.
-        Expects one argument: the name of the custom dbmanager.
+        """Generate a template file in the current working directory for creating a custom DBShell class.
+        Expects one argument: the name of the custom dbshell.
         This will be used to name the generated file as well as several components in the file content."""
         custom_file = (Pathier.cwd() / arg.replace(" ", "_")).with_suffix(".py")
         if custom_file.exists():
             print(f"Error: {custom_file.name} already exists in this location.")
         else:
             variable_name = "_".join(word for word in arg.lower().split())
             class_name = "".join(word.capitalize() for word in arg.split())
-            content = (Pathier(__file__).parent / "custom_manager.py").read_text()
-            content = content.replace("CustomManager", class_name)
-            content = content.replace("custommanager", variable_name)
+            content = (Pathier(__file__).parent / "customshell.py").read_text()
+            content = content.replace("CustomShell", class_name)
+            content = content.replace("customshell", variable_name)
             custom_file.write_text(content)
 
     def _choose_db(self, options: list[Pathier]) -> Pathier:
         """Prompt the user to select from a list of files."""
         cwd = Pathier.cwd()
         paths = [path.separate(cwd.stem) for path in options]
         while True:
@@ -280,8 +288,8 @@
         if not self.dbpath.exists():
             raise FileNotFoundError(f"{self.dbpath} does not exist.")
         if not self.dbpath.is_file():
             raise ValueError(f"{self.dbpath} is not a file.")
 
 
 def main():
-    DBManager().cmdloop()
+    DBShell().cmdloop()
```

### Comparing `databased-1.6.0/src/databased/dbparsers.py` & `databased-2.0.0/src/databased/dbparsers.py`

 * *Files 2% similar despite different names*

```diff
@@ -32,14 +32,34 @@
         help=""" When selecting rows using a string, the string can be a substring instead of an exact match.
         i.e. "-t names -m first theo" only returns rows from names where the first name is exactly 'theo'.
         "-t names -m first theo -p" would return rows with first names of 'theo', but also rows with names like 'theodore'.  """,
     )
     return parser
 
 
+def get_info_parser() -> argshell.ArgShellParser:
+    """Returns info parser."""
+    parser = argshell.ArgShellParser()
+    parser.add_argument(
+        "-t",
+        "--tables",
+        type=str,
+        nargs="*",
+        default=[],
+        help=""" Only display info for this table(s). """,
+    )
+    parser.add_argument(
+        "-rc",
+        "--rowcount",
+        action="store_true",
+        help=""" Count and display the number of rows for each table. """,
+    )
+    return parser
+
+
 def get_create_table_parser(add_help: bool = True) -> argshell.ArgShellParser:
     """Returns a parser for adding a table to the database."""
     parser = argshell.ArgShellParser(add_help=add_help)
     parser.add_argument(
         "table_name", type=str, help=""" The name of the table to add. """
     )
     parser.add_argument(
```

### Comparing `databased-1.6.0/LICENSE.txt` & `databased-2.0.0/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `databased-1.6.0/README.md` & `databased-2.0.0/README.md`

 * *Files 6% similar despite different names*

```diff
@@ -69,41 +69,42 @@
 +------------+----------------+-----------+-----------------------------+
 | 3          | glass          | round     | 2022-12-14 18:19:31.501745  |
 +------------+----------------+-----------+-----------------------------+
 | 6          | granite        | rectangle | 2022-12-14 18:19:31.501745  |
 +------------+----------------+-----------+-----------------------------+
 </pre>
 
-`databased` also comes with an interactive shell called `dbmanager`, which is built from the [argshell](https://github.com/matt-manes/argshell) package.<br>
-It can be launched from the terminal by entering `dbmanager`
+`databased` also comes with an interactive shell called `dbshell`, which is built from the [argshell](https://github.com/matt-manes/argshell) package.<br>
+It can be launched from the terminal by entering `dbshell`
 <pre>
-databased\tests>dbmanager
+databased\tests>dbshell
 Searching for database...
 DB options:
 (1) test.db (2) test_bckup.db
 Enter the number of the option to use: 1
-Starting dbmanager (enter help or ? for arg info)...
+Starting dbshell (enter help or ? for arg info)...
 based>help
 
 Documented commands (type help {topic}):
 ========================================
 add_column  backup     dbpath      flush_log  query     search  sys
 add_row     count      delete      help       quit      show    update
 add_table   customize  drop_table  info       scan_dbs  size    use_db
 
 >based help update
 Update a column to a new value.
-        Two required positional args: the column to update and the value to update to.
+        Two required args: the column (-c/--column) to update and the value (-v/--value) to update to.
         Use the -t/--tables flag to limit what tables are updated.
         Use the -m/--match_pairs flag to specify which rows are updated.
-        >>> based>update username big_chungus -t users -m username lil_chungus
+        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.
+        >>> based>update -c username -v big_chungus -t users -m username lil_chungus
 
         ^will update the username in the users 'table' to 'big_chungus' where the username is currently 'lil_chungus'^
 Parser help for update:
-usage: dbmanager [-h] [-t [TABLES ...]] [-m [MATCH_PAIRS ...]] [-p] -c COLUMN -v NEW_VALUE
+usage: dbshell [-h] [-t [TABLES ...]] [-m [MATCH_PAIRS ...]] [-p] -c COLUMN -v NEW_VALUE
 
 options:
   -h, --help            show this help message and exit
   -t [TABLES ...], --tables [TABLES ...]
                         Limits command to a specific list of tables
   -m [MATCH_PAIRS ...], --match_pairs [MATCH_PAIRS ...]
                         Pairs of columns and values to use for narrowing the scope of row operations. i.e. 'find -t users -m name Bob state Alaska last_login *' will print all rows from the users table that have the name Bob, are from the state Alaska, and last logged in at any
```

### Comparing `databased-1.6.0/pyproject.toml` & `databased-2.0.0/pyproject.toml`

 * *Files 12% similar despite different names*

```diff
@@ -2,15 +2,15 @@
 requires = ["hatchling"]
 build-backend = "hatchling.build"
 
 [project]
 name = "databased"
 authors = [{name="Matt Manes"}]
 description = "Wrapper for the standard library Sqlite3 module to make setting up and using a database quicker and easier."
-version = "1.6.0"
+version = "2.0.0"
 requires-python = ">=3.10"
 dependencies = ["pandas", "tabulate", "pytest", "argshell", "pathier"]
 readme = "README.md"
 keywords = [
     "database",
     "sqlite",
     "sqlite3"
@@ -36,8 +36,8 @@
 exclude = [
     ".coverage",
     ".pytest_cache",
     ".vscode",
     "tests"
 ]
 [project.scripts]
-dbmanager = "databased.dbmanager:main"
+dbshell = "databased.dbshell:main"
```

### Comparing `databased-1.6.0/PKG-INFO` & `databased-2.0.0/PKG-INFO`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: databased
-Version: 1.6.0
+Version: 2.0.0
 Summary: Wrapper for the standard library Sqlite3 module to make setting up and using a database quicker and easier.
 Project-URL: Homepage, https://github.com/matt-manes/databased
 Project-URL: Documentation, https://github.com/matt-manes/databased/tree/main/docs
 Project-URL: Source code, https://github.com/matt-manes/databased/tree/main/src/databased
 Author: Matt Manes
 License-File: LICENSE.txt
 Keywords: database,sqlite,sqlite3
@@ -90,41 +90,42 @@
 +------------+----------------+-----------+-----------------------------+
 | 3          | glass          | round     | 2022-12-14 18:19:31.501745  |
 +------------+----------------+-----------+-----------------------------+
 | 6          | granite        | rectangle | 2022-12-14 18:19:31.501745  |
 +------------+----------------+-----------+-----------------------------+
 </pre>
 
-`databased` also comes with an interactive shell called `dbmanager`, which is built from the [argshell](https://github.com/matt-manes/argshell) package.<br>
-It can be launched from the terminal by entering `dbmanager`
+`databased` also comes with an interactive shell called `dbshell`, which is built from the [argshell](https://github.com/matt-manes/argshell) package.<br>
+It can be launched from the terminal by entering `dbshell`
 <pre>
-databased\tests>dbmanager
+databased\tests>dbshell
 Searching for database...
 DB options:
 (1) test.db (2) test_bckup.db
 Enter the number of the option to use: 1
-Starting dbmanager (enter help or ? for arg info)...
+Starting dbshell (enter help or ? for arg info)...
 based>help
 
 Documented commands (type help {topic}):
 ========================================
 add_column  backup     dbpath      flush_log  query     search  sys
 add_row     count      delete      help       quit      show    update
 add_table   customize  drop_table  info       scan_dbs  size    use_db
 
 >based help update
 Update a column to a new value.
-        Two required positional args: the column to update and the value to update to.
+        Two required args: the column (-c/--column) to update and the value (-v/--value) to update to.
         Use the -t/--tables flag to limit what tables are updated.
         Use the -m/--match_pairs flag to specify which rows are updated.
-        >>> based>update username big_chungus -t users -m username lil_chungus
+        Use the -p/--partial_matching flag to enable substring matching on -m/--match_pairs.
+        >>> based>update -c username -v big_chungus -t users -m username lil_chungus
 
         ^will update the username in the users 'table' to 'big_chungus' where the username is currently 'lil_chungus'^
 Parser help for update:
-usage: dbmanager [-h] [-t [TABLES ...]] [-m [MATCH_PAIRS ...]] [-p] -c COLUMN -v NEW_VALUE
+usage: dbshell [-h] [-t [TABLES ...]] [-m [MATCH_PAIRS ...]] [-p] -c COLUMN -v NEW_VALUE
 
 options:
   -h, --help            show this help message and exit
   -t [TABLES ...], --tables [TABLES ...]
                         Limits command to a specific list of tables
   -m [MATCH_PAIRS ...], --match_pairs [MATCH_PAIRS ...]
                         Pairs of columns and values to use for narrowing the scope of row operations. i.e. 'find -t users -m name Bob state Alaska last_login *' will print all rows from the users table that have the name Bob, are from the state Alaska, and last logged in at any
```

